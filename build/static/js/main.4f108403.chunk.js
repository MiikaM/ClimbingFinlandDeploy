(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,a,n){},104:function(e,a,n){e.exports=n.p+"static/media/avatar.747f526f.svg"},105:function(e,a,n){},107:function(e,a,n){e.exports=n.p+"static/media/search.422d423f.svg"},124:function(e,a,n){},125:function(e,a,n){},131:function(e,a,n){e.exports=n.p+"static/media/logo-blue.a150db00.svg"},135:function(e,a,n){e.exports=n.p+"static/media/search-blue.df215230.svg"},136:function(e,a,n){e.exports=n.p+"static/media/roya-ann-miller-G2QYE9czCEw-unsplash.c46cf8c9.jpg"},137:function(e,a,n){e.exports=n.p+"static/media/close.da67cfb9.svg"},138:function(e,a,n){e.exports=n.p+"static/media/settings.c5e2e3d7.svg"},139:function(e,a,n){e.exports=n.p+"static/media/logout.cb7690d4.svg"},140:function(e,a,n){e.exports=n.p+"static/media/mail.d8864552.svg"},141:function(e,a,n){e.exports=n.p+"static/media/world.7fc624ab.svg"},142:function(e,a,n){e.exports=n.p+"static/media/google-place.c9e3a731.svg"},143:function(e,a,n){e.exports=n.p+"static/media/phone.e3aed7d1.svg"},148:function(e,a,n){e.exports=n(206)},156:function(e,a,n){},173:function(e,a,n){},174:function(e,a,n){},193:function(e,a,n){},195:function(e,a,n){},196:function(e,a,n){},197:function(e,a,n){e.exports=n.p+"static/media/chad-madden-8mCMQSq41gQ-unsplash.2c05fe38.jpg"},198:function(e,a,n){},200:function(e,a){},201:function(e,a,n){},202:function(e,a){},203:function(e,a,n){e.exports=n.p+"static/media/colton-sturgeon-odKeTFsBDgE-unsplash.54b0f1ec.jpg"},204:function(e,a,n){},205:function(e,a,n){},206:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(32),o=n.n(l),c=n(16),s=n(6),i=(n(156),n(5)),u=n.n(i),m=n(7),p=n(14),d=n(37),g=n.n(d),E=n(106),v=n.n(E),f=n(11),h=(n(225),n(226),n(227),n(229),n(223)),b=(Object(h.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)},moreNested:{paddingLeft:e.spacing(6)}}})),n(43)),w=function(e,a,n){if("Closed"===n[0]||"Closed"===n[1])return!1;var t=Number(n[0].split(":")[0]),r=Number(n[0].split(":")[1]),l=Number(n[1].split(":")[0]),o=Number(n[1].split(":")[1]);if(e>t&&e<l)return!0;if(e===t){if(a>=r)return!0}else if(e===l&&a<=o)return!0;return!1},y=function(e){var a,n=new Date,t=n.getDay(),r=n.getHours(),l=n.getMinutes();switch(t){case 0:return a=[e.sun.open,e.sun.close],w(r,l,a);case 1:return a=[e.mon.open,e.mon.close],w(r,l,a);case 2:return a=[e.tue.open,e.tue.close],w(r,l,a);case 3:return a=[e.wed.open,e.wed.close],w(r,l,a);case 4:return a=[].concat(Object(b.a)(e.thu.open),[e.thu.close]),w(r,l,a);case 5:return a=[e.fri.open,e.fri.close],w(r,l,a);case 6:return a=[e.sat.open,e.sat.close],w(r,l,a);default:return null}},N=function(e){var a=e.place,n=Object(t.useState)(!1),l=Object(f.a)(n,2),o=(l[0],l[1],Object(t.useState)(!1)),c=Object(f.a)(o,2),s=(c[0],c[1],a.prices&&a.prices,a.openingHours?a.openingHours:null);y(s);return r.a.createElement("li",{className:"place-wrapper"},r.a.createElement("div",{className:"place-card"},r.a.createElement("a",{href:"/gym/".concat(a.name," ")},r.a.createElement("img",{src:a.image,alt:"".concat(a.name," sali"),className:"place"})),r.a.createElement("div",{className:"place-text-wrapper"},r.a.createElement("h2",{className:"place-header"},a.name),r.a.createElement("blockquote",{className:"place-description"},a.description),r.a.createElement("button",{className:"readmore-button"},r.a.createElement("a",{href:"/gym/".concat(a.name," ")}," Read more")))))},O=function(e){var a=e.search,n=Object(s.c)((function(e){return e.places})).sort((function(e){return e.name})),t=""===a?n:n.filter((function(e){return e.name.toUpperCase().startsWith(a.toUpperCase())}));return r.a.createElement("ul",{className:"place-list"},t.map((function(e){return r.a.createElement(N,{key:e.id,place:e})})))},C=(n(173),n(131)),H=n.n(C),j=(n(174),n(86)),k=n.n(j),x=n(3),S=n(12),P=n.n(S),F=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat("/api","/contact"),a,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat("/api","/forgot"),a,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("".concat("/api","/passwordReset"),a,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=n(4),D=n(58),I=n(228),U=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return function(t){t({type:"NOTIFICATION",notification:{title:e.title,message:e.message,type:a,time:n,id:Object(I.a)()}})}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NOTIFICATION":return[].concat(Object(b.a)(e),[Object(D.a)({},a.notification)]);case"CLEAR_NOTIFICATION":return console.log({action:a}),e.filter((function(e){return e.id!==a.id}));default:return e}},_=function(){var e=Object(s.b)(),a=function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,F(n);case 3:a.sent,e(U({title:"Done",message:"Thank you for contacting us. Your email has been sent"})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e(U({title:"Error",message:"Oh no an error has occured ".concat(a.t0.response.data.error)},"error"));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),n=A.d({name:A.f().required("Name is required."),email:A.f().email("Must be a valid email").required("Required"),message:A.f().required().min(10,"Message should be atleast 10 characters long.")});return r.a.createElement(x.d,{validateOnChange:!0,validationSchema:n,initialValues:{name:"",email:"",message:""},onSubmit:function(e,n){var t=n.setSubmitting,r=n.resetForm;t(!0),a(e),t(!1),r()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(x.c,{className:"footer-form"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"name",value:a.name,type:"input"})),n.name?r.a.createElement("div",{className:"form-error-message"},n.name):null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"email",value:a.email,type:"input"})),n.email?r.a.createElement("div",{className:"form-error-message"},n.email):null,r.a.createElement("label",{htmlFor:"name"},"Message"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{component:"textarea",name:"message",value:a.message,placeholder:"message...",multiline:"true",rows:3})),n.message?r.a.createElement("div",{className:"form-error-message"},n.message):null,r.a.createElement("button",{disabled:t,type:"submit",className:"contact-submit"},"Send"))}))},M=function(){return r.a.createElement("section",{className:"footer"},r.a.createElement("div",{className:"footer-bg"},r.a.createElement("div",{className:"wrapper "},r.a.createElement("div",{className:"footer-upper-wrapper"},r.a.createElement("div",{className:"footer-headers"},r.a.createElement("h2",null,"Are there any other places?"),r.a.createElement("h2",null,"Let us know!")),r.a.createElement("div",{className:"footer-form-wrapper"},r.a.createElement(_,null))))),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footer-lower-wrapper"},r.a.createElement("img",{src:k.a,alt:"footer logo",className:"footer-logo"}),r.a.createElement("ul",{className:"footer-list"},r.a.createElement("li",null,"Terms"),r.a.createElement("li",null,"Privacy"),r.a.createElement("li",null,"Our mission"),r.a.createElement("li",null,"Work with us"),r.a.createElement("li",null,"Help")))))},L=n(135),V=n.n(L),G={login:function(){var e=Object(m.a)(u.a.mark((function e(a){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:"onSite",user:Object(D.a)({},a)},e.next=3,P.a.post("/api/login",n,{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),googleLogin:function(){var e=Object(m.a)(u.a.mark((function e(a){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({user_token:a}),n={headers:{Authorization:"Bearer ".concat(a)},withCredentials:!0},e.next=4,P.a.post("/api/login",{type:"google"},n);case 4:return t=e.sent,e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("".concat("/api/login","/check"),{withCredentials:!0});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on getUser",{err:e.t0});case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),logoutUser:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("".concat("/api/login","/logout"),{withCredentials:!0});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},J={signInFlow:"popup",signInSuccessUrl:"https://climbing-finland-v2.herokuapp.com/",signinOptions:[g.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:!1}},W=function(e){return console.log({user_token:e}),function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.googleLogin(e);case 3:t=a.sent,n({type:"LOGIN",data:t}),n(U({title:"Done",message:"Successfully logged in!"})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n(U({title:"Error",message:"Login failed ".concat(a.t0.response.data.error)},"error")),console.error("Error on google login: ",a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.getUser();case 3:n=e.sent,console.log({check:n}),n?a({type:"GET_USER",data:n}):(window.localStorage.clear(),g.a.auth().signOut()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()},z=function(){return function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.logoutUser();case 3:e.sent,a({type:"LOGOUT"}),a(U({title:"Done",message:"You have logged out!"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(U({title:"Error",message:"Logout failed ".concat(e.t0.response.data.error)},"error"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{session:!0},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return window.localStorage.setItem("login",JSON.stringify(a.data)),a.data;case"LOGOUT":return window.localStorage.clear(),g.a.auth().signOut(),window.location.reload(!0),{session:!0};case"GET_USER":return console.log("action data",a.data),window.localStorage.setItem("login",JSON.stringify(a.data)),a.data;default:return e}},K=(n(193),n(136)),Q=n.n(K),X=function(e){var a=Object(s.b)(),n=(Object(p.f)(),Object(s.c)((function(e){return e.session})),function(e){a(function(e){return function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.login(e);case 3:t=a.sent,n({type:"LOGIN",data:t}),n(U({title:"Done",message:"Successfully logged in!"})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n(U({title:"Error",message:"Login failed ".concat(a.t0.response.data.error)},"error")),console.error("Error on login: ",{err:a.t0});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(e))}),t=A.d({username:A.f().required("Required"),password:A.f().required("Password required")});return r.a.createElement(x.d,{validateOnChange:!0,validationSchema:t,initialValues:{username:"",password:""},onSubmit:function(e,a){var t=a.setSubmitting,r=a.resetForm;t(!0),n(e),t(!1),r()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(x.c,null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"username",value:a.username,type:"input"})),n.username?r.a.createElement("div",{className:"form-error-message"},n.username):null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"password",value:a.password,type:"password"})),n.password?r.a.createElement("div",{className:"form-error-message"},n.password):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Log in"))}))},Z=n(137),$=n.n(Z),ee=function(e){var a=e.close,n=(Object(s.b)(),Object(p.f)());return r.a.createElement("section",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-image"},r.a.createElement("img",{src:Q.a,alt:""})),r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-header"},r.a.createElement("h2",null,"Log in"),r.a.createElement("img",{src:$.a,alt:"",onClick:a})),r.a.createElement(X,null),r.a.createElement(v.a,{uiConfig:J,firebaseAuth:g.a.auth()}),r.a.createElement("p",{className:"login-small",onClick:function(){return n.push("/forgot")},style:{cursor:"pointer"}},"Forgot password?"),r.a.createElement("p",{className:"login-small",onClick:function(){return n.push("/register")},style:{cursor:"pointer"}},"Don't have an account?")))))},ae=(n(195),function(e){var a=e.open,n=e.children,t=e.onClose,l=Object(s.c)((function(e){return e.session}));return a&&l&&l.session?o.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-bg",onClick:t}),r.a.createElement("div",{className:"modal"},n)),document.getElementById("portal")):null}),ne=(n(103),n(104),n(138)),te=n.n(ne),re=n(139),le=n.n(re),oe=function(e){var a=e.user,n=Object(s.b)(),t=Object(p.f)();return r.a.createElement("div",{className:"dropdown"},r.a.createElement(c.b,{to:{pathname:"/".concat(a.username,"/settings"),user:a}},r.a.createElement("img",{src:te.a,className:"little-nav-icon",alt:"user"})," Settings"),r.a.createElement(c.b,{to:{pathname:"/#"},onClick:function(e){e.preventDefault(),n(z()),t.push("/")}},r.a.createElement("img",{src:le.a,className:"little-nav-icon",alt:"user"})," Logout"))},ce=n(41),se=function(e){var a=e.modal,n=e.user,l=e.page,o=Object(t.useState)(!1),c=Object(f.a)(o,2),s=c[0],i=c[1],u=(Object(ce.b)({opacity:1,marginTop:0,from:{opacity:0,marginTop:-500}}),Object(ce.b)({cursor:"pointer",opacity:1,from:{opacity:0},config:{delay:1e3,duration:1e3}}));if(!n)return null;console.log({user:n}),console.log({user:n});return r.a.createElement("nav",null,r.a.createElement("ul",null,n.session?r.a.createElement(ce.a.li,{style:u,onClick:a},"Log in"):r.a.createElement("li",null,r.a.createElement(ce.a.img,{style:u,onError:function(e){e.target.src="".concat(n.avatar)},src:"main"===l?n.avatar:"../".concat(n.avatar),className:"nav-icon",alt:"user",onClick:function(){return i(!s)}}),s&&r.a.createElement(oe,{user:n}))))},ie=n(87),ue=n.n(ie),me=n(107),pe=n.n(me),de=(n(196),function(e){var a=e.page,n=void 0===a?"secondary":a,l=Object(s.b)(),o=Object(ce.b)({opacity:1,marginTop:0,from:{opacity:0,marginTop:-500}}),c=Object(ce.b)({cursor:"pointer",opacity:1,from:{opacity:0},config:{delay:1e3,duration:1e3}}),i=Object(t.useState)(!1),u=Object(f.a)(i,2),m=u[0],d=u[1],g=Object(p.f)(),E=Object(s.c)((function(e){return e.session}));return Object(t.useEffect)((function(){l(Y())}),[]),E?(console.log({isOpen:m}),console.log({user:E}),r.a.createElement("div",null,r.a.createElement(ce.a.section,{style:o,className:"nav-header ".concat(n)},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"search"},"main"===n?null:r.a.createElement(ce.a.img,{style:c,src:ue.a,alt:"",className:"header-logo",onClick:function(){return g.push("/")}}),r.a.createElement("img",{src:pe.a,className:"search-icon",alt:"search-icon"}),r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search..."})),r.a.createElement(se,{modal:function(e){e.preventDefault(),d(!0)},user:E,page:n})))),r.a.createElement(ae,{open:m,onClose:function(){return d(!1)}},r.a.createElement(ee,{close:function(){return d(!1)}})))):null}),ge=function(e){var a=Object(s.b)(),n=Object(t.useState)(!1),l=Object(f.a)(n,2),o=(l[0],l[1],Object(t.useState)(!1)),c=Object(f.a)(o,2),i=c[0],u=c[1],m=(Object(s.c)((function(e){return e.session})),Object(t.useState)("")),p=Object(f.a)(m,2),d=p[0],g=p[1];Object(t.useEffect)((function(){e.location.open&&u(e.location.open),a(Y())}),[]);return r.a.createElement("div",null,r.a.createElement("section",{className:"hero-home"},r.a.createElement("div",{className:"wrappers"},r.a.createElement(de,{page:"main"}),r.a.createElement("div",{className:"hero-content-home"},r.a.createElement("img",{src:H.a,alt:"Top logo",className:"top-logo"}),r.a.createElement("p",{className:"subtitle"},"Find the best climbing gym for you")))),r.a.createElement(ae,{open:i,onClose:function(){return u(!1)}},r.a.createElement(ee,{close:function(){return u(!1)}})),r.a.createElement("section",{className:"place-window-wrapper"},r.a.createElement("div",{className:"wrapper "},r.a.createElement("div",{className:"search-container-main"},r.a.createElement("img",{src:V.a,alt:"",className:"search-icon-main"}),r.a.createElement("input",{type:"text",className:"search-bar-main",onChange:function(e){return g(e.target.value)},placeholder:"Search..."})),r.a.createElement(O,{search:d}))),r.a.createElement(M,null))},Ee={getAll:function(){return P.a.get("/api/comments",{withCredentials:!0}).then((function(e){return e.data}))},getComments:function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log({place_name:a}),void 0===a){e.next=6;break}return e.next=4,P.a.get("".concat("/api/comments","/").concat(a),{withCredentials:!0});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),addComment:function(){var e=Object(m.a)(u.a.mark((function e(a,n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(D.a)(Object(D.a)({},a),{},{id:n}),e.next=3,P.a.post("/api/comments",t,{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),deleteObject:function(e){return P.a.delete("".concat("/api/comments","/").concat(e),{withCredentials:!0}).then((function(e){return e.data}))}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_COMMENT":return e.concat(a.data);case"DELETE":return e.filter((function(e){return e.id!==a.data.id}));case"INIT_COMMENTS":case"GET_COMMENTS":return a.data;default:return e}},fe=(n(197),n(105),function(e){var a=e.place_id,n=Object(s.b)(),t=Object(s.c)((function(e){return e.session})),l=function(e){n(function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.addComment(e,a);case 3:r=n.sent,t({type:"ADD_COMMENT",data:r}),t(U({title:"Done",message:"You commented! Nice!"})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t(U({title:"Error",message:"Sorry server didn't like that comment. Try again."},"error")),console.error("Error on addComment dispatch: ",n.t0.response.data.error);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,a))},o=A.d({comment:A.f().min(2,"Message should be atleast 2 characters long.").required("Required")});return r.a.createElement("section",{className:"cmform-wrapper"},r.a.createElement("div",{className:"wrapper"},(null===t||void 0===t?void 0:t.session)?r.a.createElement("h3",{className:"placeholder"},"You must be logged in to comment!"):r.a.createElement("div",{className:"cmbox-wrapper"},r.a.createElement("img",{onError:function(e){console.log({user:t}),e.target.src="".concat(t.avatar)},src:"../".concat(t.avatar),alt:"profile"}),r.a.createElement(x.d,{initialValues:{comment:""},validateOnChange:!0,validationSchema:o,onSubmit:function(e,a){var n=a.setSubmitting,t=a.resetForm;n(!0),l(e),n(!1),t()}},(function(e){e.values,e.handleChange,e.handleBlur;var a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a,className:"cmform"},r.a.createElement(x.a,{component:"textarea",name:"comment",type:"input",placeholder:"your comment",multiline:"true",rows:1}),r.a.createElement("button",{type:"submit",className:"submit cmbox-button"}," Comment"))})))))}),he=function(e){var a=e.comment;console.log({comment:a});var n=a.user,t=new Date(a.date),l="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear());if(!a)return null;return r.a.createElement("li",{className:"card"},r.a.createElement("div",{className:"comment"},r.a.createElement("div",{className:"comment-meta"},r.a.createElement("img",{onError:function(e){console.log({user:n}),e.target.src="".concat(n.avatar),console.log("e.target.src ",e.target.src)},src:"../../".concat(n.avatar),alt:"",className:"comment-avatar"})),r.a.createElement("div",{className:"comment-meta-meta"},r.a.createElement("strong",null," ",n.name),r.a.createElement("p",{className:"timestamp"},l)),r.a.createElement("div",{className:"comment-body"},r.a.createElement("blockquote",null,a.comment))))},be=function(e){var a=e.header,n=Object(s.c)((function(e){return e.comments}));return r.a.createElement("section",{className:"comments-wrapper"},r.a.createElement("div",{className:"wrapper align"},r.a.createElement("h2",null,a),n.length<1?r.a.createElement("h3",null,"Be the first one to comment!"):r.a.createElement("ul",{className:"comment-list-wrapper"},n.map((function(e){return r.a.createElement(he,{key:e.id,comment:e})})))))},we=n(140),ye=n.n(we),Ne=n(141),Oe=n.n(Ne),Ce=n(142),He=n.n(Ce),je=n(143),ke=n.n(je),xe=(n(198),function(e){var a=e.price,n=e.name;return r.a.createElement("li",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"upper-category"},r.a.createElement("h2",null,n),r.a.createElement("div",{className:"text-wrapper"},r.a.createElement("div",{className:"text"},r.a.createElement("strong",null,a.onetime,"\u20ac",r.a.createElement("br",null),"/kerta")))),r.a.createElement("div",{className:"lower-category"},r.a.createElement("p",null,a.tentime,"\u20ac",r.a.createElement("br",null),"/10x-kertaa"),r.a.createElement("p",null,a.month,"\u20ac",r.a.createElement("br",null),"/kuukausi"))))}),Se=function(){var e=Object(s.b)(),a=Object(s.c)((function(e){return e.places})),n=["first","second","third","fourth","fifth","sixth","seventh","eight","nineth","tenth"],l=Object(p.g)("/gym/:place_name"),o=l?a.find((function(e){return e.name===l.params.place_name})):null;if(Object(t.useEffect)((function(){var a,n;console.log({match:l}),void 0!==(null===l||void 0===l||null===(a=l.params)||void 0===a?void 0:a.place_name)&&e((n=l.params.place_name,function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.getComments(n);case 3:t=e.sent,a({type:"GET_COMMENTS",data:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(U({title:"Error",message:"There was an error loading the database. Please try again later."},"error")),console.error("Error on initialize comments: ",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()))}),[o]),!o)return null;var c=o.image.replace(/\\/g,"/");return console.log({image:c,match:l,places:a}),r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("section",{className:"hero-wrapper",style:{background:"url('../".concat(c,"')"),backgroundSize:"cover",backgroundPosition:"50% 45%",borderRadius:"0 0 10px 10px"}}),r.a.createElement("section",{className:"info-sec"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"hero-content-place"},r.a.createElement("h1",null,o.name),r.a.createElement("p",{className:"subtitle-place"},o.description)))),r.a.createElement("section",{className:"content-wrapper"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content-grid"},r.a.createElement("div",{className:"card opening-wrapper margin-left"},r.a.createElement("h2",null,"Aukioloajat"),r.a.createElement("ul",{className:"opening-list"},r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Mon"),r.a.createElement("p",null,o.openingHours.mon.open," - ",o.openingHours.mon.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Tue"),r.a.createElement("p",null,o.openingHours.tue.open," - ",o.openingHours.tue.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Wed"),r.a.createElement("p",null,o.openingHours.wed.open," - ",o.openingHours.wed.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Thu"),r.a.createElement("p",null,o.openingHours.thu.open," - ",o.openingHours.thu.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Fri"),r.a.createElement("p",null,o.openingHours.fri.open," - ",o.openingHours.fri.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Sat"),r.a.createElement("p",null,o.openingHours.sat.open," - ",o.openingHours.sat.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Sun"),r.a.createElement("p",null,o.openingHours.sun.open," - ",o.openingHours.sun.close)))),r.a.createElement("div",{className:"card margin-right"},r.a.createElement("h2",null,"Info"),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,r.a.createElement("img",{src:ye.a,alt:""}),r.a.createElement("p",{className:"place-info"},o.email)),r.a.createElement("li",null,r.a.createElement("img",{src:Oe.a,alt:""}),r.a.createElement("a",{href:o.url,className:"place-info"},o.url)),r.a.createElement("li",null,r.a.createElement("img",{src:He.a,alt:""}),r.a.createElement("p",{className:"place-info"},o.address)),r.a.createElement("li",null,r.a.createElement("img",{src:ke.a,alt:""}),r.a.createElement("p",{className:"place-info"},o.phone)))),r.a.createElement("div",{className:"card margin-left"},r.a.createElement("h2",null,"Tags"),r.a.createElement("ul",{className:"likes-user"},o.tags.map((function(e,a){return r.a.createElement("li",{key:a,className:"tag-item ".concat(n[Math.floor(Math.random()*n.length)])},r.a.createElement("p",null,e))}))))))),r.a.createElement("section",{className:"prices"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Hinnasto"),r.a.createElement("blockquote",null,r.a.createElement("strong",null,"HUOM!")," Hinnat ovat suuntaa antavia. Hinnat eiv\xe4t v\xe4ltt\xe4m\xe4tt\xe4 pid\xe4 paikkaansa jos sivuja ei ole ehditty p\xe4ivitt\xe4m\xe4\xe4n. Hinnat eiv\xe4t my\xf6sk\xe4\xe4n sis\xe4ll\xe4 tarvike vuokria."),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("ul",{className:"price-list"},o.prices.map((function(e){return r.a.createElement(xe,{key:e.name,price:e,name:e.name})})))))),r.a.createElement(be,{header:"Kommentit",place_id:o.id}),r.a.createElement(fe,{place_id:o.id}),r.a.createElement(M,null))},Pe={getAll:function(){return P.a.get("/api/places").then((function(e){return e.data}))},add:function(){var e=Object(m.a)(u.a.mark((function e(a){var n,t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("add placeService tapahtuu"),console.log({data:a}),n=JSON.stringify(a),(t=new FormData).append("place",n),console.log({formData:t}),e.next=8,P.a.post("/api/places",t,{withCredentials:!0});case 8:return r=e.sent,e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),update:function(e,a){console.log("update placeService tapahtuu"),console.log({id:e},{data:a});var n=JSON.stringify(a);console.log({id:e,data:a,placeData:n});var t=new FormData;return t.append("place",n),P.a.put("".concat("/api/places","/").concat(e),t,{withCredentials:!0}).then((function(e){return e.data}))},deleteObject:function(e){return P.a.delete("".concat("/api/places","/").concat(e),{withCredentials:!0}).then((function(e){return e.data}))}},Fe=function(e){return function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Pe.add(e);case 3:t=a.sent,n({type:"NEW_PLACE",data:t}),n(U({title:"Done",message:"New place created!"})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n(U({title:"Error",message:"Couldn't create a place: ".concat(a.t0.response.data.error)},"error")),console.error("Error on createPlace: ",a.t0.response.data.error);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},qe=function(e,a){return console.log("Update place tapahtuu"),function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Pe.update(e,a);case 3:r=n.sent,t({type:"UPDATE_PLACE",data:r}),t(U({title:"Done",message:"Place info updated!"})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t(U({title:"Error",message:"Couldn't update a place: ".concat(n.t0.response.data.error)},"error")),console.error("Error on updatePlace: ",n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEW_PLACE":return e.concat(a.data);case"UPDATE_PLACE":var n=a.data.id;return e.map((function(e){return e.id!==n?e:a.data}));case"INIT_PLACES":return a.data;default:return e}},Ae={getAll:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/api/users");case 2:return a=e.sent,e.abrupt("return",a.then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateUserInfo:function(){var e=Object(m.a)(u.a.mark((function e(a,n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("userService update user",{username:a},{data:n}),e.next=3,P.a.put("".concat("/api/users","/").concat(a),n,{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(m.a)(u.a.mark((function e(a,n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.put("".concat("/api/users","/changePassword/").concat(a),n,{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post("/api/users",a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({username:a}),e.next=3,P.a.delete("".concat("/api/users","/").concat(a),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},De=function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ae.updateUserInfo(e,a);case 3:r=n.sent,console.log({newUserInfo:r}),t({type:"UPDATE_USER",data:r}),t(Y()),t(U({title:"Done",message:"Your information has been updated."})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t(U({title:"Error",message:"Sorry, couldn't update your information."},"error"));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_USER":return console.log("tapathuu UPDATE_USER"),window.localStorage.setItem("login",JSON.stringify(a.data)),e;case"CREATE_USER":case"CHANGE_PASSWORD":case"DELETE_USER":default:return e}},Ue=n(8),Re=n.n(Ue),_e=(n(115),n(199),Re.a.initializeApp({apiKey:"AIzaSyCVmpjoCpS53LqU26ee693vwbKwIp3-0Mg",authDomain:"climbingfinland-cf142.firebaseapp.com",databaseURL:"https://climbingfinland-cf142.firebaseio.com",projectId:"climbingfinland-cf142",storageBucket:"climbingfinland-cf142.appspot.com",messagingSenderId:"513581301963",appId:"1:513581301963:web:e50aa3799f9ae5bc4c1b4e",measurementId:"G-H8QRV1L13W"})),Me=_e.auth(),Le=(Re.a.storage(),n(200),n(201),function(e){var a=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"name"},"Name*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"name",type:"input"})),a.name?r.a.createElement("div",{className:"form-error-message"},a.name):null,r.a.createElement("label",{htmlFor:"email"},"Email*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"email",type:"input"})),a.email?r.a.createElement("div",{className:"form-error-message"},a.email):null,r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"city",type:"input"})),a.city?r.a.createElement("div",{className:"form-error-message"},a.city):null)}),Ve=function(e){var a=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"username"},"Username*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"username",type:"input"})),a.username?r.a.createElement("div",{className:"form-error-message"},a.username):null,r.a.createElement("label",{htmlFor:"password"},"Password*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"password",type:"password"})),a.password?r.a.createElement("div",{className:"form-error-message"},a.password):null,r.a.createElement("label",{htmlFor:"passwordagain"},"Confirm Password*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"passwordagain",type:"password"})),a.passwordagain?r.a.createElement("div",{className:"form-error-message"},a.passwordagain):null,r.a.createElement("label",{htmlFor:"adminVerification"},"Admin verification"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"adminVerification",type:"password"})),a.adminVerification?r.a.createElement("div",{className:"form-error-message"},a.adminVerification):null)},Ge=function(){var e=Object(s.b)(),a=Object(p.f)(),n=Object(t.useState)(0),l=Object(f.a)(n,2),o=l[0],i=l[1],d="wrapper".concat(o+1),g=function(a){try{e(function(e){return function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ae.createUser(e);case 3:t=a.sent,n({type:"CREATE_USER",data:t}),n(U({title:"Done",message:"Registeration successful. Please go confirm you'r email address before trying to log in."})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("Error on create user",{err:a.t0}),n(U({title:"Error",message:"Sorry, couldn't create a new account. Try again later."},"error"));case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a))}catch(n){console.log("Error on register submit",n.error)}},E=A.d({name:A.f().required("Name is required."),username:A.f().required("Username required").min(6,"Minimum length is 6 characters"),email:A.f().email("Must be a valid email").required("Email required"),password:A.f().required("Password required").min(10,"Password must be atleast 10 characters long"),passwordagain:A.f().required("Password required").oneOf([A.e("password")],"Passwords must match"),city:A.f().required("Where do you live?")});return r.a.createElement("div",{className:"".concat(d," register-wrapper")},r.a.createElement("h2",null,"Register"),r.a.createElement(x.d,{validateOnChange:!0,validationSchema:E,initialValues:{username:"",password:"",passwordagain:"",name:"",email:"",city:"",adminVerification:""},onSubmit:function(e,n){var t=n.setSubmitting;n.resetForm;t(!0),g(e),t(!1),a.push("/")}},(function(e){e.values;var a=e.errors,n=e.isSubmitting;return r.a.createElement(x.c,null,0===o?r.a.createElement(Ve,{errors:a}):r.a.createElement(Le,{errors:a}),1!==o?null:r.a.createElement("button",{disabled:n,type:"submit",className:"submit"},"Register"))})),0===o?null:r.a.createElement("button",{onClick:function(){return i(o-1)},className:"submit"}," Back "),0!==o?null:r.a.createElement("button",{onClick:function(){return i(o+1)},className:"submit"}," Next "),r.a.createElement("p",{className:"login-small",style:{cursor:"pointer"}},r.a.createElement(c.b,{to:{pathname:"/",open:!0}}," Already have an account?")))},Je=function(){Object(p.f)();return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("section",{className:"wrapper"},r.a.createElement(Ge,null)),r.a.createElement(M,null))},We=(n(124),function(){var e=Object(p.f)(),a=Object(s.b)(),n=function(){var e=Object(m.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(n);case 3:e.sent,a(U({title:"Done",message:"Your password has been reset."})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(U({title:"Error",message:"Oh no there was an error while reseting your password ".concat(e.t0.response.data.error)},"error"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),t=A.d({newPassword:A.f().required("Password required").min(10,"Password must be atleast 10 characters long"),newPasswordAgain:A.f().required("Password required").oneOf([A.e("newPassword")],"Passwords must be the same")});return r.a.createElement(x.d,{initialValues:{newPassword:"",newPasswordAgain:""},validateOnChange:!0,validationSchema:t,onSubmit:function(a,t){var r=t.setSubmitting,l=t.resetForm;r(!0),n(a),r(!1),l(),e.push("/")}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(x.c,null,r.a.createElement("label",{htmlFor:"newPassword"},"New password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"newPassword",value:a.newPassword,type:"password"})),n.newPassword?r.a.createElement("div",{className:"form-error-message"},n.newPassword):null,r.a.createElement("label",{htmlFor:"newPasswordAgain"},"New password again"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{type:"password",name:"newPasswordAgain",value:a.newPasswordAgain})),n.newPasswordAgain?r.a.createElement("div",{className:"form-error-message"},n.newPasswordAgain):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Reset password"))}))}),Ye=function(){return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("section",{className:"wrapper"},r.a.createElement("div",{className:"reset-wrapper"},r.a.createElement("h2",null,"Reset your password"),r.a.createElement("p",{className:"login-small"},"Enter your new password and press the 'reset password' button to reset your password"),r.a.createElement(We,null),r.a.createElement("div",{className:"reset-footer"}))),r.a.createElement(M,null))},ze=function(){var e=Object(s.b)(),a=function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,q(n);case 3:a.sent,e(U({title:"Done",message:"A reset link has been sent to your email."})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e(U({title:"Error",message:"Oh no something went wrong: ".concat(a.t0.response.data.error)},"error"));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),n=A.d({email:A.f().email("Must be a valid email").required("Required")});return r.a.createElement(x.d,{validateOnChange:!0,validationSchema:n,initialValues:{email:""},onSubmit:function(e,n){var t=n.setSubmitting,r=n.resetForm;t(!0),a(e),t(!1),r()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(x.c,null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"email",value:a.email,type:"input"})),n.email?r.a.createElement("div",{className:"form-error-message"},n.email):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Send"))}))},Be=function(){return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("section",{className:"wrapper"},r.a.createElement("div",{className:"reset-wrapper"},r.a.createElement("h2",null,"Forgot your password?"),r.a.createElement("p",{className:"login-small"},"Enter your email address to reset your password. If you can't see the messages check your spam folder"),r.a.createElement(ze,null))),r.a.createElement(M,null))},Ke=(n(202),n(203),n(204),function(e){var a=e.user,n=(Object(p.f)(),Object(s.b)()),t=(Object(p.g)("/:username/settings"),function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&n(De(a.username,t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),l=A.d({name:A.f().required("Name is required."),username:A.f().required("Username required").min(6,"Minimum length is 6 characters"),email:A.f().email("Must be a valid email").required("Email required"),city:A.f().required("Where do you live?")});return r.a.createElement("div",{className:"account-settings wrap "},r.a.createElement("div",{className:"align"},r.a.createElement("h2",null,"Account"),r.a.createElement(x.d,{validateOnChange:!0,validationSchema:l,initialValues:a,enableReinitialize:!0,onSubmit:function(e,a){var n=a.setSubmitting,r=a.resetForm;n(!0),t(e),n(!1),r()}},(function(e){var a=e.errors,n=e.values,t=e.isSubmitting,l=e.handleChange;return r.a.createElement(x.c,{action:"",className:"account-settings-form form"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"name",value:n.name,type:"input",onChange:l})),a.name?r.a.createElement("div",{className:"form-error-message"},a.name):null,"ThirdPartyUser"===n.type?null:r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"email",value:n.email,type:"email",onChange:l})),a.email?r.a.createElement("div",{className:"form-error-message"},a.email):null),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"city",value:n.city,type:"input",onChange:l})),a.city?r.a.createElement("div",{className:"form-error-message"},a.city):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Save"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(n,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(a,null,2)))}))))}),Qe=function(e){var a=e.user,n=Object(p.f)(),t=Object(s.b)(),l=(Object(p.g)("/:username/settings"),function(e){a&&(t(function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ae.changePassword(e,a);case 3:r=n.sent,t({type:"CHANGE_PASSWORD",data:r}),t(U({title:"Done",message:"Your password has been changed!"})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(U({title:"Error",message:"Sorry, couldn't change your password."},"error"));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(a.username,e)).then((function(){setTimeout((function(){}),5e3),n.go(0)})),t(U({title:"Done",message:"You'r password has been changed!"})))}),o=A.d({oldPassword:A.f().required("Required"),newPassword:A.f().required("Password required").min(10,"Password must be atleast 10 characters long"),newPasswordAgain:A.f().required("Password required").oneOf([A.e("newPassword")],"Passwords must match")});return r.a.createElement("div",{className:"change-password wrap"},r.a.createElement("div",{className:"align "},r.a.createElement(x.d,{validateOnChange:!0,initialValues:{oldPassword:"",newPassword:"",newPasswordAgain:""},validationSchema:o,onSubmit:function(e,a){var n=a.setSubmitting,t=a.resetForm;n(!0),l(e),n(!1),t()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(x.c,{className:"form"},r.a.createElement("label",{htmlFor:"oldPassword"},"Old password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"oldPassword",value:a.oldPassword,type:"password"})),n.oldPassword?r.a.createElement("div",{className:"form-error-message"},n.oldPassword):null,r.a.createElement("label",{htmlFor:"newPassword"},"New password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{name:"newPassword",value:a.newPassword,type:"password"})),n.newPassword?r.a.createElement("div",{className:"form-error-message"},n.newPassword):null,r.a.createElement("label",{htmlFor:"newPasswordAgain"},"New password again"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{type:"password",name:"newPasswordAgain",value:a.newPasswordAgain})),n.newPasswordAgain?r.a.createElement("div",{className:"form-error-message"},n.newPasswordAgain):null,r.a.createElement("button",{disabled:t,type:"submit",className:"-submit"},"Change password"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(a,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(n,null,2)))}))))},Xe=(n(205),function(e){var a=Object(s.b)();if(!e)return null;return console.log({user:e}),r.a.createElement("div",{className:"delete-button-wrapper"},r.a.createElement("div",{className:"delete-button",onClick:function(n){var t;n.preventDefault(),window.confirm("Are you sure you wish to delete you'r account?")&&a((t=e.user.username,function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log({data:t}),e.next=4,Ae.deleteUser(t);case 4:n=e.sent,a({type:"DELETE_USER",data:n}),a(z()),a(U({title:"Done",message:"You'r account has been deleted."})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error on delete user",{err:e.t0}),a(U({title:"Error",message:"Sorry, something went wrong."},"error"));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}()))}},r.a.createElement("span",null,"Delete")))}),Ze=function(e){var a,n=e.login,l=Object(t.useState)("general"),o=Object(f.a)(l,2),c=o[0],s=o[1];if(c)switch(c){case"general":a=r.a.createElement(Ke,{user:n});break;case"delete":a=r.a.createElement(Xe,{user:n});break;default:a=r.a.createElement(Ke,{user:n})}return r.a.createElement("section",{className:"content-wrapper-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"user-settings wrap"},r.a.createElement("div",{className:"align "},r.a.createElement("h2",null,"User Settings"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return s("general")}},"General"),r.a.createElement("li",{onClick:function(){return s("delete")}},"Delete account")))),a)))},$e=function(e){var a=e.place,n=Object(s.b)(),t=function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(qe(a.id,a)).then((function(){console.log("Place update onnistu")}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),l=A.b((function(e){switch(e){case"Closed":return A.f().required();default:return A.f().matches(/\d\d:\d\d/,"The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.")}})),o=A.d({name:A.f().required("Name is required."),description:A.f().required().min(10,"The description should be atleast 10 characters.").max(350,"The description should be max 350 characters."),openingHours:A.d({mon:A.d({open:l,close:l}),tue:A.d({open:l,close:l}),wed:A.d({open:l,close:l}),thu:A.d({open:l,close:l}),fri:A.d({open:l,close:l}),sat:A.d({open:l,close:l}),sun:A.d({open:l,close:l})}),prices:A.a().of(A.d().shape({name:A.f().min(4,"Name must be atleast 4 chararcters.").required(),onetime:A.c().required().min(0),tentime:A.c().required().min(0),month:A.c().required().min(0)})),address:A.f().min(20).required(),city:A.f().required(),phone:A.f().min(10).required(),email:A.f().email().required(),url:A.f().url().required(),tags:A.a().of(A.f().min(3,"The tag should be atleast 3 characters."))});return console.log("Place in place form",{place:a}),console.log(typeof a.openingHours.mon.open),console.log(typeof a.openingHours.mon.close),r.a.createElement(x.d,{validateOnChange:!0,validationSchema:o,initialValues:a,enableReinitialize:!0,onSubmit:function(e,a){var n=a.setSubmitting;n(!0),console.log({values:e}),t(e),n(!1)}},(function(e){var a,n,t,l,o,c,s,i,u,m,p,d,g,E,v,f,h,b,w,y,N,O,C,H,j,k,S,P,F=e.errors,q=e.values,T=e.isSubmitting,A=e.handleChange;e.setFieldValue;return r.a.createElement(x.c,{action:"",className:"account-settings-form form"},r.a.createElement("label",{htmlFor:"Name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"name",value:q.name,type:"input"})),F.name?r.a.createElement("div",{className:"form-error-message"},F.name):null,r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"description",value:q.description,component:"textarea",multiline:"true",rows:3})),F.description?r.a.createElement("div",{className:"form-error-message"},F.description):null,r.a.createElement("h4",null,"Opening hours"),r.a.createElement("label",{htmlFor:"openingHours.mon.open openingHours.mon.close"},"Monday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,value:q.openingHours.mon.open,name:"openingHours.mon.open"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.mon.close",value:q.openingHours.mon.close}),(null===F||void 0===F||null===(a=F.openingHours)||void 0===a||null===(n=a.mon)||void 0===n?void 0:n.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.open):null,(null===F||void 0===F||null===(t=F.openingHours)||void 0===t||null===(l=t.mon)||void 0===l?void 0:l.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.close):null),r.a.createElement("label",{htmlFor:"openingHours.tue.open openingHours.tue.close"},"Tuesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.tue.open",value:q.openingHours.tue.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.tue.close",value:q.openingHours.tue.close,type:"input"}),(null===F||void 0===F||null===(o=F.openingHours)||void 0===o||null===(c=o.tue)||void 0===c?void 0:c.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.open):null,(null===F||void 0===F||null===(s=F.openingHours)||void 0===s||null===(i=s.tue)||void 0===i?void 0:i.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.close):null),r.a.createElement("label",{htmlFor:"openingHours.wed.close openingHours.wed.close"},"Wednesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.close,type:"input"}),(null===F||void 0===F||null===(u=F.openingHours)||void 0===u||null===(m=u.wed)||void 0===m?void 0:m.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.open):null,(null===F||void 0===F||null===(p=F.openingHours)||void 0===p||null===(d=p.wed)||void 0===d?void 0:d.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.close):null),r.a.createElement("label",{htmlFor:"openingHours.thu.open openingHours.thu.close"},"Thursday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.thu.open",value:q.openingHours.thu.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.thu.close",value:q.openingHours.thu.close,type:"input"}),(null===F||void 0===F||null===(g=F.openingHours)||void 0===g||null===(E=g.thu)||void 0===E?void 0:E.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.open):null,(null===F||void 0===F||null===(v=F.openingHours)||void 0===v||null===(f=v.thu)||void 0===f?void 0:f.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.close):null),r.a.createElement("label",{htmlFor:"openingHours.fri.open openingHours.fri.close"},"Friday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.fri.open",value:q.openingHours.fri.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.fri.close",value:q.openingHours.fri.close,type:"input"}),(null===F||void 0===F||null===(h=F.openingHours)||void 0===h||null===(b=h.fri)||void 0===b?void 0:b.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.open):null,(null===F||void 0===F||null===(w=F.openingHours)||void 0===w||null===(y=w.fri)||void 0===y?void 0:y.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.close):null),r.a.createElement("label",{htmlFor:"openingHours.sat.open openingHours.sat.close"},"Saturday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.sat.open",value:q.openingHours.sat.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.sat.close",value:q.openingHours.sat.close,type:"input"}),(null===F||void 0===F||null===(N=F.openingHours)||void 0===N||null===(O=N.sat)||void 0===O?void 0:O.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.open):null,(null===F||void 0===F||null===(C=F.openingHours)||void 0===C||null===(H=C.sat)||void 0===H?void 0:H.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.close):null),r.a.createElement("label",{htmlFor:"openingHours.sun.open openingHours.sun.close"},"Sunday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.sun.open",value:q.openingHours.sun.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.sun.close",value:q.openingHours.sun.close,type:"input"}),(null===F||void 0===F||null===(j=F.openingHours)||void 0===j||null===(k=j.sun)||void 0===k?void 0:k.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.open):null,(null===F||void 0===F||null===(S=F.openingHours)||void 0===S||null===(P=S.sun)||void 0===P?void 0:P.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.close):null),r.a.createElement(x.b,{name:"prices"},(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Pricing"),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.push({name:"",onetime:"",tentime:"",month:""})}},"Add"),q.prices.map((function(a,n){var t,l,o,c;return r.a.createElement("div",{key:n},r.a.createElement("label",{htmlFor:"prices[".concat(n,"].name")},"Name"),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].name")}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(t=F.prices[n])||void 0===t?void 0:t.name)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].name):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].onetime")},"1x "),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].onetime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(l=F.prices[n])||void 0===l?void 0:l.onetime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].onetime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].tentime")},"10x "),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].tentime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(o=F.prices[n])||void 0===o?void 0:o.tentime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].tentime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].month")},"Month "),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].month"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(c=F.prices[n])||void 0===c?void 0:c.month)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].month):null,r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove")," ",r.a.createElement("br",null))})))})),r.a.createElement("h4",null,"Info"),r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"address",value:q.address,type:"input"}),F.address?r.a.createElement("div",{className:"form-error-message"},F.address):null),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"city",value:q.city,type:"input"}),F.city?r.a.createElement("div",{className:"form-error-message"},F.city):null),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"phone",value:q.phone,type:"input"}),F.phone?r.a.createElement("div",{className:"form-error-message"},F.phone):null),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"email",value:q.email,type:"input"}),F.email?r.a.createElement("div",{className:"form-error-message"},F.email):null),r.a.createElement("label",{htmlFor:"url"},"Url"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"url",value:q.url,type:"input"}),F.url?r.a.createElement("div",{className:"form-error-message"},F.url):null),r.a.createElement(x.b,{name:"tags"},(function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"tags"},"Tags"),r.a.createElement("button",{className:"submit",type:"button",onClick:function(){return e.push("")}},"add")," ",r.a.createElement("br",null),q.tags.map((function(a,n){var t="tags.".concat(n),l="errors.tags.".concat(t);"errors.tags[".concat(n,"]");return r.a.createElement("div",{key:n},r.a.createElement(x.a,{onChange:A,name:t}),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove"),(null===F||void 0===F?void 0:F.tags)&&l?r.a.createElement("div",{className:"form-error-message"},F.tags[n]):null)})))})),r.a.createElement("button",{disabled:T,type:"submit",className:"submit"},"Save"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(q,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(F,null,2)))}))},ea=function(e){var a=e.place,n=Object(t.useState)(!1),l=Object(f.a)(n,2),o=l[0],c=l[1],i=Object(s.c)((function(e){return e.places}));if(!i)return null;i.sort((function(e){return e.name}));return r.a.createElement("li",null,r.a.createElement("h2",{onClick:function(){return c(!o)}},a.name),o?r.a.createElement($e,{place:a}):null)},aa=function(e){e.place;var a=Object(s.c)((function(e){return e.places}));if(!a)return null;var n=a.sort((function(e){return e.name}));return r.a.createElement("div",null,r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(ea,{key:e.id,place:e})}))))},na=function(){var e=Object(s.b)(),a=function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(Fe(n)).then((function(){console.log("Place update onnistu")})),console.log({data:n});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),n=A.b((function(e){switch(e){case"Closed":return A.f().required();default:return A.f().matches(/\d\d:\d\d/,"The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.")}})),t=A.d({name:A.f().required("Name is required."),description:A.f().required().min(10,"The description should be atleast 10 characters.").max(350,"The description should be max 350 characters."),openingHours:A.d({mon:A.d({open:n,close:n}),tue:A.d({open:n,close:n}),wed:A.d({open:n,close:n}),thu:A.d({open:n,close:n}),fri:A.d({open:n,close:n}),sat:A.d({open:n,close:n}),sun:A.d({open:n,close:n})}),prices:A.a().of(A.d().shape({name:A.f().min(4,"Name must be atleast 4 chararcters.").required(),onetime:A.c().required().min(0),tentime:A.c().required().min(0),month:A.c().required().min(0)})),address:A.f().min(20).required(),city:A.f().required(),phone:A.f().min(10).required(),email:A.f().email().required(),url:A.f().url().required(),tags:A.a().of(A.f().min(3,"The tag should be atleast 3 characters."))});return r.a.createElement(x.d,{validateOnChange:!0,validationSchema:t,initialValues:{name:"",description:"",openingHours:{mon:{open:"10:00",close:"18:00"},tue:{open:"10:00",close:"18:00"},wed:{open:"10:00",close:"18:00"},thu:{open:"10:00",close:"18:00"},fri:{open:"10:00",close:"18:00"},sat:{open:"10:00",close:"18:00"},sun:{open:"10:00",close:"18:00"}},prices:[{name:"Alle 15v",onetime:0,tentime:0,month:0}],address:"",city:"",phone:"",email:"",url:"",tags:[""]},enableReinitialize:!0,onSubmit:function(e,n){var t=n.setSubmitting;t(!0),console.log({values:e}),a(e),t(!1)}},(function(e){var a,n,t,l,o,c,s,i,u,m,p,d,g,E,v,f,h,b,w,y,N,O,C,H,j,k,S,P,F=e.errors,q=e.values,T=e.isSubmitting,A=e.handleChange;e.setFieldValue;return r.a.createElement(x.c,{action:"",className:"account-settings-form form"},r.a.createElement("label",{htmlFor:"Name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"name",value:q.name,type:"input"})),F.name?r.a.createElement("div",{className:"form-error-message"},F.name):null,r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"description",value:q.description,component:"textarea",multiline:"true",rows:3})),F.description?r.a.createElement("div",{className:"form-error-message"},F.description):null,r.a.createElement("h4",null,"Opening hours"),r.a.createElement("label",{htmlFor:"openingHours.mon.open openingHours.mon.close"},"Monday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,value:q.openingHours.mon.open,name:"openingHours.mon.open"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.mon.close",value:q.openingHours.mon.close}),(null===F||void 0===F||null===(a=F.openingHours)||void 0===a||null===(n=a.mon)||void 0===n?void 0:n.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.open):null,(null===F||void 0===F||null===(t=F.openingHours)||void 0===t||null===(l=t.mon)||void 0===l?void 0:l.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.close):null),r.a.createElement("label",{htmlFor:"openingHours.tue.open openingHours.tue.close"},"Tuesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.tue.open",value:q.openingHours.tue.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.tue.close",value:q.openingHours.tue.close,type:"input"}),(null===F||void 0===F||null===(o=F.openingHours)||void 0===o||null===(c=o.tue)||void 0===c?void 0:c.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.open):null,(null===F||void 0===F||null===(s=F.openingHours)||void 0===s||null===(i=s.tue)||void 0===i?void 0:i.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.close):null),r.a.createElement("label",{htmlFor:"openingHours.wed.close openingHours.wed.close"},"Wednesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.close,type:"input"}),(null===F||void 0===F||null===(u=F.openingHours)||void 0===u||null===(m=u.wed)||void 0===m?void 0:m.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.open):null,(null===F||void 0===F||null===(p=F.openingHours)||void 0===p||null===(d=p.wed)||void 0===d?void 0:d.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.close):null),r.a.createElement("label",{htmlFor:"openingHours.thu.open openingHours.thu.close"},"Thursday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.thu.open",value:q.openingHours.thu.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.thu.close",value:q.openingHours.thu.close,type:"input"}),(null===F||void 0===F||null===(g=F.openingHours)||void 0===g||null===(E=g.thu)||void 0===E?void 0:E.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.open):null,(null===F||void 0===F||null===(v=F.openingHours)||void 0===v||null===(f=v.thu)||void 0===f?void 0:f.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.close):null),r.a.createElement("label",{htmlFor:"openingHours.fri.open openingHours.fri.close"},"Friday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.fri.open",value:q.openingHours.fri.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.fri.close",value:q.openingHours.fri.close,type:"input"}),(null===F||void 0===F||null===(h=F.openingHours)||void 0===h||null===(b=h.fri)||void 0===b?void 0:b.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.open):null,(null===F||void 0===F||null===(w=F.openingHours)||void 0===w||null===(y=w.fri)||void 0===y?void 0:y.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.close):null),r.a.createElement("label",{htmlFor:"openingHours.sat.open openingHours.sat.close"},"Saturday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.sat.open",value:q.openingHours.sat.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.sat.close",value:q.openingHours.sat.close,type:"input"}),(null===F||void 0===F||null===(N=F.openingHours)||void 0===N||null===(O=N.sat)||void 0===O?void 0:O.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.open):null,(null===F||void 0===F||null===(C=F.openingHours)||void 0===C||null===(H=C.sat)||void 0===H?void 0:H.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.close):null),r.a.createElement("label",{htmlFor:"openingHours.sun.open openingHours.sun.close"},"Sunday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"openingHours.sun.open",value:q.openingHours.sun.open,type:"input"})," - ",r.a.createElement(x.a,{onChange:A,name:"openingHours.sun.close",value:q.openingHours.sun.close,type:"input"}),(null===F||void 0===F||null===(j=F.openingHours)||void 0===j||null===(k=j.sun)||void 0===k?void 0:k.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.open):null,(null===F||void 0===F||null===(S=F.openingHours)||void 0===S||null===(P=S.sun)||void 0===P?void 0:P.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.close):null),r.a.createElement(x.b,{name:"prices"},(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Pricing"),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.push({name:"",onetime:"",tentime:"",month:""})}},"Add"),q.prices.map((function(a,n){var t,l,o,c;return r.a.createElement("div",{key:n},r.a.createElement("label",{htmlFor:"prices[".concat(n,"].name")},"Name"),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].name")}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(t=F.prices[n])||void 0===t?void 0:t.name)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].name):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].onetime")},"1x "),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].onetime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(l=F.prices[n])||void 0===l?void 0:l.onetime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].onetime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].tentime")},"10x "),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].tentime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(o=F.prices[n])||void 0===o?void 0:o.tentime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].tentime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].month")},"Month "),r.a.createElement("br",null),r.a.createElement(x.a,{onChange:A,name:"prices[".concat(n,"].month"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(c=F.prices[n])||void 0===c?void 0:c.month)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].month):null,r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove")," ",r.a.createElement("br",null))})))})),r.a.createElement("h4",null,"Info"),r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"address",value:q.address,type:"input"}),F.address?r.a.createElement("div",{className:"form-error-message"},F.address):null),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"city",value:q.city,type:"input"}),F.city?r.a.createElement("div",{className:"form-error-message"},F.city):null),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"phone",value:q.phone,type:"input"}),F.phone?r.a.createElement("div",{className:"form-error-message"},F.phone):null),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"email",value:q.email,type:"input"}),F.email?r.a.createElement("div",{className:"form-error-message"},F.email):null),r.a.createElement("label",{htmlFor:"url"},"Url"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(x.a,{onChange:A,name:"url",value:q.url,type:"input"}),F.url?r.a.createElement("div",{className:"form-error-message"},F.url):null),r.a.createElement(x.b,{name:"tags"},(function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"tags"},"Tags"),r.a.createElement("button",{className:"submit",type:"button",onClick:function(){return e.push("")}},"add")," ",r.a.createElement("br",null),q.tags.map((function(a,n){var t="tags.".concat(n),l="errors.tags.".concat(t);"errors.tags[".concat(n,"]");return r.a.createElement("div",{key:n},r.a.createElement(x.a,{onChange:A,name:t}),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove"),(null===F||void 0===F?void 0:F.tags)&&l?r.a.createElement("div",{className:"form-error-message"},F.tags[n]):null)})))})),r.a.createElement("button",{disabled:T,type:"submit",className:"submit"},"Save"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(q,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(F,null,2)))}))},ta=function(e){var a,n=e.login,l=Object(t.useState)("general"),o=Object(f.a)(l,2),c=o[0],s=o[1];if(console.log("helloi"),c)switch(c){case"general":a=r.a.createElement(Ke,{user:n});break;case"changePass":a=r.a.createElement(Qe,{user:n});break;case"places":a=r.a.createElement(aa,null);break;case"addPlace":a=r.a.createElement(na,null);break;case"delete":a=r.a.createElement(Xe,{user:n});break;default:a=r.a.createElement(Ke,{user:n})}return r.a.createElement("section",{className:"content-wrapper-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"user-settings wrap"},r.a.createElement("div",{className:"align "},r.a.createElement("h2",null,"User Settings"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return s("general")}},"General"),r.a.createElement("li",{onClick:function(){return s("changePass")}},"Change password"),r.a.createElement("li",{onClick:function(){return s("places")}},"Place control"),r.a.createElement("li",{onClick:function(){return s("addPlace")}},"Add a place"),r.a.createElement("li",{onClick:function(){return s("delete")}},"Delete account")))),a)))},ra=function(e){var a,n=e.login,l=Object(t.useState)("general"),o=Object(f.a)(l,2),c=o[0],s=o[1];if(c)switch(c){case"general":a=r.a.createElement(Ke,{user:n});break;case"changePass":a=r.a.createElement(Qe,{user:n});break;case"delete":a=r.a.createElement(Xe,{user:n});break;default:a=r.a.createElement(Ke,{user:n})}return r.a.createElement("section",{className:"content-wrapper-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"user-settings wrap"},r.a.createElement("div",{className:"align "},r.a.createElement("h2",null,"User Settings"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return s("general")}},"General"),r.a.createElement("li",{onClick:function(){return s("changePass")}},"Change password"),r.a.createElement("li",{onClick:function(){return s("delete")}},"Delete account")))),a)))},la=function(e){Object(s.b)();var a,n=Object(p.f)(),l=Object(t.useState)(!1),o=Object(f.a)(l,2),c=(o[0],o[1],Object(p.g)("/:username/settings"),e.location.user),i=Object(s.c)((function(e){return e.session}));if(c||n.push("/"),i)switch(console.log("tyyppi",i.type),i.type){case"AdminUser":a=r.a.createElement(ta,{login:i});break;case"ThirdPartyUser":a=r.a.createElement(Ze,{login:i});break;default:a=r.a.createElement(ra,{login:i})}console.log({information:a});return r.a.createElement("div",null,r.a.createElement(de,null),i?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero-wrapper"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"hero-content"},r.a.createElement("img",{onError:function(e){e.target.src="".concat(i.avatar)},src:"../".concat(i.avatar),alt:""}),r.a.createElement("div",{className:"user-text"},r.a.createElement("h2",null,i.name))))),a):r.a.createElement("h1",{style:{textAlign:"center"}},"You are not logged in. You can go log in by pressing the Login button in the NavBar"),r.a.createElement(M,null))},oa=(n(125),function(e){var a=Object(t.useState)(0),n=Object(f.a)(a,2),l=n[0],o=n[1],c=Object(t.useState)(!1),i=Object(f.a)(c,2),u=i[0],m=i[1],p=Object(t.useState)(null),d=Object(f.a)(p,2),g=d[0],E=d[1],v=Object(s.b)();Object(t.useEffect)((function(){100===l&&w()}),[l]),Object(t.useEffect)((function(){h()}),[]);var h=function(){var e=setInterval((function(){o((function(a){return a<100?a+1:(clearInterval(e),a)}))}),20);E(e)},b=function(){clearInterval(g)},w=function(){b(),m(!0),setTimeout((function(){var a;v((a=e.note.id,function(e){e({type:"CLEAR_NOTIFICATION",id:a})}))}),1e3*e.note.time)};return r.a.createElement("div",{onMouseEnter:b,onMouseLeave:h,className:"notification ".concat(e.note.type,"  ").concat(u?"exit":"")},e.note.title?r.a.createElement("h3",null,e.note.title):null,r.a.createElement("p",null," ",e.note.message," "),r.a.createElement("div",{className:"bar",style:{width:"".concat(l,"%")}}))}),ca=function(){var e=Object(s.c)((function(e){return e.notification}));return r.a.createElement("div",{className:"notification-wrapper"},e.map((function(e){return r.a.createElement(oa,{key:e.id,note:e})})))},sa=function(){var e=Object(s.b)();return Object(t.useEffect)((function(){e(function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.getAll();case 3:n=e.sent,a({type:"INIT_PLACES",data:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(U({title:"Error",message:"There was an error loading the database. Please try again later."},"error")),console.error("Error on initplaces: ",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())}),[e]),Object(t.useEffect)((function(){e(Y())}),[]),Object(t.useEffect)((function(){try{return Me.onAuthStateChanged(function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=5;break}return a.next=3,n.getIdToken();case 3:(t=a.sent)&&e(W(t));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}catch(a){console.log("error is",a.message)}}),[]),r.a.createElement("div",null,r.a.createElement(ca,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:ge}),r.a.createElement(p.a,{exact:!0,path:"/gym/:place_name",component:Se}),r.a.createElement(p.a,{path:"/login",component:ae}),r.a.createElement(p.a,{exact:!0,path:"/register",component:Je}),r.a.createElement(p.a,{exact:!0,path:"/reset_password",component:Ye}),r.a.createElement(p.a,{exact:!0,path:"/forgot",component:Be}),r.a.createElement(p.a,{exact:!0,path:"/:username/settings",component:la})))},ia=n(144),ua=n(56),ma=n(145),pa=Object(ua.combineReducers)({places:Te,comments:ve,session:B,notification:R,user:Ie}),da=Object(ua.createStore)(pa,Object(ia.composeWithDevTools)(Object(ua.applyMiddleware)(ma.a)));o.a.render(r.a.createElement(c.a,null,r.a.createElement(s.a,{store:da},r.a.createElement(sa,null))),document.getElementById("root"))},86:function(e,a,n){e.exports=n.p+"static/media/logo-white.53c9c881.svg"},87:function(e,a,n){e.exports=n.p+"static/media/logo-white-header.8277cea1.svg"}},[[148,1,2]]]);
//# sourceMappingURL=main.4f108403.chunk.js.map