{"version":3,"sources":["images/avatar.svg","images/search.svg","images/profile_testit/chad-madden-8mCMQSq41gQ-unsplash.jpg","images/logo-blue.svg","images/search-blue.svg","images/layout_testit/roya-ann-miller-G2QYE9czCEw-unsplash.jpg","images/close.svg","images/settings.svg","images/logout.svg","images/mail.svg","images/world.svg","images/google-place.svg","images/phone.svg","images/profile_testit/colton-sturgeon-odKeTFsBDgE-unsplash.jpg","components/Places/open_hours.js","components/Places/open.js","components/Places/info.js","components/Places/index.js","services/contactServices.js","reducers/notificationReducer.js","components/ContactForm/index.js","components/Footer/index.js","services/loginService.js","firebase/auth.js","reducers/loginReducer.js","components/Login/loginForm.js","components/Login/index.js","components/Modal/index.js","components/NavHeader/dropDownMenu.js","components/NavHeader/headerLogIn.js","components/NavHeader/index.js","components/HomePage/index.js","services/commentService.js","reducers/commentReducer.js","components/CommentForm/index.js","components/CommentSection/showComment.js","components/CommentSection/index.js","components/PriceCategory/index.js","components/ChosenPlace/index.js","services/placeService.js","reducers/placeReducer.js","services/userService.js","reducers/userReducer.js","firebase/index.js","components/Register/formPage2.js","components/Register/formPage1.js","components/Register/registerForm.js","components/Register/index.js","components/ResetPasswordForm/index.js","components/ResetPassword/index.js","components/ForgotPasswordForm/index.js","components/ForgotPassword/index.js","components/SettingsForm/index.js","components/ChangePasswordForm/index.js","components/SettingsForm/deleteButton.js","components/UserSettings/thirdParty.js","components/PlaceForm/index.js","components/PlaceForm/listItem.js","components/PlaceForm/listComp.js","components/PlaceForm/placeAddForm.js","components/UserSettings/admin.js","components/UserSettings/onSite.js","components/UserSettings/index.js","components/Notification/notificationItem.js","components/Notification/index.js","App.js","store.js","index.js","images/logo-white.svg","images/logo-white-header.svg"],"names":["module","exports","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","nested","paddingLeft","spacing","moreNested","isItOpen","hours","minutes","openToday","openingHour","Number","split","openingMinutes","closingHour","closingMinutes","Open","open_hours","now","Date","today","getDay","getHours","getMinutes","sun","open","close","mon","tue","wed","thu","fri","sat","Info","place","useState","prices","openingHours","className","href","name","src","image","alt","description","Places","search","sortedPlaces","useSelector","state","places","sort","filteredPlaces","filter","toUpperCase","startsWith","map","key","id","sendMail","data","a","axios","post","withCredentials","response","forgotPassword","resetPassword","changeNotification","notification","messageType","time","dispatch","type","title","message","v4","notificationReducer","action","console","log","note","ContactForm","useDispatch","handleSubmit","error","validationSchema","yup","required","email","min","validateOnChange","initialValues","onSubmit","setSubmitting","resetForm","values","errors","isSubmitting","htmlFor","value","component","placeholder","multiline","rows","disabled","Footer","LogoFooter","login","user","userForService","googleLogin","user_token","config","headers","Authorization","getUser","get","err","logoutUser","Auth","signInFlow","signInSuccessUrl","signinOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","googleLoginUser","loginService","loggedIn","check","window","localStorage","clear","signOut","reducer","session","setItem","JSON","stringify","location","reload","LoginForm","props","useHistory","loginUser","username","password","Login","history","LoginPic","CloseSVG","onClick","uiConfig","firebaseAuth","push","style","cursor","Modal","children","onClose","ReactDOM","createPortal","document","getElementById","DropDownMenu","to","pathname","SettingsSVG","e","preventDefault","LogoutSVG","HeaderLogIn","modal","page","dropdown","setDropdown","fadeIn","useSpring","opacity","marginTop","from","delay","duration","li","img","onError","target","avatar","NavHeader","isOpen","setIsOpen","useEffect","section","NavLogo","SearchSVG","HomePage","params","setSearch","LogoBlue","SearchBlue","onChange","getAll","then","getComments","place_name","undefined","addComment","place_id","newData","deleteObject","delete","concat","blog","CommentForm","comment","commentService","newComment","handleChange","handleBlur","ShowComment","date","pvm","getDate","getMonth","getFullYear","CommentSection","header","comments","length","PriceCategory","price","onetime","tentime","month","ChosenPlace","colors","match","useRouteMatch","find","replace","backgroundSize","backgroundPosition","borderRadius","MailLogo","WorldLogo","url","PlaceLogo","address","PhoneLogo","phone","tags","tag","index","Math","floor","random","add","file","placeData","formData","FormData","append","update","put","addPlace","placeService","newPlace","updatePlace","request","uploadAvatar","imageForm","updateUserInfo","changePassword","createUser","deleteUser","userService","imageSave","user_data","newUserInfo","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FormPage2","storage","city","FormPage1","passwordagain","adminVerification","RegisterForm","setPage","wrapper","newUser","oneOf","Register","ResetPasswordForm","newPassword","newPasswordAgain","ResetPassword","ForgotPasswordForm","ForgotPassword","SettingsForm","enableReinitialize","color","ChangePasswordForm","setTimeout","go","oldPassword","DeleteButton","confirm","ThirdParty","information","setting","setSetting","PlaceForm","lazy","matches","max","of","shape","setFieldValue","event","currentTarget","files","arrayHelpers","remove","tagError","ListItem","setOpen","ListComp","PlaceAddForm","Admin","OnSite","UserSettings","textAlign","NotificationItem","setWidth","exit","setExit","intervalID","setIntervalID","handleCloseNotification","handleStartTimer","setInterval","prev","clearInterval","handlePauseTimer","onMouseEnter","onMouseLeave","Notification","App","onAuthStateChanged","getIdToken","id_token","exact","path","combineReducers","placeReducer","commentReducer","loginReducer","userReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","render"],"mappings":"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","file":"static/js/main.497e8960.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.747f526f.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.422d423f.svg\";","module.exports = __webpack_public_path__ + \"static/media/chad-madden-8mCMQSq41gQ-unsplash.2c05fe38.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo-blue.a150db00.svg\";","module.exports = __webpack_public_path__ + \"static/media/search-blue.df215230.svg\";","module.exports = __webpack_public_path__ + \"static/media/roya-ann-miller-G2QYE9czCEw-unsplash.c46cf8c9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/close.da67cfb9.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.c5e2e3d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.cb7690d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/mail.d8864552.svg\";","module.exports = __webpack_public_path__ + \"static/media/world.7fc624ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/google-place.c9e3a731.svg\";","module.exports = __webpack_public_path__ + \"static/media/phone.e3aed7d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/colton-sturgeon-odKeTFsBDgE-unsplash.54b0f1ec.jpg\";","import React from 'react'\r\nimport {\r\n  ListSubheader,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Collapse,\r\n  makeStyles\r\n} from '@material-ui/core'\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4)\r\n  },\r\n  moreNested: {\r\n    paddingLeft: theme.spacing(6)\r\n  }\r\n}))\r\n\r\nconst OpenHours = ({ open_hours, show }) => {\r\n  const classes = useStyles()\r\n\r\n  const dayNames = Object.keys(open_hours).map(day => `${day}`)\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        dayNames.map(name => (\r\n          <List key={name}>\r\n            {open_hours[`${name}`].open === 'Closed' ?\r\n              <ListItem className={classes.nested}>\r\n                <ListItemText>\r\n                  {name}: {open_hours[`${name}`].open}\r\n                </ListItemText>\r\n              </ListItem> :\r\n              <ListItem className={classes.nested}>\r\n                <ListItemText>\r\n                  {name}: {open_hours[`${name}`].open} - {open_hours[`${name}`].close}\r\n                </ListItemText>\r\n              </ListItem>\r\n            }\r\n          </List>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OpenHours","\r\n\r\nconst isItOpen = (hours, minutes, openToday) => {\r\n  if (openToday[0] === 'Closed' || openToday[1]  === 'Closed') return false\r\n  const openingHour = Number(openToday[0].split(':')[0])\r\n  const openingMinutes = Number(openToday[0].split(':')[1])\r\n  const closingHour = Number(openToday[1].split(':')[0])\r\n  const closingMinutes = Number(openToday[1].split(':')[1])\r\n\r\n  if (hours > openingHour && hours < closingHour) {\r\n    return  true\r\n  } else if (hours === openingHour) {\r\n    if (minutes >= openingMinutes) return true\r\n  } else if (hours === closingHour) {\r\n    if (minutes <= closingMinutes) return  true\r\n  }\r\n  return false\r\n}\r\n\r\nconst Open = (open_hours) => {\r\n  let openToday\r\n  let open\r\n  const now = new Date()\r\n  const today = now.getDay()\r\n  const hours = now.getHours()\r\n  const minutes = now.getMinutes()\r\n\r\n  switch (today) {\r\n    case 0:\r\n      openToday = [open_hours.sun.open, open_hours.sun.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    case 1:\r\n      openToday = [open_hours.mon.open, open_hours.mon.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    case 2:\r\n      openToday = [open_hours.tue.open, open_hours.tue.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    case 3:\r\n      openToday = [open_hours.wed.open, open_hours.wed.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    case 4:\r\n      openToday = [...open_hours.thu.open, open_hours.thu.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    case 5:\r\n      openToday = [open_hours.fri.open, open_hours.fri.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    case 6:\r\n      openToday = [open_hours.sat.open, open_hours.sat.close]\r\n      open = isItOpen(hours, minutes, openToday)\r\n      return open\r\n    default:\r\n      return null\r\n  }\r\n}\r\n\r\n\r\nexport default Open","import React, { useState } from 'react'\r\nimport {\r\n  ListSubheader,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Collapse,\r\n  Link\r\n} from '@material-ui/core'\r\n\r\nimport {\r\n  ExpandLess,\r\n  ExpandMore,\r\n  CheckCircleOutlineOutlined,\r\n  HighlightOffOutlined\r\n} from '@material-ui/icons'\r\nimport Prices from './prices'\r\nimport OpenHours from './open_hours'\r\n\r\nimport Open from './open'\r\n\r\n\r\n\r\n\r\nconst Info = ({ place }) => {\r\n  const [showOpenHours, setShowOpenHours] = useState(false)\r\n  const [showPrices, setShowPrices] = useState(false)\r\n  const pricing = !place.prices ?\r\n    null :\r\n    place.prices\r\n\r\n  const open_hours = !place.openingHours ?\r\n    null :\r\n    place.openingHours\r\n\r\n  const open = Open(open_hours)\r\n\r\n  const handleOpenHoursClick = (e) => {\r\n    e.preventDefault()\r\n    setShowOpenHours(!showOpenHours)\r\n  }\r\n\r\n  const handlePricingClick = (e) => {\r\n    e.preventDefault()\r\n    setShowPrices(!showPrices)\r\n  }\r\n\r\n  return (\r\n    <li className=\"place-wrapper\">\r\n      <div className=\"place-card\">\r\n        <a href={`/gym/${place.name} `}>\r\n          <img src={place.image} alt={`${place.name} sali`} className=\"place\" />\r\n        </a>\r\n        <div className=\"place-text-wrapper\">\r\n          <h2 className=\"place-header\">{place.name}</h2>\r\n          <blockquote className=\"place-description\">\r\n            {place.description}\r\n          </blockquote>\r\n          <button className=\"readmore-button\" ><a href={`/gym/${place.name} `}> Read more</a></button>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Info","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Paper } from '@material-ui/core'\r\nimport Info from './info'\r\n\r\nconst Places = ({search}) => {\r\n  const places = useSelector(state => state.places)\r\n  const sortedPlaces = places.sort(place => place.name)\r\n  const filteredPlaces = search === ''\r\n    ? sortedPlaces \r\n    : sortedPlaces.filter(place => place.name.toUpperCase().startsWith(search.toUpperCase()))\r\n\r\n  \r\n  return (\r\n    <ul className=\"place-list\">\r\n      {filteredPlaces.map(place => (\r\n        <Info key={place.id} place={place} />\r\n      ))}\r\n    </ul>\r\n\r\n  )\r\n}\r\n\r\nexport default Places","import axios from 'axios'\r\nconst baseUrl = '/api'\r\n\r\n/**\r\n * Request to send a mail to the contact address for the page.\r\n * @param {*} data message to send \r\n */\r\nexport const sendMail = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/contact`, data, { withCredentials: true })\r\n  return response\r\n}\r\n\r\n/**\r\n * Request for a new password.\r\n * @param {*} data \r\n */\r\nexport const forgotPassword = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/forgot`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Request to reset a password for an user.\r\n * @param {*} data \r\n */\r\nexport const resetPassword = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/passwordReset`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { sendMail, forgotPassword, resetPassword }","import { ContactlessOutlined } from '@material-ui/icons'\r\nimport { v4 } from 'uuid'\r\nlet timeOutId = null\r\n\r\n/**\r\n * Dispatches => New notification data to the notification reducer and then dispatches clearNotification() function after timeout.\r\n * @param {*} notification notification info \r\n * @param {*} messageType The type of a notification (e.g. 'success' OR 'error')\r\n * @param {*} time Timeout period, shows the time in seconds => how long the notification should be showed. \r\n */\r\nexport const changeNotification = (notification, messageType = 'success', time = 3) => {\r\n\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'NOTIFICATION',\r\n      notification: {\r\n        title: notification.title,\r\n        message: notification.message,\r\n        type: messageType,\r\n        time: time,\r\n        id: v4()\r\n      }\r\n    })\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Null data to notification reducer.\r\n */\r\nexport const clearNotification = (id) => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'CLEAR_NOTIFICATION',\r\n      id: id\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the notification store.\r\n * @param {*} state state of the notification store \r\n * @param {*} action action or info provided to the reducer.\r\n * NOTIFICATION => adds notification data to the store.\r\n */\r\nconst notificationReducer = (state = [], action) => {\r\n\r\n  switch (action.type) {\r\n    case 'NOTIFICATION':\r\n      return [...state, { ...action.notification }]\r\n    case 'CLEAR_NOTIFICATION':\r\n    console.log({action})\r\n    \r\n    return state.filter(note => note.id !== action.id)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { sendMail } from '../../services/contactServices'\r\nimport * as yup from 'yup'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\n\r\n/**\r\n * The form for the contact form and the validation for it.\r\n */\r\nconst ContactForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      const response = await sendMail(data)\r\n      dispatch(changeNotification({title:'Done', message: 'Thank you for contacting us. Your email has been sent'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Oh no an error has occured ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string().required('Name is required.'),\r\n    email: yup.string().email('Must be a valid email').required('Required'),\r\n    message: yup.string().required().min(10, 'Message should be atleast 10 characters long.'),\r\n  })\r\n\r\n\r\n  return (\r\n\r\n    <Formik\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      initialValues={{ name: '', email: '', message: '' }}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form className=\"footer-form\">\r\n          <label htmlFor=\"name\">Name</label><br />\r\n          <div>\r\n            <Field name='name' value={values.name} type='input' />\r\n          </div>\r\n          {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n          <label htmlFor=\"email\">Email</label><br />\r\n          <div>\r\n            <Field name='email' value={values.email} type='input' />\r\n          </div>\r\n          {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n\r\n          <label htmlFor=\"name\">Message</label><br />\r\n          <div>\r\n            <Field component='textarea' name='message' value={values.message} placeholder='message...' multiline='true' rows={3} />\r\n          </div>\r\n          {errors.message ? <div className='form-error-message'>{errors.message}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"contact-submit\" >Send</button>\r\n        </Form>\r\n\r\n      )}</Formik >\r\n  )\r\n}\r\n\r\nexport default ContactForm\r\n","import React from 'react'\r\nimport '../../scss/footer.scss'\r\nimport LogoFooter from '../../images/logo-white.svg'\r\nimport ContactForm from '../ContactForm'\r\n\r\n/**\r\n * The footer wrapper for the pages.\r\n */\r\nconst Footer = () =>  {\r\n  return (\r\n    <section className=\"footer\">\r\n    <div className=\"footer-bg\">\r\n      <div className=\"wrapper \">\r\n\r\n        <div className=\"footer-upper-wrapper\">\r\n          <div className=\"footer-headers\">\r\n            <h2>Are there any other places?</h2>\r\n            <h2>Let us know!</h2>\r\n          </div>\r\n          <div className=\"footer-form-wrapper\">\r\n            <ContactForm />\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"wrapper\">\r\n      <div className=\"footer-lower-wrapper\">\r\n        <img src={LogoFooter} alt=\"footer logo\" className=\"footer-logo\" />\r\n\r\n        <ul className=\"footer-list\">\r\n          <li>\r\n            Terms\r\n      </li>\r\n\r\n          <li>\r\n            Privacy\r\n      </li>\r\n\r\n          <li>\r\n            Our mission\r\n      </li>\r\n\r\n          <li>\r\n            Work with us\r\n      </li>\r\n\r\n          <li>\r\n            Help\r\n      </li>\r\n        </ul>\r\n\r\n      </div>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default Footer \r\n","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/login'\r\nconst baseUrl = '/api/login'\r\n\r\n/**\r\n * Request to log in to the application as an onsite user.\r\n * @param {*} user info \r\n */\r\nconst login = async (user) => {\r\n\r\n  const userForService = {\r\n    type: 'onSite',\r\n    user: { ...user }\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, userForService, { withCredentials: true })\r\n\r\n\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Request to log in to the application as an Google user.\r\n * @param {*} user_token Google user token\r\n */\r\nconst googleLogin = async (user_token) => {\r\n    console.log({user_token})\r\n    \r\n  const config = {\r\n    headers: { Authorization: `Bearer ${user_token}` },\r\n    withCredentials: true\r\n  }\r\n\r\n\r\n  const response = await axios.post(baseUrl, { type: 'google' }, config)\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends a check request to the backend to see if the user is logged in.\r\n */\r\nconst getUser = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}/check`, { withCredentials: true })\r\n    return response.data\r\n  } catch (err) {\r\n    console.log('Error on getUser', { err })\r\n  }\r\n  return null\r\n}\r\n\r\n/**\r\n * Sends a logout request to the backend.\r\n */\r\nconst logoutUser = async () => {\r\n  const response = await axios.get(`${baseUrl}/logout`, { withCredentials: true })\r\n  return response\r\n}\r\n\r\nexport default { login, googleLogin, getUser, logoutUser }","import firebase from 'firebase'\r\nimport googleLogin from '../services/loginService'\r\n\r\n/**\r\n * Auth for the firebase googleauthprovider.\r\n */\r\nconst Auth = {\r\n  signInFlow: 'popup',\r\n  signInSuccessUrl: 'http://localhost:3000/',\r\n  signinOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID\r\n  ],\r\n  callbacks: {\r\n    signInSuccessWithAuthResult: false\r\n  }\r\n}\r\n\r\n\r\nexport default Auth","import loginService from '../services/loginService'\r\nimport { changeNotification } from './notificationReducer'\r\nimport firebase from 'firebase'\r\n\r\n/**\r\n * Dispatches => Logged in users (Onsite user) info to the login reducer.\r\n * Calls loginService login() function to log in to the application.\r\n * @param {*} user user info to use for log in.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const loginUser = (user) => {\r\n  return async dispatch => {\r\n    try {\r\n      const loggedIn = await loginService.login(user)\r\n\r\n      dispatch({\r\n        type: 'LOGIN',\r\n        data: loggedIn\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Successfully logged in!'}))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Login failed ${err.response.data.error}`}, 'error'))\r\n\r\n      console.error('Error on login: ', {err})\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Logged in users (Google user) info to the login reducer.\r\n * Calls loginService googleLogin() function to log in the Google user.\r\n * @param {*} user_token The Google users idToken. \r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const googleLoginUser = (user_token) => {\r\n  console.log({user_token})\r\n  \r\n  return async dispatch => {\r\n    try {\r\n      const loggedIn = await loginService.googleLogin(user_token)\r\n\r\n      dispatch({\r\n        type: 'LOGIN',\r\n        data: loggedIn\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Successfully logged in!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Login failed ${err.response.data.error}`}, 'error'))\r\n\r\n      console.error('Error on google login: ', err.message)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Logged in users info to the login reducer.\r\n * Calls loginService getUser() function to see if there is anybody loggedin\r\n * TODO: FIX tarkitus\r\n */\r\nexport const getUser = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const check = await loginService.getUser()\r\n\r\n      console.log({ check })\r\n\r\n      if (check) {\r\n        dispatch({\r\n          type: 'GET_USER',\r\n          data: check\r\n        })\r\n      } else {\r\n        window.localStorage.clear()\r\n        firebase.auth().signOut()\r\n      }\r\n    } catch (err) {\r\n      console.log({ err })\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => a logout request to the login reducer.\r\n * Calls loginService logoutUser() to logout from the application.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const logoutUser = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const logoutUser = await loginService.logoutUser()\r\n\r\n      dispatch({\r\n        type: 'LOGOUT'\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'You have logged out!'}))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Logout failed ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the login store.\r\n * @param {*} state state of the login store \r\n * @param {*} action action or info provided to the reducer.\r\n * LOGIN => Adds the logged in users data to localstorage and to the login store.\r\n * LOGOUT => Logs the user out and clears localstorage and changes the session to false.\r\n * GET_USER => Replaces the store with user info.\r\n * Default => Returns the state of the store. \r\n */\r\nconst reducer = (state = { session: true }, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      window.localStorage.setItem('login', JSON.stringify(action.data))\r\n      return action.data\r\n    case 'LOGOUT':\r\n      window.localStorage.clear()\r\n      firebase.auth().signOut()\r\n      window.location.reload(true)\r\n      return { session: true }\r\n    case 'GET_USER':\r\n      console.log('action data', action.data)\r\n      window.localStorage.setItem('login', JSON.stringify(action.data))\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import React, { useEffect } from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { sendMail } from '../../services/contactServices'\r\nimport { loginUser, getUser } from '../../reducers/loginReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\n\r\n/**\r\n * The form for logging in and the validation for it.\r\n * @param {*} props \r\n */\r\nconst LoginForm = props => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const user = useSelector(state => state.session)\r\n\r\n  const handleSubmit = (data) => {\r\n    dispatch(loginUser(data))\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    username: yup.string().required('Required'),\r\n    password: yup.string()\r\n      .required('Password required')\r\n  })\r\n\r\n\r\n\r\n  return (\r\n\r\n    <Formik\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      initialValues={{ username: '', password: '' }}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n        // history.go(0)\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form >\r\n          <label htmlFor=\"username\">Username</label><br />\r\n          <div>\r\n            <Field name='username' value={values.username} type='input' />\r\n          </div>\r\n          {errors.username ? <div className='form-error-message'>{errors.username}</div> : null}\r\n\r\n          <label htmlFor=\"password\">Password</label><br />\r\n          <div>\r\n            <Field name='password' value={values.password} type='password' />\r\n          </div>\r\n          {errors.password ? <div className='form-error-message'>{errors.password}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Log in</button>\r\n        </Form>\r\n\r\n      )}</Formik>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n","import React, { useState, useEffect } from 'react'\r\nimport firebase from 'firebase'\r\nimport Auth from '../../firebase/auth'\r\nimport { googleLoginUser } from '../..//reducers/loginReducer'\r\n\r\nimport '../../scss/login.scss'\r\nimport LoginPic from '../../images/layout_testit/roya-ann-miller-G2QYE9czCEw-unsplash.jpg'\r\nimport LoginForm from './loginForm'\r\nimport CloseSVG from '../../images/close.svg'\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\n/**\r\n * Wrapper for login page.\r\n * @param {*} close modal control \r\n * Includes => \r\n * - Login form\r\n */\r\nconst Login = ({ close }) => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n \r\n  return (\r\n    <section>\r\n      <div className=\"wrapper\">\r\n        <div className=\"login\">\r\n          <div className=\"login-image\">\r\n            <img src={LoginPic} alt=\"\" />\r\n          </div>\r\n\r\n          <div className=\"login-container\">\r\n            <div className=\"login-header\">\r\n              <h2>Log in</h2>\r\n              <img src={CloseSVG} alt=\"\" onClick={close} />\r\n            </div>\r\n\r\n            <LoginForm />\r\n            <StyledFirebaseAuth\r\n              uiConfig={Auth}\r\n              firebaseAuth={firebase.auth()} />\r\n\r\n\r\n            <p className=\"login-small\" onClick={() => history.push('/forgot')} style={{ cursor: 'pointer' }}>\r\n              Forgot password?\r\n            </p>\r\n\r\n            <p className=\"login-small\" onClick={() => history.push('/register')} style={{ cursor: 'pointer' }}>\r\n              Don't have an account?\r\n          </p>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section >\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport '../../scss/modal.scss'\r\n\r\n/**\r\n * Modal to be used for e.g. login form.\r\n * @param {*} open is the modal open?\r\n * @param {*} children children component\r\n * @param {*} onClose Close function\r\n */\r\nconst Modal = ({ open, children, onClose }) => {\r\n  const user = useSelector(state => state.session)\r\n\r\n\r\n  if (!open || !user) return null\r\n  if (user.session) {\r\n    return ReactDOM.createPortal(\r\n      <>\r\n        <div className='modal-bg' onClick={onClose} />\r\n        <div className='modal'>\r\n          {children}\r\n        </div>\r\n      </>,\r\n      document.getElementById('portal')\r\n    )\r\n\r\n  }\r\n  return null\r\n\r\n\r\n}\r\n\r\nexport default Modal\r\n","import React from 'react'\r\nimport firebase from 'firebase'\r\nimport { logoutUser } from '../../reducers/loginReducer'\r\nimport '../../scss/dropdown.scss'\r\nimport AvatarSVG from '../../images/avatar.svg'\r\nimport SettingsSVG from '../../images/settings.svg'\r\nimport LogoutSVG from '../../images/logout.svg'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\n\r\n/**\r\n * Wrapper for the dropdown menu.\r\n * @param {*} user logged in user \r\n * Includes => \r\n * - Link to user page.\r\n * - Link to settings page.\r\n * - Logout button.\r\n */\r\nconst DropDownMenu = ({ user }) => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault()\r\n\r\n    dispatch(logoutUser())\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className='dropdown'>\r\n      <Link to={{ \r\n        pathname: `/${user.username}/settings`,\r\n        user: user \r\n        }}>\r\n        <img src={SettingsSVG} className='little-nav-icon' alt='user' /> Settings\r\n      </Link>\r\n\r\n      <Link to={{ pathname: '/#' }} onClick={handleLogout}>\r\n        <img src={LogoutSVG} className='little-nav-icon' alt='user' /> Logout\r\n      </Link>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default DropDownMenu\r\n","import React, { useState } from 'react'\r\nimport { useSpring, animated } from 'react-spring'\r\nimport { useSelector } from 'react-redux'\r\nimport DropDownMenu from './dropDownMenu'\r\nimport AvatarSVG from '../../images/avatar.svg'\r\n\r\n\r\nconst HeaderLogIn = ({ modal, user, page }) => {\r\n    const [dropdown, setDropdown] = useState(false)\r\n    const props = useSpring({ opacity: 1, marginTop: 0, from: { opacity: 0, marginTop: -500 } })\r\n    const fadeIn = useSpring({ cursor: 'pointer', opacity: 1, from: { opacity: 0 }, config: { delay: 1000, duration: 1000 } })\r\n\r\n    if (!user) return null\r\n    console.log({ user })\r\n    console.log({ user })\r\n    \r\n    const addDefaultSrc = (e) => {\r\n        e.target.src = `${user.avatar}`\r\n    }\r\n\r\n    return (\r\n        <nav>\r\n            <ul>\r\n                {/* <li>Favourites</li> */}\r\n\r\n                {\r\n                    (user.session) ?\r\n                        <animated.li style={fadeIn} onClick={modal}>Log in</animated.li> :\r\n                        <li>\r\n                            <animated.img style={fadeIn} onError={addDefaultSrc} src={page === 'main' ? user.avatar : `../${user.avatar}`} className='nav-icon' alt='user' onClick={() => setDropdown(!dropdown)} />\r\n                            {\r\n                                dropdown && <DropDownMenu user={user} />\r\n                            }\r\n                        </li>\r\n\r\n                }\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default HeaderLogIn","import React, { useState, useEffect } from 'react'\r\n\r\nimport NavLogo from '../../images/logo-white-header.svg'\r\nimport SearchSVG from '../../images/search.svg'\r\nimport Login from '../Login'\r\nimport Modal from '../Modal'\r\nimport \"../../scss/nav.scss\"\r\nimport '../../scss/dropdown.scss'\r\nimport { useSpring, animated } from 'react-spring'\r\nimport DropDownMenu from './dropDownMenu'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getUser } from '../../reducers/loginReducer'\r\nimport firebase from 'firebase'\r\nimport HeaderLogIn from './headerLogIn'\r\n\r\n/**\r\n * Wrapper for the Navbar\r\n * Includes => \r\n * - Logo\r\n * - User picture\r\n * - Dropdown menu\r\n * - Modal\r\n */\r\nconst NavHeader = ({ page = 'secondary' }) => {\r\n  const dispatch = useDispatch()\r\n  const props = useSpring({ opacity: 1, marginTop: 0, from: { opacity: 0, marginTop: -500 } })\r\n  const fadeIn = useSpring({ cursor: 'pointer', opacity: 1, from: { opacity: 0 }, config: { delay: 1000, duration: 1000 } })\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const history = useHistory()\r\n  const user = useSelector(state => state.session)\r\n\r\n\r\n  const handleLoginModal = (e) => {\r\n    e.preventDefault()\r\n    setIsOpen(true)\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getUser())\r\n  }, [])\r\n\r\n\r\n  if (!user) return null\r\n  console.log({isOpen})\r\n  console.log({user})\r\n  \r\n  \r\n  return (\r\n    <div>\r\n      <animated.section style={props} className={`nav-header ${page}`}>\r\n        <div className=\"wrapper\">\r\n          <div className=\"nav-wrapper\">\r\n            <div className=\"search\">\r\n              {\r\n                page === 'main' ?\r\n                  null :\r\n                  <animated.img style={fadeIn} src={NavLogo} alt=\"\" className=\"header-logo\" onClick={() => history.push('/')} />\r\n\r\n              }\r\n\r\n              <img src={SearchSVG} className=\"search-icon\" alt=\"search-icon\" />\r\n              <input type=\"text\" className='search-bar' placeholder=\"Search...\" />\r\n            </div>\r\n\r\n            <HeaderLogIn modal={handleLoginModal} user={user} page={page} />\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n      </animated.section >\r\n      <Modal open={isOpen} onClose={() => setIsOpen(false)}>\r\n        <Login close={() => setIsOpen(false)} />\r\n      </Modal>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavHeader\r\n","import React, { useState, useEffect } from 'react'\r\nimport firebase from 'firebase'\r\nimport '../../scss/homepage.scss'\r\nimport LogoBlue from '../../images/logo-blue.svg'\r\nimport Footer from '../Footer'\r\nimport SearchBlue from '../../images/search-blue.svg'\r\nimport Places from '../Places'\r\nimport Login from '../Login'\r\nimport Modal from '../Modal'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport DropDownMenu from '../NavHeader/dropDownMenu'\r\nimport '../../scss/dropdown.scss'\r\nimport {Parallax, ParallaxLayer} from 'react-spring/renderprops-addons'\r\nimport AvatarSVG from '../../images/avatar.svg'\r\nimport { getUser } from '../../reducers/loginReducer'\r\nimport HeaderLogIn from '../NavHeader/headerLogIn'\r\nimport NavHeader from '../NavHeader'\r\n\r\n\r\n/**\r\n * Wrapper for the homepage.\r\n * @param {*} params \r\n * Includes => \r\n * - Modal handling \r\n * - Places\r\n * - Search bar\r\n */\r\nconst HomePage = (params) => {\r\n  const dispatch = useDispatch()\r\n  const [dropdown, setDropdown] = useState(false)\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const user = useSelector(state => state.session)\r\n  const [search, setSearch] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (params.location.open) {\r\n      setIsOpen(params.location.open)\r\n    }\r\n    dispatch(getUser())\r\n  }, [])\r\n\r\n\r\n  const handleLoginModal = (e) => {\r\n    e.preventDefault()\r\n    setIsOpen(true)\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  const handleSearch = e => setSearch(e.target.value) \r\n\r\n  return (\r\n    \r\n/// T NavBariks \r\n    <div>  \r\n      <section className=\"hero-home\">\r\n        <div className=\"wrappers\">\r\n        <NavHeader page={'main'} />\r\n\r\n          <div className=\"hero-content-home\">\r\n\r\n            <img src={LogoBlue} alt='Top logo' className='top-logo' />\r\n            <p className=\"subtitle\">\r\n              Find the best climbing gym for you\r\n        </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <Modal open={isOpen} onClose={() => setIsOpen(false)}>\r\n        <Login close={() => setIsOpen(false)} />\r\n      </Modal>\r\n\r\n      <section className=\"place-window-wrapper\">\r\n        <div className=\"wrapper \">\r\n          <div className=\"search-container-main\">\r\n            <img src={SearchBlue} alt=\"\" className=\"search-icon-main\" />\r\n            <input type=\"text\" className='search-bar-main' onChange={handleSearch} placeholder=\"Search...\" />\r\n          </div>\r\n\r\n          <Places search={search}/>\r\n        </div>\r\n      </section>\r\n\r\n\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/comments'\r\n\r\n/**\r\n * Request for all comments\r\n */\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\n/**\r\n * Request for all comments of place\r\n */\r\nconst getComments = async (place_name) => {\r\n  console.log({ place_name })\r\n  if (place_name !== undefined) {\r\n    const response = await axios.get(`${baseUrl}/${place_name}`, { withCredentials: true })\r\n    return response.data\r\n  }\r\n}\r\n\r\n/**\r\n * Request for adding a comment for a specific place\r\n */\r\nconst addComment = async (data, place_id) => {\r\n\r\n\r\n  const newData = { ...data, id: place_id }\r\n\r\n  const response = await axios.post(baseUrl, newData, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n// const update = (baseUrl, id, newObject) => {\r\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n//   return request.then(response => response.data)\r\n// }\r\n\r\n/**\r\n * Request for deleting a comment from a specific place as an Admin\r\n */\r\nconst deleteObject = (id) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token }\r\n  // }\r\n\r\n  const request = axios.delete(`${baseUrl}/${id}`, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\nexport default { getAll, getComments, addComment, deleteObject }","import commentService from '../services/commentService'\r\nimport { changeNotification } from './notificationReducer'\r\n\r\n/**\r\n * Dispatches => initialized comments to the comments reducer.\r\n * Calls commentservice getAll() function.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const initializeComments = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const comments = await commentService.getAll()\r\n      dispatch({\r\n        type: 'INIT_COMMENTS',\r\n        data: comments\r\n      })\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `There was an error loading the database. Please try again later.`}, 'error'))\r\n      console.error('Error on initialize comments: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => requested comments to the comments reducer.\r\n * Calls commentservice getComments() function to get comment infos.\r\n * @param {*} place_name The name of the place which comments are requested.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const getComments = (place_name) => {\r\n  return async dispatch => {\r\n    try {\r\n      const comments = await commentService.getComments(place_name)\r\n      dispatch({\r\n        type: 'GET_COMMENTS',\r\n        data: comments\r\n      })\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `There was an error loading the database. Please try again later.`}, 'error'))\r\n      console.error('Error on initialize comments: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => added comment to the comments reducer .\r\n * Calls commentService addComment() function to add comment data.\r\n * @param {*} comment Comment data to be added.\r\n * @param {*} place_id The id of the place where the comment will be added.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const addComment = (comment, place_id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newComment = await commentService.addComment(comment, place_id)\r\n      dispatch({\r\n        type: 'ADD_COMMENT',\r\n        data: newComment\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'You commented! Nice!'}))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Sorry server didn't like that comment. Try again.`}, 'error'))\r\n\r\n      console.error('Error on addComment dispatch: ', err.response.data.error)\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the comments store.\r\n * @param {*} state state of the comments store.\r\n * @param {*} action action or info provided to the reducer.\r\n * ADD_COMMENT => adds the comment data to the state.\r\n * INIT_COMMENTS => Initializes the comment store with the data provided to the reducer.\r\n * GET_COMMENTS => Replaces the comments store state with the data provided to the reducer.\r\n * Default => returns the state of the store.\r\n */\r\nconst reducer = (state = [], action) => {\r\n  // let id = null\r\n  switch (action.type) {\r\n    case 'ADD_COMMENT':\r\n      return state.concat(action.data)\r\n    case 'DELETE':\r\n      return state.filter(blog => blog.id !== action.data.id)\r\n    case 'INIT_COMMENTS':\r\n      return action.data\r\n    case 'GET_COMMENTS':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import React from 'react'\r\nimport { TextField, Button } from '@material-ui/core'\r\nimport { Formik, Field } from 'formik'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addComment } from '../../reducers/commentReducer'\r\nimport ProfilePic from '../../images/profile_testit/chad-madden-8mCMQSq41gQ-unsplash.jpg'\r\nimport '../../scss/comment.scss'\r\nimport * as yup from 'yup'\r\n\r\n/**\r\n * The form for commenting.\r\n * If not logged in you can't comment\r\n * @param {*} place_id The id of the place where the comments are to be designated. \r\n */\r\nconst CommentForm = ({ place_id }) => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.session)\r\n\r\n  const handleSubmit = (data) => {\r\n    dispatch(addComment(data, place_id))\r\n  }\r\n  const addDefaultSrc = (e) => {\r\n    e.target.src = `${user.avatar}`\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    comment: yup.string().min(2, 'Message should be atleast 2 characters long.').required('Required'),\r\n  })\r\n\r\n  return (\r\n    <section className='cmform-wrapper' >\r\n      <div className='wrapper'>\r\n        {\r\n          user.session ?\r\n            <h3 className='placeholder'>\r\n              You must be logged in to comment!\r\n      </h3> :\r\n            <div className='cmbox-wrapper'>\r\n              <img onError={addDefaultSrc} src={`../${user.avatar}`} alt='profile' />\r\n              <Formik\r\n                initialValues={{ comment: '' }}\r\n                validateOnChange={true}\r\n                validationSchema={validationSchema}\r\n                onSubmit={(data, { setSubmitting, resetForm }) => {\r\n                  setSubmitting(true)\r\n                  handleSubmit(data)\r\n                  setSubmitting(false)\r\n                  resetForm()\r\n                }}\r\n              >\r\n                {({ values, handleChange, handleBlur, handleSubmit }) => (\r\n                  <form onSubmit={handleSubmit} className='cmform'>\r\n                    <Field component=\"textarea\" name='comment' type='input' placeholder='your comment' multiline='true' rows={1} />\r\n                    <button type='submit' className=\"submit cmbox-button\" > Comment</button>\r\n                    {/* <pre>{JSON.stringify(values, null, 2)}</pre> */}\r\n                  </form>\r\n                )}</Formik>\r\n            </div>\r\n        }\r\n\r\n\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CommentForm","import React from 'react'\r\nimport ProfilePic from '../../images/profile_testit/chad-madden-8mCMQSq41gQ-unsplash.jpg'\r\n\r\n/**\r\n * Wrapper for the comment information.\r\n * @param {*} comment comment information\r\n */\r\nconst ShowComment = ({ comment }) => {\r\n\r\n  const user = comment.user\r\n  const date = new Date(comment.date)\r\n\r\n\r\n  const pvm = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\r\n\r\n  const addDefaultSrc = (e) => {\r\n    e.target.src = `${user.avatar}`\r\n  }\r\n\r\n  if (!comment) return null\r\n\r\n  return (\r\n    <li className='card'>\r\n      <div className=\"comment\">\r\n        <div className=\"comment-meta\">\r\n          <img onError={addDefaultSrc} src={`../${user.avatar}`} alt=\"\" className=\"comment-avatar\" />\r\n        </div>\r\n        <div className=\"comment-meta-meta\">\r\n          <strong> {user.name}</strong>\r\n          <p className=\"timestamp\">{pvm}</p>\r\n        </div>\r\n\r\n        <div className=\"comment-body\">\r\n          <blockquote>\r\n            {comment.comment}\r\n          </blockquote>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ShowComment","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport ShowComment from './showComment'\r\nimport '../../scss/comment.scss'\r\n\r\n/**\r\n * Wrapper for the comment section.\r\n * Maps the individual comments if there are any.\r\n * @param {*} header Header for the comment section.\r\n */\r\nconst CommentSection = ({ header }) => {\r\n  const comments = useSelector(state => state.comments)\r\n\r\n\r\n  return (\r\n    <section className=\"comments-wrapper\" >\r\n      <div className=\"wrapper align\">\r\n        <h2>{header}</h2>\r\n        {\r\n          comments.length < 1 ?\r\n            <h3>\r\n              Be the first one to comment!\r\n      </h3> :\r\n            <ul className=\"comment-list-wrapper\">\r\n              {\r\n                comments.map(comment =>\r\n                  <ShowComment key={comment.id} comment={comment} />\r\n                )\r\n              }\r\n            </ul>\r\n        }\r\n\r\n\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CommentSection","import React from 'react'\r\n\r\nconst PriceCategory = ({ price, name }) => {\r\n  return (\r\n    <li>\r\n      <div className=\"card\">\r\n        <div className=\"upper-category\">\r\n          <h2>{name}</h2>\r\n          <div className=\"text-wrapper\">\r\n            <div className=\"text\">\r\n              <strong>{price.onetime}<br />/kerta</strong>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lower-category\">\r\n\r\n          <p>{price.tentime}<br />/10x-kertaa</p>\r\n\r\n          <p>{price.month}<br />/kuukausi</p>\r\n\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PriceCategory\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useRouteMatch } from 'react-router-dom'\r\nimport Prices from '../Places/prices'\r\nimport OpenHours from '../Places/open_hours'\r\nimport CommentForm from '../CommentForm'\r\nimport CommentSection from '../CommentSection'\r\nimport { addComment, getComments } from '../../reducers/commentReducer'\r\nimport LogoFooter from '../../images/logo-white.svg'\r\nimport SearchSVG from '../../images/search.svg'\r\nimport NavLogo from '../../images/logo-white-header.svg'\r\n\r\nimport MailLogo from '../../images/mail.svg'\r\nimport WorldLogo from '../../images/world.svg'\r\nimport PlaceLogo from '../../images/google-place.svg'\r\nimport PhoneLogo from '../../images/phone.svg'\r\nimport '../../scss/place.scss'\r\nimport '../../scss/comment.scss'\r\nimport Footer from '../Footer'\r\nimport NavHeader from '../NavHeader'\r\nimport PriceCategory from '../PriceCategory'\r\n\r\n/**\r\n * Show the info page of a chosen place.\r\n * The page includes \r\n * - Picture\r\n * - Comments\r\n * - Opening hours\r\n * - Prices\r\n * - Other information\r\n */\r\nconst ChosenPlace = () => {\r\n  const dispatch = useDispatch()\r\n  const places = useSelector(state => state.places)\r\n  const colors = ['first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eight', 'nineth', 'tenth']\r\n\r\n  const match = useRouteMatch('/gym/:place_name')\r\n  const place = match\r\n    ? places.find(place => place.name === match.params.place_name)\r\n    : null\r\n\r\n\r\n  useEffect(() => {\r\n    console.log({match})\r\n    \r\n    if (match?.params?.place_name !== undefined) {\r\n      dispatch(getComments(match.params.place_name))\r\n    }\r\n  }, [place])\r\n\r\n  if (!place) return null\r\n\r\n  const image = place.image.replace(/\\\\/g, '/')\r\n\r\n  console.log({ image, match, places })\r\n\r\n  // const handleChange = () => {\r\n  //   return colors[Math.floor(Math.random() * colors.length)]\r\n  // }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n\r\n      <section className=\"hero-wrapper\" style={{\r\n        background: `url('../${image}')`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: '50% 45%',\r\n        borderRadius: '0 0 10px 10px',\r\n      }}>\r\n      </section>\r\n\r\n      <section className=\"info-sec\">\r\n        <div className=\"wrapper\">\r\n          <div className=\"hero-content-place\">\r\n            <h1>{place.name}</h1>\r\n            <p className=\"subtitle-place\">\r\n              {place.description}\r\n            </p>\r\n\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content-wrapper\">\r\n        <div className=\"wrapper\" >\r\n          <div className=\"content-grid\">\r\n\r\n            <div className=\"card opening-wrapper margin-left\">\r\n              <h2>Aukioloajat</h2>\r\n              <ul className=\"opening-list\">\r\n                <li className=\"open\">\r\n                  <strong>Mon</strong>\r\n                  <p>{place.openingHours.mon.open} - {place.openingHours.mon.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Tue</strong>\r\n                  <p>{place.openingHours.tue.open} - {place.openingHours.tue.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Wed</strong>\r\n                  <p>{place.openingHours.wed.open} - {place.openingHours.wed.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Thu</strong>\r\n                  <p>{place.openingHours.thu.open} - {place.openingHours.thu.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Fri</strong>\r\n                  <p>{place.openingHours.fri.open} - {place.openingHours.fri.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Sat</strong>\r\n                  <p>{place.openingHours.sat.open} - {place.openingHours.sat.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Sun</strong>\r\n                  <p>{place.openingHours.sun.open} - {place.openingHours.sun.close}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"card margin-right\">\r\n              <h2>Info</h2>\r\n              <ul className=\"info-list\">\r\n                <li>\r\n                  <img src={MailLogo} alt=\"\" />\r\n                  <p className=\"place-info\">{place.email}</p>\r\n                </li>\r\n\r\n                <li>\r\n                  <img src={WorldLogo} alt=\"\" />\r\n                  <a href={place.url} className=\"place-info\">{place.url}</a>\r\n                </li>\r\n\r\n                <li>\r\n                  <img src={PlaceLogo} alt=\"\" />\r\n                  <p className=\"place-info\">{place.address}</p>\r\n                </li>\r\n\r\n                <li>\r\n                  <img src={PhoneLogo} alt=\"\" />\r\n                  <p className=\"place-info\">{place.phone}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"card margin-left\">\r\n              <h2>Tags</h2>\r\n              <ul className=\"likes-user\">\r\n                {place.tags.map((tag, index) =>\r\n                (\r\n                  <li key={index} className={`tag-item ${colors[Math.floor(Math.random() * colors.length)]}`} >\r\n                    <p>{tag}</p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </section>\r\n\r\n      <section className=\"prices\">\r\n        <div className=\"wrapper\">\r\n          <h1>Hinnasto</h1>\r\n          <blockquote>\r\n            <strong>HUOM!</strong> Hinnat ovat suuntaa antavia. Hinnat eivt vlttmtt pid paikkaansa jos sivuja ei ole\r\n        ehditty pivittmn. Hinnat eivt myskn sisll tarvike vuokria.\r\n      </blockquote>\r\n\r\n          <div className=\"price-wrapper\">\r\n            <ul className=\"price-list\">\r\n              {place.prices.map(price => (\r\n                <PriceCategory key={price.name} price={price} name={price.name} />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n\r\n      <CommentSection header=\"Kommentit\" place_id={place.id} />\r\n      <CommentForm place_id={place.id} />\r\n\r\n      <Footer />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default ChosenPlace","import axios from 'axios'\r\nimport { date } from 'yup'\r\n// const baseUrl = 'http://localhost:3001/api/places'\r\nconst baseUrl = '/api/places'\r\n\r\n/**\r\n * Requests for all the climbing places from the backend. \r\n */\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/**\r\n * Sends the new places data to the backend. \r\n * @param {*} newObject Info of the new climbing place \r\n */\r\nconst add = async data => {\r\n\r\n  console.log('add placeService tapahtuu')\r\n  console.log({ data })\r\n  const image = data.file\r\n  delete data.file\r\n  \r\n  const placeData = JSON.stringify(data)\r\n\r\n  const formData = new FormData()\r\n  formData.append('imageName', Date.now())\r\n  formData.append('imageData', image)\r\n  formData.append('place', placeData)\r\n\r\n  console.log({formData})\r\n  \r\n  const response = await axios.post(baseUrl, formData, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends updated place data to the backend. (Only one place!!)\r\n * @param {*} id place id \r\n * @param {*} data places updated data\r\n */\r\nconst update = (id, data) => {\r\n  console.log('update placeService tapahtuu')\r\n  console.log({ id }, { data })\r\n  const image = data.file\r\n  delete data.file\r\n  \r\n  const placeData = JSON.stringify(data)\r\n  console.log({id, data, placeData } )\r\n\r\n  const formData = new FormData()\r\n  formData.append('imageName', Date.now())\r\n  formData.append('imageData', image)\r\n  formData.append('place', placeData)\r\n\r\n\r\n\r\n  const request = axios.put(`${baseUrl}/${id}`, formData, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/**\r\n * Sends a delete request to the backend.\r\n * @param {*} id place id that should be deleted.\r\n */\r\nconst deleteObject = (id) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token }\r\n  // }\r\n\r\n  const request = axios.delete(`${baseUrl}/${id}`, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\nexport default { getAll, add, update, deleteObject }","import placeService from '../services/placeService'\r\nimport { changeNotification } from './notificationReducer'\r\n\r\n/**\r\n * Dispatches => initialized places to the places reducer.\r\n * Calls placeService getAll() function to get all the climbing splaces.\r\n * Dispatches an error notification in case of error to the changeNotification() function.s\r\n */\r\nexport const initializePlaces = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const places = await placeService.getAll()\r\n      dispatch({\r\n        type: 'INIT_PLACES',\r\n        data: places\r\n      })\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `There was an error loading the database. Please try again later.`}, 'error'))\r\n      console.error('Error on initplaces: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n/**\r\n * Dispatches => added place data to the places reducer .\r\n * Calls placeService create() function to add place data.\r\n * @param {*} place Place data to be added.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const addPlace = (place) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newPlace = await placeService.add(place)\r\n      dispatch({\r\n        type: 'NEW_PLACE',\r\n        data: newPlace\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'New place created!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Couldn\\'t create a place: ${err.response.data.error}`}, 'error'))\r\n      console.error('Error on createPlace: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\nexport const updatePlace = (place_id, data) => {\r\n  console.log('Update place tapahtuu')\r\n\r\n  return async dispatch => {\r\n    try {\r\n      const newPlace = await placeService.update(place_id, data)\r\n      dispatch({\r\n        type: 'UPDATE_PLACE',\r\n        data: newPlace\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Place info updated!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Couldn\\'t update a place: ${err.response.data.error}`}, 'error'))\r\n      console.error('Error on updatePlace: ', err.message)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the places store.\r\n * @param {*} state state of the places store.\r\n * @param {*} action action or info provided to the reducer.\r\n * NEW_PLACE => adds the place data to the state\r\n * VOTE => *NOT DECIDED*\r\n * DELETE => Filters out the Deleted place data from the places store.\r\n * INIT_PLACES => Initializes the places store with the data provided to the reducer.\r\n */\r\nconst reducer = (state = [], action) => {\r\n  // let id = null\r\n  switch (action.type) {\r\n    case 'NEW_PLACE':\r\n      return state.concat(action.data)\r\n    case 'UPDATE_PLACE':\r\n      const id = action.data.id\r\n      return state.map(place =>\r\n        place.id !== id ? place : action.data\r\n      )\r\n    // case 'VOTE':\r\n    //   id = action.data.id\r\n    //   return state.map(blog =>\r\n    //     place.id !== id ? place : action.data\r\n    //   )\r\n    // case 'DELETE':\r\n    //   return state.filter(place => place.id !== action.data.id)\r\n    case 'INIT_PLACES':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/users'\r\nconst baseUrl = '/api/users'\r\n\r\n/**\r\n * Requests all the users from the backend. \r\n */\r\nconst getAll = async () => {\r\n  const request = await axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/**\r\n * Sends a upload an avatar request to the backend.\r\n * @param {*} image image to be uploaded for the active user \r\n */\r\nconst uploadAvatar = async (image) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token }\r\n  // }\r\n\r\n\r\n  const imageForm = new FormData()\r\n\r\n  imageForm.append('imageName', Date.now())\r\n  imageForm.append('imageData', image)\r\n\r\n  const response = await axios.put(`${baseUrl}/update/uploadImage`, imageForm, { withCredentials: true })\r\n  console.log({ response })\r\n\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends an update user info request to the backend.\r\n * @param {*} username of the active user\r\n * @param {*} data Updated user data\r\n */\r\nconst updateUserInfo = async (username, data) => {\r\n  console.log('userService update user', { username }, { data })\r\n\r\n  const response = await axios.put(`${baseUrl}/${username}`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends a change password request to the backend.\r\n * @param {*} username of the active user \r\n * @param {*} data old and new password\r\n */\r\nconst changePassword = async (username, data) => {\r\n  const response = await axios.put(`${baseUrl}/changePassword/${username}`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends a create new user request to the backend.\r\n * @param {*} data user info\r\n */\r\nconst createUser = async (data) => {\r\n  const response = await axios.post(baseUrl, data)\r\n  return response.data\r\n}\r\n\r\nconst deleteUser = async (username) => {\r\n  console.log({username})\r\n  \r\n  const response = await axios.delete(`${baseUrl}/${username}`, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, uploadAvatar, updateUserInfo, changePassword, createUser, deleteUser }","import userService from '../services/userService'\r\nimport { getUser, logoutUser } from './loginReducer'\r\nimport { changeNotification } from './notificationReducer'\r\n\r\n/**\r\n * Dispatches => Updated user info to the user reducer.\r\n * Calls userService uploadAvatar() function to upload the avatar.\r\n * @param {*} image image file to be uploaded as an avatar for the user.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const uploadAvatar = (image) => {\r\n  return async dispatch => {\r\n    try {\r\n      const imageSave = await userService.uploadAvatar(image)\r\n      console.log({ imageSave })\r\n\r\n      dispatch({\r\n        type: 'UPDATE_USER',\r\n        data: imageSave\r\n      })\r\n      dispatch(getUser())\r\n      dispatch(changeNotification({ title: 'Done', message: 'Profile picture updated. If you can\\'t see a change reload the page!' }))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t update your profile picture.` }, 'error'))\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Updated user info to the user reducer.\r\n * Calls userService updateUserInfo() function to update user info.\r\n * @param {*} username username of the, to be updated, user\r\n * @param {*} user_data \r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const updateUserInfo = (username, user_data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUserInfo = await userService.updateUserInfo(username, user_data)\r\n      console.log({ newUserInfo })\r\n\r\n      dispatch({\r\n        type: 'UPDATE_USER',\r\n        data: newUserInfo\r\n      })\r\n      dispatch(getUser())\r\n      dispatch(changeNotification({ title: 'Done', message: 'Your information has been updated.' }))\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t update your information.` }, 'error'))\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Updated user info to the user reducer.\r\n * Calls the userService.changePassword() function to change the users password.\r\n * @param {*} username username of the user who's password is to be changed. \r\n * @param {*} data password data.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const changePassword = (username, data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUserInfo = await userService.changePassword(username, data)\r\n      dispatch({\r\n        type: 'CHANGE_PASSWORD',\r\n        data: newUserInfo\r\n      })\r\n      dispatch(changeNotification({ title: 'Done', message: 'Your password has been changed!' }))\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t change your password.` }, 'error'))\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => new user data to the user reducer.\r\n * Calls the userService.createUser() function to add a new user.\r\n * @param {*} data data of the new user.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const createUser = (data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUser = await userService.createUser(data)\r\n      dispatch({\r\n        type: 'CREATE_USER',\r\n        data: newUser\r\n      })\r\n      dispatch(changeNotification({ title: 'Done', message: 'Registeration successful. Please go confirm you\\'r email address before trying to log in.' }))\r\n    } catch (err) {\r\n      console.log('Error on create user', { err })\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t create a new account. Try again later.` }, 'error'))\r\n\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteUser = (data) => {\r\n  return async dispatch => {\r\n    try {\r\n      console.log({ data })\r\n\r\n      const newUser = await userService.deleteUser(data)\r\n\r\n      dispatch({\r\n        type: 'DELETE_USER',\r\n        data: newUser\r\n      })\r\n      dispatch(logoutUser())\r\n      dispatch(changeNotification({ title: 'Done', message: 'You\\'r account has been deleted.' }))\r\n    } catch (err) {\r\n      console.log('Error on delete user', { err })\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, something went wrong.` }, 'error'))\r\n\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the login store.\r\n * @param {*} state state of the login store \r\n * @param {*} action action or info provided to the reducer.\r\n * UPDATE_USER => Updates action data info to the localstorage and to user store.\r\n * CREATE_USER => Updates user data to user store.\r\n * CHANGE_PASSWORD => Updates user data to user store.\r\n */\r\nconst reducer = (state = null, action) => {\r\n\r\n  let id = null\r\n  switch (action.type) {\r\n    case 'UPDATE_USER':\r\n      console.log('tapathuu UPDATE_USER')\r\n      window.localStorage.setItem('login', JSON.stringify(action.data))\r\n      return state\r\n    case 'CREATE_USER':\r\n      return state\r\n    case 'CHANGE_PASSWORD':\r\n      return state\r\n    case 'DELETE_USER':\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\n/**\r\n * Config for the firebase application.\r\n * Initializes the firebase application.\r\n */\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId:process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n})\r\n\r\n// export const auth = app.auth()\r\n\r\nexport const auth = app.auth()\r\n\r\nexport const storage = firebase.storage()\r\n\r\nexport default app","import React from 'react'\r\nimport { Field } from 'formik'\r\n\r\n\r\nconst FormPage2 = ({ errors }) => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"name\">Name*</label><br />\r\n      <div>\r\n        <Field name='name' type='input' />\r\n      </div>\r\n      {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n      <label htmlFor=\"email\">Email*</label><br />\r\n      <div>\r\n        <Field name='email' type='input' />\r\n      </div>\r\n      {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n\r\n      <label htmlFor=\"city\">City</label><br />\r\n      <div>\r\n        <Field name='city' type='input' />\r\n      </div>\r\n      {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FormPage2\r\n","import React from 'react'\r\nimport { Field } from 'formik'\r\n\r\n\r\nconst FormPage1 = ({ errors }) => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"username\">Username*</label><br />\r\n      <div>\r\n        <Field name='username' type='input' />\r\n      </div>\r\n      {errors.username ? <div className='form-error-message'>{errors.username}</div> : null}\r\n\r\n      <label htmlFor=\"password\">Password*</label><br />\r\n      <div>\r\n        <Field name='password' type='password' />\r\n      </div>\r\n      {errors.password ? <div className='form-error-message'>{errors.password}</div> : null}\r\n\r\n      <label htmlFor=\"passwordagain\">Confirm Password*</label><br />\r\n      <div>\r\n        <Field name='passwordagain' type='password' />\r\n      </div>\r\n      {errors.passwordagain ? <div className='form-error-message'>{errors.passwordagain}</div> : null}\r\n\r\n      <label htmlFor=\"adminVerification\">Admin verification</label><br />\r\n      <div>\r\n        <Field name='adminVerification' type='password' />\r\n      </div>\r\n      {errors.adminVerification ? <div className='form-error-message'>{errors.adminVerification}</div> : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FormPage1\r\n","import React, { useState } from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport FormPage2 from './formPage2'\r\nimport FormPage1 from './formPage1'\r\nimport { createUser } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\n\r\n\r\nconst RegisterForm = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const [page, setPage] = useState(0)\r\n\r\n  // eslint-disable-next-line no-undef\r\n  // const pageArray = [<FormPage1 errors={errors} />, <FormPage2 errors={errors} />]\r\n\r\n  let wrapper = `wrapper${page + 1}`\r\n\r\n  const handleSubmit = (data) => {\r\n    try {\r\n      dispatch(createUser(data))\r\n    } catch (err) {\r\n      console.log('Error on register submit', err.error)\r\n    }\r\n\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string()\r\n      .required('Name is required.'),\r\n    username: yup.string()\r\n      .required('Username required')\r\n      .min(6, 'Minimum length is 6 characters'),\r\n    email: yup.string()\r\n      .email('Must be a valid email')\r\n      .required('Email required'),\r\n    password: yup.string()\r\n      .required('Password required')\r\n      .min(10, 'Password must be atleast 10 characters long'),\r\n    passwordagain: yup.string()\r\n      .required('Password required')\r\n      .oneOf([yup.ref('password')], 'Passwords must match'),\r\n    city: yup.string().required('Where do you live?'),\r\n  })\r\n\r\n\r\n  return (\r\n    <div className={`${wrapper} register-wrapper`} >\r\n      <h2>Register</h2>\r\n\r\n      <Formik\r\n        validateOnChange={true}\r\n        validationSchema={validationSchema}\r\n        initialValues={{ username: '', password: '', passwordagain: '', name: '', email: '', city: '', adminVerification: '' }}\r\n        onSubmit={(data, { setSubmitting, resetForm }) => {\r\n          setSubmitting(true)\r\n          handleSubmit(data)\r\n          setSubmitting(false)\r\n          history.push('/')\r\n        }}\r\n      >\r\n        {({ values, errors, isSubmitting }) => (\r\n          <Form >\r\n\r\n            { page === 0 ?\r\n              <FormPage1 errors={errors} /> :\r\n              <FormPage2 errors={errors} />\r\n            }\r\n            {\r\n              page !== 1 ?\r\n                null :\r\n                <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Register</button>\r\n\r\n            }\r\n          </Form>\r\n        )}</Formik>\r\n      {page === 0 ?\r\n        null :\r\n        <button onClick={() => setPage(page - 1)} className='submit'> Back </button>}\r\n\r\n      {page !== 0 ?\r\n        null :\r\n        <button onClick={() => setPage(page + 1)} className='submit'> Next </button>}\r\n\r\n\r\n      <p className=\"login-small\" style={{ cursor: 'pointer' }}>\r\n        <Link to={{\r\n          pathname: '/',\r\n          open: true\r\n        }}> Already have an account?</Link>\r\n      </p>\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default RegisterForm\r\n","import React from 'react'\r\nimport '../../scss/register-form.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport RegisterForm from './registerForm'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nconst Register = () => {\r\n  const history = useHistory()\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n\r\n      <section className=\"wrapper\">\r\n        <RegisterForm />\r\n        \r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { resetPassword } from '../../services/contactServices'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\nconst ResetPasswordForm = () => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n\r\n    try {\r\n      const response = await resetPassword(data)\r\n      dispatch(changeNotification({title:'Done', message: 'Your password has been reset.'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Oh no there was an error while reseting your password ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    newPassword: yup.string()\r\n      .required('Password required')\r\n      .min(10, 'Password must be atleast 10 characters long'),\r\n    newPasswordAgain: yup.string()\r\n      .required('Password required')\r\n      .oneOf([yup.ref('newPassword')], 'Passwords must be the same'),\r\n  })\r\n\r\n\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{ newPassword: '', newPasswordAgain: '' }}\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n        history.push('/')\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form >\r\n          <label htmlFor=\"newPassword\">New password</label><br />\r\n          <div>\r\n            <Field name='newPassword' value={values.newPassword} type='password' />\r\n          </div>\r\n          {errors.newPassword ? <div className='form-error-message'>{errors.newPassword}</div> : null}\r\n\r\n\r\n          <label htmlFor=\"newPasswordAgain\">New password again</label><br />\r\n          <div>\r\n            <Field type=\"password\" name='newPasswordAgain' value={values.newPasswordAgain} />\r\n          </div>\r\n          {errors.newPasswordAgain ? <div className='form-error-message'>{errors.newPasswordAgain}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Reset password</button>\r\n        </Form>\r\n\r\n      )}</Formik>\r\n  )\r\n}\r\n\r\nexport default ResetPasswordForm\r\n","import React from 'react'\r\nimport '../../scss/reset-password.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport ResetPasswordForm from '../ResetPasswordForm'\r\n\r\n\r\nconst ResetPassword = () => {\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n      <section className=\"wrapper\">\r\n        <div className=\"reset-wrapper\">\r\n          <h2>Reset your password</h2>\r\n          <p className=\"login-small\">\r\n            Enter your new password and press the 'reset password' button to reset your password\r\n      </p>\r\n          <ResetPasswordForm />\r\n\r\n          <div className=\"reset-footer\">\r\n\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { forgotPassword } from '../../services/contactServices'\r\nimport * as yup from 'yup'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\n/**\r\n * The form for forgot password and the validation for it.\r\n */\r\nconst ForgotPasswordForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      const response = await forgotPassword(data)\r\n      dispatch(changeNotification({title:'Done', message: 'A reset link has been sent to your email.'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Oh no something went wrong: ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    email: yup.string().email('Must be a valid email').required('Required'),\r\n\r\n  })\r\n\r\n  return (\r\n    <Formik\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      initialValues={{ email: '' }}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form >\r\n          <label htmlFor=\"email\">Email</label><br />\r\n          <div>\r\n            <Field name='email' value={values.email} type='input' />\r\n          </div>\r\n          {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Send</button>\r\n        </Form>\r\n\r\n      )}</Formik>\r\n  )\r\n}\r\n\r\nexport default ForgotPasswordForm\r\n","import React from 'react'\r\nimport '../../scss/reset-password.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport ForgotPasswordForm from '../ForgotPasswordForm'\r\n\r\n/**\r\n * Wrapper for the Forgot password page.\r\n */\r\nconst ForgotPassword = () => {\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n      <section className=\"wrapper\">\r\n\r\n        <div className=\"reset-wrapper\">\r\n          <h2>Forgot your password?</h2>\r\n          <p className=\"login-small\">\r\n            Enter your email address to reset your password. If you can't see the messages check your spam folder\r\n      </p>\r\n\r\n\r\n          <ForgotPasswordForm />\r\n\r\n        </div>\r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword\r\n","import React from 'react'\r\nimport { Formik, Field, Form, FieldArray } from 'formik'\r\nimport TagItem from '../TagItem'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport { updateUserInfo } from '../../reducers/userReducer'\r\nimport * as yup from 'yup'\r\n\r\nconst SettingsForm = ({ user }) => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const match = useRouteMatch('/:username/settings')\r\n\r\n  const handleSubmit = async (data) => {\r\n    if (user) {\r\n      dispatch(updateUserInfo(user.username, data))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string()\r\n      .required('Name is required.'),\r\n    username: yup.string()\r\n      .required('Username required')\r\n      .min(6, 'Minimum length is 6 characters'),\r\n    email: yup.string()\r\n      .email('Must be a valid email')\r\n      .required('Email required'),\r\n    city: yup.string().required('Where do you live?'),\r\n  })\r\n\r\n  return (\r\n    <div className=\"account-settings wrap \">\r\n      <div className=\"align\" >\r\n\r\n        <h2>Account</h2>\r\n        <Formik\r\n          validateOnChange={true}\r\n          validationSchema={validationSchema}\r\n          initialValues={user}\r\n          enableReinitialize\r\n          onSubmit={(data, { setSubmitting, resetForm }) => {\r\n            setSubmitting(true)\r\n            handleSubmit(data)\r\n            setSubmitting(false)\r\n            resetForm()\r\n\r\n          }}\r\n        >\r\n          {({ errors, values, isSubmitting, handleChange }) => (\r\n            <Form action=\"\" className=\"account-settings-form form\">\r\n\r\n              <label htmlFor=\"name\">Name</label><br />\r\n              <div>\r\n                <Field name='name' value={values.name} type='input' onChange={handleChange} />\r\n              </div>\r\n              {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n              {values.type === 'ThirdPartyUser' ? null : (\r\n                <div>\r\n                  <label htmlFor=\"email\">Email</label><br />\r\n                  <div>\r\n                    <Field name='email' value={values.email} type='email' onChange={handleChange} />\r\n                  </div>\r\n                  {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n                </div>\r\n              )}\r\n\r\n\r\n              <label htmlFor=\"city\">City</label><br />\r\n              <div>\r\n                <Field name='city' value={values.city} type='input' onChange={handleChange} />\r\n              </div>\r\n              {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n\r\n              {/* <div className=\"likes\">\r\n            <label htmlFor=\"likes\">Likes</label><br />\r\n            <button type=\"button\">+</button>\r\n          </div>\r\n\r\n          <FieldArray name=\"tags\">\r\n            {arrayHelpers => (\r\n              <div>\r\n                <ul className=\"like-list\">\r\n                  {values.tags.map(tag => (\r\n                    <TagItem key={tag} tag={tag} />\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </FieldArray> */}\r\n              <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Save</button>\r\n              <pre style={{ color: 'blue' }}>{JSON.stringify(values, null, 2)}</pre>\r\n              <pre style={{ color: 'blue' }}>{JSON.stringify(errors, null, 2)}</pre>\r\n            </Form>\r\n          )}</Formik >\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SettingsForm\r\n","import React from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\n\r\nimport { changePassword } from '../../reducers/userReducer'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\n\r\n/**\r\n * The form for password change and the validation for it.\r\n * @param {*} user user who's password is to be changed. \r\n */\r\nconst ChangePasswordForm = ({ user }) => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const match = useRouteMatch('/:username/settings')\r\n\r\n  const handleSubmit = (data) => {\r\n    if (user) {\r\n      dispatch(changePassword(user.username, data)).then(() => {\r\n        setTimeout(() => {\r\n        }, 5000)\r\n        history.go(0)\r\n      }\r\n      )\r\n      dispatch(changeNotification({title:'Done', message: 'You\\'r password has been changed!'}))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    oldPassword: yup.string().required('Required'),\r\n    newPassword: yup.string()\r\n      .required('Password required')\r\n      .min(10, 'Password must be atleast 10 characters long'),\r\n    newPasswordAgain: yup.string()\r\n      .required('Password required')\r\n      .oneOf([yup.ref('newPassword')], 'Passwords must match'),\r\n  })\r\n\r\n  return (\r\n    <div className=\"change-password wrap\">\r\n      <div className=\"align \" >\r\n        <Formik\r\n          validateOnChange={true}\r\n          initialValues={{ oldPassword: '', newPassword: '', newPasswordAgain: '' }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={(data, { setSubmitting, resetForm }) => {\r\n            setSubmitting(true)\r\n            handleSubmit(data)\r\n            setSubmitting(false)\r\n            resetForm()\r\n\r\n          }}\r\n        >\r\n          {({ values, errors, isSubmitting }) => (\r\n            <Form className=\"form\">\r\n              <label htmlFor=\"oldPassword\">Old password</label><br />\r\n              <div>\r\n                <Field name='oldPassword' value={values.oldPassword} type='password' />\r\n              </div>\r\n              {errors.oldPassword ? <div className='form-error-message'>{errors.oldPassword}</div> : null}\r\n\r\n              <label htmlFor=\"newPassword\">New password</label><br />\r\n              <div>\r\n                <Field name='newPassword' value={values.newPassword} type='password' />\r\n              </div>\r\n              {errors.newPassword ? <div className='form-error-message'>{errors.newPassword}</div> : null}\r\n\r\n              <label htmlFor=\"newPasswordAgain\">New password again</label><br />\r\n              <div>\r\n                <Field type=\"password\" name='newPasswordAgain' value={values.newPasswordAgain} />\r\n              </div>\r\n              {errors.newPasswordAgain ? <div className='form-error-message'>{errors.newPasswordAgain}</div> : null}\r\n\r\n              <button disabled={isSubmitting} type=\"submit\" className=\"-submit\" >Change password</button>\r\n              <pre style={{ color: 'blue' }}>{JSON.stringify(values, null, 2)}</pre>\r\n              <pre style={{ color: 'blue' }}>{JSON.stringify(errors, null, 2)}</pre>\r\n\r\n            </Form>\r\n          )}</Formik >\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChangePasswordForm\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { deleteUser } from '../../reducers/userReducer'\r\nimport '../../scss/deleteButton.scss'\r\n\r\nconst DeleteButton = (user) => {\r\n    const dispatch = useDispatch()\r\n\r\n    if (!user) return null\r\n    const handleDelete = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (window.confirm('Are you sure you wish to delete you\\'r account?'))\r\n            dispatch(deleteUser(user.user.username))\r\n\r\n    }\r\n\r\n    console.log({user})\r\n    \r\n\r\n    return (\r\n        <div className='delete-button-wrapper'>\r\n            <div className=\"delete-button\" onClick={handleDelete}>\r\n                <span>Delete</span>\r\n            </div >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeleteButton\r\n","import React, { useState } from 'react'\r\nimport SettingsForm from '../SettingsForm'\r\nimport DeleteButton from '../SettingsForm/deleteButton'\r\n\r\nconst ThirdParty = ({ login }) => {\r\n    const [setting, setSetting] = useState('general')\r\n    let information\r\n\r\n    if (setting) {\r\n        switch (setting) {\r\n            case 'general':\r\n                information = <SettingsForm user={login} />\r\n                break;\r\n            case 'delete':\r\n                information = <DeleteButton user={login} />\r\n                break;\r\n            default:\r\n                information = <SettingsForm user={login} />\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"content-wrapper-settings\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"settings\">\r\n\r\n                    <div className=\"user-settings wrap\">\r\n                        <div className=\"align \" >\r\n\r\n                            <h2>User Settings</h2>\r\n                            <ul>\r\n                            <li onClick={() => setSetting('general')}>\r\n                                    General\r\n                  </li>\r\n                                <li onClick={() => setSetting('delete')}>\r\n                                    Delete account\r\n                  </li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        information\r\n                    }\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ThirdParty\r\n","import React, { useState } from 'react'\r\nimport { Formik, Field, Form, FieldArray } from 'formik'\r\nimport TagItem from '../TagItem'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport { updateUserInfo } from '../../reducers/userReducer'\r\nimport * as yup from 'yup'\r\nimport { updatePlace } from '../../reducers/placeReducer'\r\nimport { YoutubeSearchedForTwoTone } from '@material-ui/icons'\r\n\r\n/**\r\n * Form for admins to add a place.s\r\n */\r\nconst PlaceForm = ({ place }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = async (data) => {\r\n        dispatch(updatePlace(data.id, data)).then(() => {\r\n            // history.go(0)\r\n            console.log('Place update onnistu')\r\n\r\n        })\r\n\r\n    }\r\n\r\n    const lazy = yup.lazy(value => {\r\n        switch (value) {\r\n            case 'Closed':\r\n                return yup.string().required()\r\n            default:\r\n                return yup.string().matches(/\\d\\d:\\d\\d/, 'The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.')\r\n        }\r\n    })\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup.string()\r\n            .required('Name is required.'),\r\n        description: yup.string().required().min(10, 'The description should be atleast 10 characters.').max(350, 'The description should be max 350 characters.'),\r\n        openingHours: yup.object({\r\n            mon: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            tue: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            wed: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            thu: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            fri: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sat: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sun: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            })\r\n        }),\r\n        prices: yup.array().of(\r\n            yup.object().shape({\r\n                name: yup.string().min(4, 'Name must be atleast 4 chararcters.').required(),\r\n                onetime: yup.number().required().min(0),\r\n                tentime: yup.number().required().min(0),\r\n                month: yup.number().required().min(0),\r\n            })\r\n        ),\r\n        address: yup.string().min(20).required(),\r\n        city: yup.string().required(),\r\n        phone: yup.string().min(10).required(),\r\n        email: yup.string().email().required(),\r\n        url: yup.string().url().required(),\r\n        tags: yup.array().of(yup.string().min(3, 'The tag should be atleast 3 characters.'))\r\n    })\r\n\r\n    console.log('Place in place form', { place })\r\n\r\n    console.log(typeof place.openingHours.mon.open)\r\n    console.log(typeof place.openingHours.mon.close)\r\n\r\n    return (\r\n        <Formik\r\n            validateOnChange={true}\r\n            validationSchema={validationSchema}\r\n            initialValues={place}\r\n            enableReinitialize={true}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n                setSubmitting(true)\r\n                console.log({ values })\r\n                handleSubmit(values)\r\n                setSubmitting(false)\r\n            }}\r\n        >\r\n            {({ errors, values, isSubmitting, handleChange, setFieldValue }) => (\r\n\r\n                <Form action=\"\" className=\"account-settings-form form\">\r\n\r\n                    <label htmlFor=\"Name\">Name</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='name' value={values.name} type='input' />\r\n                    </div>\r\n                    {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n                    <label htmlFor=\"description\">Description</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='description' value={values.description} component='textarea' multiline='true' rows={3} />\r\n                    </div>\r\n                    {errors.description ? <div className='form-error-message'>{errors.description}</div> : null}\r\n\r\n                    <label htmlFor=\"file\">Image</label><br />\r\n                    <div>\r\n                        <input id=\"file\" name=\"file\" type=\"file\" onChange={(event) => {\r\n                            setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                        }} />\r\n                    </div>\r\n\r\n                    <h4>Opening hours</h4>\r\n\r\n                    <label htmlFor=\"openingHours.mon.open openingHours.mon.close\">Monday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} value={values.openingHours.mon.open} name='openingHours.mon.open' /> - <Field onChange={handleChange} name='openingHours.mon.close' value={values.openingHours.mon.close} />\r\n                        {(errors?.openingHours?.mon?.open) ? <div className='form-error-message'>{errors.openingHours.mon.open}</div> : null}\r\n                        {(errors?.openingHours?.mon?.close) ? <div className='form-error-message'>{errors.openingHours.mon.close}</div> : null}\r\n\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.tue.open openingHours.tue.close\">Tuesday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.tue.open' value={values.openingHours.tue.open} type='input' /> - <Field onChange={handleChange} name='openingHours.tue.close' value={values.openingHours.tue.close} type='input' />\r\n                        {(errors?.openingHours?.tue?.open) ? <div className='form-error-message'>{errors.openingHours.tue.open}</div> : null}\r\n                        {(errors?.openingHours?.tue?.close) ? <div className='form-error-message'>{errors.openingHours.tue.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.wed.close openingHours.wed.close\">Wednesday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.open} type='input' /> - <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.close} type='input' />\r\n                        {(errors?.openingHours?.wed?.open) ? <div className='form-error-message'>{errors.openingHours.wed.open}</div> : null}\r\n                        {(errors?.openingHours?.wed?.close) ? <div className='form-error-message'>{errors.openingHours.wed.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.thu.open openingHours.thu.close\">Thursday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.thu.open' value={values.openingHours.thu.open} type='input' /> - <Field onChange={handleChange} name='openingHours.thu.close' value={values.openingHours.thu.close} type='input' />\r\n                        {(errors?.openingHours?.thu?.open) ? <div className='form-error-message'>{errors.openingHours.thu.open}</div> : null}\r\n                        {(errors?.openingHours?.thu?.close) ? <div className='form-error-message'>{errors.openingHours.thu.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.fri.open openingHours.fri.close\">Friday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.fri.open' value={values.openingHours.fri.open} type='input' /> - <Field onChange={handleChange} name='openingHours.fri.close' value={values.openingHours.fri.close} type='input' />\r\n                        {(errors?.openingHours?.fri?.open) ? <div className='form-error-message'>{errors.openingHours.fri.open}</div> : null}\r\n                        {(errors?.openingHours?.fri?.close) ? <div className='form-error-message'>{errors.openingHours.fri.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.sat.open openingHours.sat.close\">Saturday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.sat.open' value={values.openingHours.sat.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sat.close' value={values.openingHours.sat.close} type='input' />\r\n                        {(errors?.openingHours?.sat?.open) ? <div className='form-error-message'>{errors.openingHours.sat.open}</div> : null}\r\n                        {(errors?.openingHours?.sat?.close) ? <div className='form-error-message'>{errors.openingHours.sat.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.sun.open openingHours.sun.close\">Sunday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.sun.open' value={values.openingHours.sun.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sun.close' value={values.openingHours.sun.close} type='input' />\r\n                        {(errors?.openingHours?.sun?.open) ? <div className='form-error-message'>{errors.openingHours.sun.open}</div> : null}\r\n                        {(errors?.openingHours?.sun?.close) ? <div className='form-error-message'>{errors.openingHours.sun.close}</div> : null}\r\n                    </div>\r\n\r\n                    <FieldArray name='prices'>\r\n                        {arrayHelpers => (\r\n                            <div>\r\n                                <h4>Pricing</h4>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"submit\"\r\n                                    onClick={() => arrayHelpers.push({ name: '', onetime: '', tentime: '', month: '' })}\r\n                                >Add</button>\r\n                                {values.prices.map((price, index) => {\r\n                                    return (\r\n                                        <div key={index}>\r\n                                            <label htmlFor={`prices[${index}].name`}>Name</label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].name`} /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.name ? <div className='form-error-message'>{errors.prices[index].name}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].onetime`}>1x </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].onetime`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.onetime ? <div className='form-error-message'>{errors.prices[index].onetime}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].tentime`}>10x </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].tentime`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.tentime ? <div className='form-error-message'>{errors.prices[index].tentime}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].month`}>Month </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].month`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.month ? <div className='form-error-message'>{errors.prices[index].month}</div> : null}\r\n\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"submit\"\r\n                                                onClick={() => arrayHelpers.remove(index)}\r\n                                            >remove</button> <br />\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </FieldArray>\r\n\r\n                    <h4>\r\n                        Info\r\n                    </h4>\r\n\r\n                    <label htmlFor=\"address\">Address</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='address' value={values.address} type='input' />\r\n                        {errors.address ? <div className='form-error-message'>{errors.address}</div> : null}\r\n\r\n                    </div>\r\n\r\n                    <label htmlFor=\"city\">City</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='city' value={values.city} type='input' />\r\n                        {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"phone\">Phone</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='phone' value={values.phone} type='input' />\r\n                        {errors.phone ? <div className='form-error-message'>{errors.phone}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"email\">Email</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='email' value={values.email} type='input' />\r\n                        {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"url\">Url</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='url' value={values.url} type='input' />\r\n                        {errors.url ? <div className='form-error-message'>{errors.url}</div> : null}\r\n                    </div>\r\n\r\n                    <FieldArray name='tags'>\r\n                        {arrayHelpers => (\r\n                            <div>\r\n                                <label htmlFor=\"tags\">Tags</label>\r\n                                <button className=\"submit\" type=\"button\" onClick={() => arrayHelpers.push('')}>\r\n                                    add\r\n                            </button> <br />\r\n                                {values.tags.map((tag, index) => {\r\n                                    const name = `tags.${index}`\r\n                                    const tagError = `errors.tags.${name}`\r\n                                    const errorIndex = `errors.tags[${index}]`\r\n                                    return (\r\n                                        <div key={index}>\r\n                                            <Field onChange={handleChange} name={name} />\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"submit\"\r\n                                                onClick={() => arrayHelpers.remove(index)}\r\n                                            >remove</button>\r\n                                            {errors?.tags && tagError ? <div className='form-error-message'>{errors.tags[index]}</div> : null}\r\n\r\n\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </FieldArray>\r\n\r\n                    <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Save</button>\r\n                    <pre style={{ color: 'blue' }}>{JSON.stringify(values, null, 2)}</pre>\r\n                    <pre style={{ color: 'blue' }}>{JSON.stringify(errors, null, 2)}</pre>\r\n                </Form>\r\n            )\r\n            }</Formik >\r\n    )\r\n}\r\n\r\nexport default PlaceForm\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PlaceForm from './index'\r\n\r\nconst ListItem = ({ place }) => {\r\n    const [open, setOpen] = useState(false)\r\n    const places = useSelector(state => state.places)\r\n\r\n    if (!places) return null\r\n\r\n    const sortedPlaces = places.sort(place => place.name)\r\n\r\n    return (\r\n        <li>\r\n            <h2 onClick={() => setOpen(!open)}>{place.name}</h2>\r\n            {open ?\r\n                (<PlaceForm place={place} />) :\r\n                null\r\n            }\r\n\r\n        </li>\r\n\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PlaceForm from './index'\r\nimport ListItem from './listItem'\r\n\r\nconst ListComp = ({ place }) => {\r\n\r\n    const places = useSelector(state => state.places)\r\n\r\n    if (!places) return null\r\n\r\n    const sortedPlaces = places.sort(place => place.name)\r\n\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {sortedPlaces.map(place => (\r\n                    <ListItem key={place.id} place={place} />\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListComp\r\n","import React, { useState } from 'react'\r\nimport { Formik, Field, Form, FieldArray } from 'formik'\r\nimport TagItem from '../TagItem'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport { updateUserInfo } from '../../reducers/userReducer'\r\nimport * as yup from 'yup'\r\nimport { addPlace } from '../../reducers/placeReducer'\r\nimport { YoutubeSearchedForTwoTone } from '@material-ui/icons'\r\n\r\n/**\r\n * Form for admins to add a place.s\r\n */\r\nconst PlaceAddForm = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = async (data) => {\r\n        dispatch(addPlace(data)).then(() => {\r\n            // history.go(0)\r\n            console.log('Place update onnistu')\r\n\r\n        })\r\n        console.log({ data })\r\n\r\n\r\n    }\r\n\r\n    const lazy = yup.lazy(value => {\r\n        switch (value) {\r\n            case 'Closed':\r\n                return yup.string().required()\r\n            default:\r\n                return yup.string().matches(/\\d\\d:\\d\\d/, 'The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.')\r\n        }\r\n    })\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup.string()\r\n            .required('Name is required.'),\r\n        description: yup.string().required().min(10, 'The description should be atleast 10 characters.').max(350, 'The description should be max 350 characters.'),\r\n        openingHours: yup.object({\r\n            mon: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            tue: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            wed: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            thu: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            fri: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sat: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sun: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            })\r\n        }),\r\n        prices: yup.array().of(\r\n            yup.object().shape({\r\n                name: yup.string().min(4, 'Name must be atleast 4 chararcters.').required(),\r\n                onetime: yup.number().required().min(0),\r\n                tentime: yup.number().required().min(0),\r\n                month: yup.number().required().min(0),\r\n            })\r\n        ),\r\n        address: yup.string().min(20).required(),\r\n        city: yup.string().required(),\r\n        phone: yup.string().min(10).required(),\r\n        email: yup.string().email().required(),\r\n        url: yup.string().url().required(),\r\n        tags: yup.array().of(yup.string().min(3, 'The tag should be atleast 3 characters.'))\r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <Formik\r\n            validateOnChange={true}\r\n            validationSchema={validationSchema}\r\n            initialValues={{\r\n                name: '',\r\n                description: '',\r\n                image: '',\r\n                openingHours: {\r\n                    mon: { open: '10:00', close: '18:00' },\r\n                    tue: { open: '10:00', close: '18:00' },\r\n                    wed: { open: '10:00', close: '18:00' },\r\n                    thu: { open: '10:00', close: '18:00' },\r\n                    fri: { open: '10:00', close: '18:00' },\r\n                    sat: { open: '10:00', close: '18:00' },\r\n                    sun: { open: '10:00', close: '18:00' },\r\n                },\r\n                prices: [\r\n                    {\r\n                        name: 'Alle 15v',\r\n                        onetime: 0,\r\n                        tentime: 0,\r\n                        month: 0\r\n                    }\r\n                ],\r\n                address: '',\r\n                city: '',\r\n                phone: '',\r\n                email: '',\r\n                url: '',\r\n                tags: ['']\r\n            }}\r\n            enableReinitialize={true}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n                setSubmitting(true)\r\n                console.log({ values })\r\n                handleSubmit(values)\r\n                setSubmitting(false)\r\n            }}\r\n        >\r\n            {({ errors, values, isSubmitting, handleChange, setFieldValue }) => (\r\n\r\n                <Form action=\"\" className=\"account-settings-form form\">\r\n\r\n                    <label htmlFor=\"Name\">Name</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='name' value={values.name} type='input' />\r\n                    </div>\r\n                    {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n                    <label htmlFor=\"description\">Description</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='description' value={values.description} component='textarea' multiline='true' rows={3} />\r\n                    </div>\r\n                    {errors.description ? <div className='form-error-message'>{errors.description}</div> : null}\r\n\r\n                    <label htmlFor=\"file\">Image</label><br />\r\n                    <div>\r\n                        <input id=\"file\" name=\"file\" type=\"file\" onChange={(event) => {\r\n                            setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                        }} />\r\n                    </div>\r\n\r\n                    <h4>Opening hours</h4>\r\n\r\n                    <label htmlFor=\"openingHours.mon.open openingHours.mon.close\">Monday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} value={values.openingHours.mon.open} name='openingHours.mon.open' /> - <Field onChange={handleChange} name='openingHours.mon.close' value={values.openingHours.mon.close} />\r\n                        {(errors?.openingHours?.mon?.open) ? <div className='form-error-message'>{errors.openingHours.mon.open}</div> : null}\r\n                        {(errors?.openingHours?.mon?.close) ? <div className='form-error-message'>{errors.openingHours.mon.close}</div> : null}\r\n\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.tue.open openingHours.tue.close\">Tuesday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.tue.open' value={values.openingHours.tue.open} type='input' /> - <Field onChange={handleChange} name='openingHours.tue.close' value={values.openingHours.tue.close} type='input' />\r\n                        {(errors?.openingHours?.tue?.open) ? <div className='form-error-message'>{errors.openingHours.tue.open}</div> : null}\r\n                        {(errors?.openingHours?.tue?.close) ? <div className='form-error-message'>{errors.openingHours.tue.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.wed.close openingHours.wed.close\">Wednesday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.open} type='input' /> - <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.close} type='input' />\r\n                        {(errors?.openingHours?.wed?.open) ? <div className='form-error-message'>{errors.openingHours.wed.open}</div> : null}\r\n                        {(errors?.openingHours?.wed?.close) ? <div className='form-error-message'>{errors.openingHours.wed.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.thu.open openingHours.thu.close\">Thursday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.thu.open' value={values.openingHours.thu.open} type='input' /> - <Field onChange={handleChange} name='openingHours.thu.close' value={values.openingHours.thu.close} type='input' />\r\n                        {(errors?.openingHours?.thu?.open) ? <div className='form-error-message'>{errors.openingHours.thu.open}</div> : null}\r\n                        {(errors?.openingHours?.thu?.close) ? <div className='form-error-message'>{errors.openingHours.thu.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.fri.open openingHours.fri.close\">Friday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.fri.open' value={values.openingHours.fri.open} type='input' /> - <Field onChange={handleChange} name='openingHours.fri.close' value={values.openingHours.fri.close} type='input' />\r\n                        {(errors?.openingHours?.fri?.open) ? <div className='form-error-message'>{errors.openingHours.fri.open}</div> : null}\r\n                        {(errors?.openingHours?.fri?.close) ? <div className='form-error-message'>{errors.openingHours.fri.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.sat.open openingHours.sat.close\">Saturday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.sat.open' value={values.openingHours.sat.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sat.close' value={values.openingHours.sat.close} type='input' />\r\n                        {(errors?.openingHours?.sat?.open) ? <div className='form-error-message'>{errors.openingHours.sat.open}</div> : null}\r\n                        {(errors?.openingHours?.sat?.close) ? <div className='form-error-message'>{errors.openingHours.sat.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.sun.open openingHours.sun.close\">Sunday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.sun.open' value={values.openingHours.sun.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sun.close' value={values.openingHours.sun.close} type='input' />\r\n                        {(errors?.openingHours?.sun?.open) ? <div className='form-error-message'>{errors.openingHours.sun.open}</div> : null}\r\n                        {(errors?.openingHours?.sun?.close) ? <div className='form-error-message'>{errors.openingHours.sun.close}</div> : null}\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    <FieldArray name='prices'>\r\n                        {arrayHelpers => (\r\n                            <div>\r\n                                <h4>Pricing</h4>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"submit\"\r\n                                    onClick={() => arrayHelpers.push({ name: '', onetime: '', tentime: '', month: '' })}\r\n                                >Add</button>\r\n                                {values.prices.map((price, index) => {\r\n                                    return (\r\n                                        <div key={index}>\r\n                                            <label htmlFor={`prices[${index}].name`}>Name</label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].name`} /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.name ? <div className='form-error-message'>{errors.prices[index].name}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].onetime`}>1x </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].onetime`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.onetime ? <div className='form-error-message'>{errors.prices[index].onetime}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].tentime`}>10x </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].tentime`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.tentime ? <div className='form-error-message'>{errors.prices[index].tentime}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].month`}>Month </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].month`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.month ? <div className='form-error-message'>{errors.prices[index].month}</div> : null}\r\n\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"submit\"\r\n                                                onClick={() => arrayHelpers.remove(index)}\r\n                                            >remove</button> <br />\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </FieldArray>\r\n\r\n                    <h4>\r\n                        Info\r\n                    </h4>\r\n\r\n                    <label htmlFor=\"address\">Address</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='address' value={values.address} type='input' />\r\n                        {errors.address ? <div className='form-error-message'>{errors.address}</div> : null}\r\n\r\n                    </div>\r\n\r\n                    <label htmlFor=\"city\">City</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='city' value={values.city} type='input' />\r\n                        {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"phone\">Phone</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='phone' value={values.phone} type='input' />\r\n                        {errors.phone ? <div className='form-error-message'>{errors.phone}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"email\">Email</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='email' value={values.email} type='input' />\r\n                        {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"url\">Url</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='url' value={values.url} type='input' />\r\n                        {errors.url ? <div className='form-error-message'>{errors.url}</div> : null}\r\n                    </div>\r\n\r\n                    <FieldArray name='tags'>\r\n                        {arrayHelpers => (\r\n                            <div>\r\n                                <label htmlFor=\"tags\">Tags</label>\r\n                                <button className=\"submit\" type=\"button\" onClick={() => arrayHelpers.push('')}>\r\n                                    add\r\n                            </button> <br />\r\n\r\n                                {values.tags.map((tag, index) => {\r\n                                    const name = `tags.${index}`\r\n                                    const tagError = `errors.tags.${name}`\r\n                                    const errorIndex = `errors.tags[${index}]`\r\n                                    return (\r\n                                        <div key={index}>\r\n                                            <Field onChange={handleChange} name={name} />\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"submit\"\r\n                                                onClick={() => arrayHelpers.remove(index)}\r\n                                            >remove</button>\r\n                                            {errors?.tags && tagError ? <div className='form-error-message'>{errors.tags[index]}</div> : null}\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n\r\n                            </div>\r\n                        )}\r\n                    </FieldArray>\r\n\r\n                    <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Save</button>\r\n                    <pre style={{ color: 'blue' }}>{JSON.stringify(values, null, 2)}</pre>\r\n                    <pre style={{ color: 'blue' }}>{JSON.stringify(errors, null, 2)}</pre>\r\n                </Form>\r\n            )\r\n            }</Formik >\r\n    )\r\n}\r\n\r\nexport default PlaceAddForm\r\n","import React, { useState } from 'react'\r\nimport SettingsForm from '../SettingsForm'\r\nimport ChangePasswordForm from '../ChangePasswordForm'\r\nimport ListComp from '../PlaceForm/listComp'\r\nimport DeleteButton from '../SettingsForm/deleteButton'\r\nimport PlaceAddForm from '../PlaceForm/placeAddForm'\r\n\r\nconst Admin = ({ login }) => {\r\n    const [setting, setSetting] = useState('general')\r\n    console.log('helloi')\r\n\r\n    let information\r\n\r\n    if (setting) {\r\n        switch (setting) {\r\n            case 'general':\r\n                information = <SettingsForm user={login} />\r\n                break;\r\n            case 'changePass':\r\n                information = <ChangePasswordForm user={login} />\r\n                break;\r\n            case 'places':\r\n                information = <ListComp />\r\n                break;\r\n            case 'addPlace':\r\n                information = <PlaceAddForm />\r\n                break;\r\n            case 'delete':\r\n                information = <DeleteButton user={login} />\r\n                break;\r\n            default:\r\n                information = <SettingsForm user={login} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"content-wrapper-settings\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"settings\">\r\n\r\n                    <div className=\"user-settings wrap\">\r\n                        <div className=\"align \" >\r\n\r\n                            <h2>User Settings</h2>\r\n                            <ul>\r\n                                <li onClick={() => setSetting('general')}>\r\n                                    General\r\n                  </li>\r\n                                <li onClick={() => setSetting('changePass')}>\r\n                                    Change password\r\n                  </li>\r\n                                <li onClick={() => setSetting('places')}>\r\n                                    Place control\r\n                  </li>\r\n                                <li onClick={() => setSetting('addPlace')}>\r\n                                    Add a place\r\n                  </li>\r\n                                <li onClick={() => setSetting('delete')}>\r\n                                    Delete account\r\n                  </li>\r\n\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {information}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Admin\r\n","import React, { useState } from 'react'\r\nimport SettingsForm from '../SettingsForm'\r\nimport ChangePasswordForm from '../ChangePasswordForm'\r\nimport DeleteButton from '../SettingsForm/deleteButton'\r\n\r\nconst OnSite = ({ login }) => {\r\n    const [setting, setSetting] = useState('general')\r\n    let information\r\n\r\n    if (setting) {\r\n        switch (setting) {\r\n            case 'general':\r\n                information = <SettingsForm user={login} />\r\n                break;\r\n            case 'changePass':\r\n                information = <ChangePasswordForm user={login} />\r\n                break;\r\n            case 'delete':\r\n                information = <DeleteButton user={login} />\r\n                break;\r\n            default:\r\n                information = <SettingsForm user={login} />\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"content-wrapper-settings\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"settings\">\r\n\r\n                    <div className=\"user-settings wrap\">\r\n                        <div className=\"align \" >\r\n\r\n                            <h2>User Settings</h2>\r\n                            <ul>\r\n                                <li onClick={() => setSetting('general')}>\r\n                                    General\r\n                  </li>\r\n                                <li onClick={() => setSetting('changePass')}>\r\n                                    Change password\r\n                  </li>\r\n                                <li onClick={() => setSetting('delete')}>\r\n                                    Delete account\r\n                  </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        information\r\n                    }\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default OnSite\r\n","import React, { useState, useEffect } from 'react'\r\nimport Person1 from '../../images/profile_testit/colton-sturgeon-odKeTFsBDgE-unsplash.jpg'\r\nimport NavLogo from '../../images/logo-white-header.svg'\r\nimport LogoFooter from '../../images/logo-white.svg'\r\nimport '../../scss/user-settings.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport SettingsForm from '../SettingsForm'\r\nimport ChangePasswordForm from '../ChangePasswordForm'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Redirect, useHistory, useRouteMatch } from 'react-router-dom'\r\nimport { getUser } from '../../reducers/loginReducer'\r\nimport { uploadAvatar } from '../../reducers/userReducer'\r\nimport ThirdParty from './thirdParty'\r\nimport Admin from './admin'\r\nimport OnSite from './onSite'\r\n\r\n\r\nconst UserSettings = (params) => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const [yes, setYes] = useState(false)\r\n\r\n  const match = useRouteMatch('/:username/settings')\r\n  const user = params.location.user\r\n  const login = useSelector(state => state.session)\r\n\r\n\r\n  if (!user) {\r\n    history.push('/')\r\n  }\r\n\r\n\r\n  let information\r\n  const handleUpload = (event) => {\r\n    event.preventDefault()\r\n\r\n    if (event.target.files[0]) {\r\n      dispatch(uploadAvatar(event.target.files[0]))\r\n    }\r\n  }\r\n  if (login) {\r\n    console.log('tyyppi', login.type)\r\n    switch (login.type) {\r\n      case 'AdminUser':\r\n        information = <Admin login={login} />\r\n        break;\r\n      case 'ThirdPartyUser':\r\n        information = <ThirdParty login={login} />\r\n        break;\r\n      default:\r\n        information = <OnSite login={login} />\r\n    }\r\n  }\r\n\r\n  console.log({ information })\r\n\r\n  const addDefaultSrc = (e) => {\r\n    e.target.src = `${login.avatar}`\r\n  }\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n      {\r\n        !login ?\r\n          <h1 style={{ textAlign: 'center' }}>You are not logged in. You can go log in by pressing the Login button in the NavBar</h1> :\r\n          <>\r\n            <section className=\"hero-wrapper\">\r\n              <div className=\"wrapper\">\r\n                <div className=\"hero-content\">\r\n                  <img onError={addDefaultSrc} src={`../${login.avatar}`} alt=\"\" />\r\n                  <input type='file' onChange={handleUpload} />\r\n                  <div className=\"user-text\">\r\n                    <h2>{login.name}</h2>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n            {information}\r\n          </>\r\n\r\n      }\r\n\r\n\r\n      <Footer />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default UserSettings\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { clearNotification } from '../../reducers/notificationReducer'\r\nimport '../../scss/notification.scss'\r\n\r\nconst NotificationItem = (note) => {\r\n  const [width, setWidth] = useState(0);\r\n  const [exit, setExit] = useState(false);\r\n  const [intervalID, setIntervalID] = useState(null);\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (width === 100) {\r\n      // Close notification\r\n      handleCloseNotification()\r\n    }\r\n  }, [width])\r\n\r\n  useEffect(() => {\r\n    handleStartTimer();\r\n  }, []);\r\n\r\n  const handleStartTimer = () => {\r\n    const id = setInterval(() => {\r\n      setWidth(prev => {\r\n        if (prev < 100) {\r\n          return prev + 1.0;\r\n        }\r\n        clearInterval(id);\r\n        return prev;\r\n      });\r\n    }, 20);\r\n\r\n    setIntervalID(id);\r\n  };\r\n\r\n  const handlePauseTimer = () => {\r\n    clearInterval(intervalID);\r\n  };\r\n\r\n  const handleCloseNotification = () => {\r\n    handlePauseTimer();\r\n    setExit(true);\r\n\r\n    setTimeout(() => {\r\n      dispatch(clearNotification(note.note.id))\r\n    }, note.note.time * 1000)\r\n  };\r\n\r\n  return (\r\n    <div onMouseEnter={handlePauseTimer}\r\n      onMouseLeave={handleStartTimer}\r\n      className={`notification ${note.note.type}  ${exit ? 'exit' : ''}`} >\r\n      {note.note.title ? <h3>{note.note.title}</h3> : null}\r\n      <p> {note.note.message} </p>\r\n      <div className={\"bar\"} style={{ width: `${width}%` }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotificationItem ","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport '../../scss/notification.scss'\r\nimport { clearNotification } from '../../reducers/notificationReducer'\r\nimport NotificationItem from './notificationItem'\r\n\r\n\r\n/**\r\n * Displays a notification with styles if the message is an error it uses error styles and if it's\r\n * a notification then it uses notification styles\r\n * @param {message} message is the message that tells what has happened.\r\n */\r\nconst Notification = () => {\r\n  const notification = useSelector(state => state.notification)\r\n\r\n  return (\r\n    <div className=\"notification-wrapper\">\r\n      {\r\n        notification.map((note) => (\r\n          <NotificationItem key={note.id} note={note} />\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  Switch, Route\r\n} from 'react-router-dom'\r\nimport firebase from 'firebase'\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth'\r\nimport { Container } from '@material-ui/core'\r\n\r\nimport Places from './components/Places'\r\nimport HomePage from './components/HomePage'\r\n\r\nimport ChosenPlace from './components/ChosenPlace'\r\nimport CommentForm from './components/CommentForm'\r\nimport { initializePlaces } from './reducers/placeReducer'\r\nimport { initializeComments } from './reducers/commentReducer';\r\nimport { initializeUsers } from './reducers/userReducer';\r\nimport { auth } from './firebase'\r\nimport ImageForm from './components/ImageForm'\r\nimport Login from './components/Login'\r\nimport Register from './components/Register'\r\nimport ResetPassword from './components/ResetPassword'\r\nimport ForgotPassword from './components/ForgotPassword';\r\nimport UserPage from './components/UserPage';\r\nimport UserSettings from './components/UserSettings';\r\nimport NavHeader from './components/NavHeader';\r\nimport Footer from './components/Footer';\r\nimport { googleLoginUser } from './reducers/loginReducer'\r\nimport Notification from './components/Notification'\r\n\r\nimport { getUser } from './reducers/loginReducer'\r\nimport Modal from './components/Modal';\r\n\r\n\r\n/**\r\n * Initializing the App => Places & Active user (Google or Onsite user)\r\n * Controller for site navigation\r\n */\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  // const loggedIn = useSelector(state => state.session\r\n\r\n  useEffect(() => {\r\n    dispatch(initializePlaces())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    dispatch(getUser())\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const unsubscribe = auth.onAuthStateChanged(async user => {\r\n        if (user) {\r\n          const id_token = await user.getIdToken()\r\n          if (!!id_token) {\r\n            dispatch(googleLoginUser(id_token))\r\n          }\r\n        }\r\n      })\r\n      return unsubscribe\r\n    } catch (err) {\r\n      console.log('error is', err.message)\r\n    }\r\n  }, [])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Notification />\r\n      <Switch>\r\n        <Route exact path='/' component={HomePage} />\r\n        {/* <Route exact path='/upload' component={ImageForm} /> */}\r\n        <Route exact path='/gym/:place_name' component={ChosenPlace} />\r\n        {/* <Route path='/comments' component={CommentForm} /> */}\r\n        <Route path='/login' component={Modal} />\r\n        <Route exact path='/register' component={Register} />\r\n        <Route exact path='/reset_password' component={ResetPassword} />\r\n        <Route exact path='/forgot' component={ForgotPassword} />\r\n        <Route exact path='/:username/settings' component={UserSettings} />\r\n        {/* <Route exact path='/:username' component={UserPage} /> */}\r\n\r\n\r\n        {/* <Route path='/nav' component={NavHeader} />\r\n\r\n        <Route path='/footer' component={Footer} /> */}\r\n\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { createStore, combineReducers, applyMiddleware  } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport placeReducer from './reducers/placeReducer.js'\r\nimport commentReducer from './reducers/commentReducer.js'\r\nimport userReducer from './reducers/userReducer.js'\r\nimport loginReducer from './reducers/loginReducer.js'\r\nimport notificationReducer from './reducers/notificationReducer.js'\r\n\r\n\r\n/**\r\n * Reducer for all stores\r\n * Places holds the places in the database\r\n * Comments holds the comments of a place\r\n * Session holds the active users info\r\n * Notification holds the notifications that are active\r\n * User holds the user that is being watched\r\n */\r\nconst reducer = combineReducers({\r\n  places: placeReducer,\r\n  comments: commentReducer,\r\n  session: loginReducer,\r\n  notification: notificationReducer,\r\n  user: userReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport './index.scss';\r\nimport App from './App';\r\nimport store from './store'\r\n\r\n/**\r\n * Redux store provider for the app\r\n */\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store} >\r\n      <App />\r\n    </Provider>\r\n  </Router>\r\n  , document.getElementById('root')\r\n);","module.exports = __webpack_public_path__ + \"static/media/logo-white.53c9c881.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-white-header.8277cea1.svg\";"],"sourceRoot":""}