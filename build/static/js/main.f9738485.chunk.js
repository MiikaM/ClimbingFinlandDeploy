(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,a,n){},105:function(e,a,n){},106:function(e,a,n){},108:function(e,a,n){e.exports=n.p+"static/media/logo-blue.a150db00.svg"},109:function(e,a,n){e.exports=n.p+"static/media/logo-white.53c9c881.svg"},113:function(e,a,n){e.exports=n.p+"static/media/search-blue.df215230.svg"},114:function(e,a,n){e.exports=n.p+"static/media/roya-ann-miller-G2QYE9czCEw-unsplash.c46cf8c9.jpg"},115:function(e,a,n){e.exports=n.p+"static/media/close.da67cfb9.svg"},118:function(e,a,n){e.exports=n.p+"static/media/logo-white-header.8277cea1.svg"},119:function(e,a,n){e.exports=n.p+"static/media/search.422d423f.svg"},120:function(e,a,n){e.exports=n.p+"static/media/settings.c5e2e3d7.svg"},121:function(e,a,n){e.exports=n.p+"static/media/logout.cb7690d4.svg"},122:function(e,a,n){e.exports=n.p+"static/media/mail.d8864552.svg"},123:function(e,a,n){e.exports=n.p+"static/media/world.7fc624ab.svg"},124:function(e,a,n){e.exports=n.p+"static/media/google-place.c9e3a731.svg"},125:function(e,a,n){e.exports=n.p+"static/media/phone.e3aed7d1.svg"},128:function(e,a,n){e.exports=n(181)},136:function(e,a,n){},138:function(e,a,n){},139:function(e,a,n){},166:function(e,a,n){},175:function(e,a,n){},176:function(e,a,n){},177:function(e,a,n){},179:function(e,a,n){},180:function(e,a,n){},181:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(54),o=n.n(l),c=n(19),s=n(6),i=(n(136),n(4)),u=n.n(i),m=n(7),p=n(12),d=n(13),E=(n(138),n(108)),v=n.n(E),g=(n(139),n(109)),f=n.n(g),h=n(2),b=n(10),w=n.n(b),y=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat("/api","/contact"),a,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat("/api","/forgot"),a,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat("/api","/passwordReset"),a,{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=n(3),H=n(50),k=n(35),x=n(183),j=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return function(t){t({type:"NOTIFICATION",notification:{title:e.title,message:e.message,type:a,time:n,id:Object(x.a)()}})}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NOTIFICATION":return[].concat(Object(k.a)(e),[Object(H.a)({},a.notification)]);case"CLEAR_NOTIFICATION":return e.filter((function(e){return e.id!==a.id}));default:return e}},P=function(){var e=Object(s.b)(),a=function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y(n);case 3:e(j({title:"Done",message:"Thank you for contacting us. Your email has been sent"})),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),e(j({title:"Error",message:"Oh no an error has occured ".concat(a.t0.response.data.error)},"error"));case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}(),n=C.d({name:C.f().required("Name is required."),email:C.f().email("Must be a valid email").required("Required"),message:C.f().required().min(10,"Message should be atleast 10 characters long.")});return r.a.createElement(h.d,{validateOnChange:!0,validationSchema:n,initialValues:{name:"",email:"",message:""},onSubmit:function(e,n){var t=n.setSubmitting,r=n.resetForm;t(!0),a(e),t(!1),r()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(h.c,{className:"footer-form"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"name",value:a.name,type:"input"})),n.name?r.a.createElement("div",{className:"form-error-message"},n.name):null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"email",value:a.email,type:"input"})),n.email?r.a.createElement("div",{className:"form-error-message"},n.email):null,r.a.createElement("label",{htmlFor:"name"},"Message"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{component:"textarea",name:"message",value:a.message,placeholder:"message...",multiline:"true",rows:3})),n.message?r.a.createElement("div",{className:"form-error-message"},n.message):null,r.a.createElement("button",{disabled:t,type:"submit",className:"contact-submit"},"Send"))}))},F=function(){return r.a.createElement("section",{className:"footer"},r.a.createElement("div",{className:"footer-bg"},r.a.createElement("div",{className:"wrapper "},r.a.createElement("div",{className:"footer-upper-wrapper"},r.a.createElement("div",{className:"footer-headers"},r.a.createElement("h2",null,"Are there any other places?"),r.a.createElement("h2",null,"Let us know!")),r.a.createElement("div",{className:"footer-form-wrapper"},r.a.createElement(P,null))))),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footer-lower-wrapper"},r.a.createElement("img",{src:f.a,alt:"footer logo",className:"footer-logo"}),r.a.createElement("ul",{className:"footer-list"},r.a.createElement("li",null,"Terms"),r.a.createElement("li",null,"Privacy"),r.a.createElement("li",null,"Our mission"),r.a.createElement("li",null,"Work with us"),r.a.createElement("li",null,"Help")))))},q=n(113),T=n.n(q),A=function(e){var a=e.place;return r.a.createElement("li",{className:"place-wrapper"},r.a.createElement("div",{className:"place-card"},r.a.createElement("a",{href:"/gym/".concat(a.name," ")},r.a.createElement("img",{src:a.image,alt:"".concat(a.name," sali"),className:"place"})),r.a.createElement("div",{className:"place-text-wrapper"},r.a.createElement("h2",{className:"place-header"},a.name),r.a.createElement("blockquote",{className:"place-description"},a.description),r.a.createElement("button",{className:"readmore-button"},r.a.createElement("a",{href:"/gym/".concat(a.name," ")}," Read more")))))},D=function(e){var a=e.search,n=Object(s.c)((function(e){return e.places})).sort((function(e){return e.name})),t=""===a?n:n.filter((function(e){return e.name.toUpperCase().startsWith(a.toUpperCase())}));return r.a.createElement("ul",{className:"place-list"},t.map((function(e){return r.a.createElement(A,{key:e.id,place:e})})))},I=n(51),U=n.n(I),R={signInFlow:"popup",signInSuccessUrl:"https://climbing-finland-v2.herokuapp.com/",signinOptions:[U.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:!1}},L=(n(166),n(114)),_=n.n(L),M={login:function(){var e=Object(m.a)(u.a.mark((function e(a){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:"onSite",user:Object(H.a)({},a)},e.next=3,w.a.post("/api/login",n,{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),googleLogin:function(){var e=Object(m.a)(u.a.mark((function e(a){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer ".concat(a)},withCredentials:!0},e.next=3,w.a.post("/api/login",{type:"google"},n);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("".concat("/api/login","/check"),{withCredentials:!0});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on getUser",{err:e.t0});case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),logoutUser:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat("/api/login","/logout"),{withCredentials:!0});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},V=function(e){return function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,M.googleLogin(e);case 3:t=a.sent,n({type:"LOGIN",data:t}),n(j({title:"Done",message:"Successfully logged in!"})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(j({title:"Error",message:"Login failed ".concat(a.t0.response.data.error)},"error"));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},G=function(){return function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getUser();case 3:(n=e.sent)?a({type:"GET_USER",data:n}):(window.localStorage.clear(),U.a.auth().signOut()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Not logged in.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},W=function(){return function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.logoutUser();case 3:a({type:"LOGOUT"}),a(j({title:"Done",message:"You have logged out!"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(j({title:"Error",message:"Logout failed ".concat(e.t0.response.data.error)},"error"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{session:!0},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return window.localStorage.setItem("login",JSON.stringify(a.data)),a.data;case"LOGOUT":return window.localStorage.clear(),U.a.auth().signOut(),window.location.reload(!0),{session:!0};case"GET_USER":return window.localStorage.setItem("login",JSON.stringify(a.data)),a.data;default:return e}},Y=function(e){var a=Object(s.b)(),n=function(e){var n;a((n=e,function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.login(n);case 3:t=e.sent,a({type:"LOGIN",data:t}),a(j({title:"Done",message:"Successfully logged in!"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(j({title:"Error",message:"Login failed ".concat(e.t0.response.data.error)},"error")),console.error("Error on login: ",{err:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()))},t=C.d({username:C.f().required("Required"),password:C.f().required("Password required")});return r.a.createElement(h.d,{validateOnChange:!0,validationSchema:t,initialValues:{username:"",password:""},onSubmit:function(e,a){var t=a.setSubmitting,r=a.resetForm;t(!0),n(e),t(!1),r()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(h.c,null,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"username",value:a.username,type:"input"})),n.username?r.a.createElement("div",{className:"form-error-message"},n.username):null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"password",value:a.password,type:"password"})),n.password?r.a.createElement("div",{className:"form-error-message"},n.password):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Log in"))}))},z=n(115),B=n.n(z),K=n(116),Q=n.n(K),X=function(e){var a=e.close,n=Object(p.f)();return r.a.createElement("section",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-image"},r.a.createElement("img",{src:_.a,alt:""})),r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-header"},r.a.createElement("h2",null,"Log in"),r.a.createElement("img",{src:B.a,alt:"",onClick:a})),r.a.createElement(Y,null),r.a.createElement(Q.a,{uiConfig:R,firebaseAuth:U.a.auth()}),r.a.createElement("p",{className:"login-small",onClick:function(){return n.push("/forgot")},style:{cursor:"pointer"}},"Forgot password?"),r.a.createElement("p",{className:"login-small",onClick:function(){return n.push("/register")},style:{cursor:"pointer"}},"Don't have an account?")))))},Z=(n(175),function(e){var a=e.open,n=e.children,t=e.onClose,l=Object(s.c)((function(e){return e.session}));return a&&l&&l.session?o.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-bg",onClick:t}),r.a.createElement("div",{className:"modal"},n)),document.getElementById("portal")):null}),$=(n(86),n(118)),ee=n.n($),ae=n(119),ne=n.n(ae),te=(n(176),n(33)),re=n(120),le=n.n(re),oe=n(121),ce=n.n(oe),se=function(e){var a=e.user,n=Object(s.b)(),t=Object(p.f)();return r.a.createElement("div",{className:"dropdown"},r.a.createElement(c.b,{to:{pathname:"/".concat(a.username,"/settings"),user:a}},r.a.createElement("img",{src:le.a,className:"little-nav-icon",alt:"user"})," Settings"),r.a.createElement(c.b,{to:{pathname:"/#"},onClick:function(e){e.preventDefault(),n(W()),t.push("/")}},r.a.createElement("img",{src:ce.a,className:"little-nav-icon",alt:"user"})," Logout"))},ie=function(e){var a=e.modal,n=e.user,l=e.page,o=Object(t.useState)(!1),c=Object(d.a)(o,2),s=c[0],i=c[1],u=(Object(te.b)({opacity:1,marginTop:0,from:{opacity:0,marginTop:-500}}),Object(te.b)({cursor:"pointer",opacity:1,from:{opacity:0},config:{delay:1e3,duration:1e3}}));if(!n)return null;return r.a.createElement("nav",null,r.a.createElement("ul",null,n.session?r.a.createElement(te.a.li,{style:u,onClick:a},"Log in"):r.a.createElement("li",null,r.a.createElement(te.a.img,{style:u,onError:function(e){e.target.src="".concat(n.avatar)},src:"main"===l?n.avatar:"../".concat(n.avatar),className:"nav-icon",alt:"user",onClick:function(){return i(!s)}}),s&&r.a.createElement(se,{user:n}))))},ue=function(e){var a=e.page,n=void 0===a?"secondary":a,l=Object(s.b)(),o=Object(te.b)({opacity:1,marginTop:0,from:{opacity:0,marginTop:-500}}),c=Object(te.b)({cursor:"pointer",opacity:1,from:{opacity:0},config:{delay:1e3,duration:1e3}}),i=Object(t.useState)(!1),u=Object(d.a)(i,2),m=u[0],E=u[1],v=Object(p.f)(),g=Object(s.c)((function(e){return e.session}));return Object(t.useEffect)((function(){l(G())}),[l]),g?r.a.createElement("div",null,r.a.createElement(te.a.section,{style:o,className:"nav-header ".concat(n)},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"search"},"main"===n?null:r.a.createElement(te.a.img,{style:c,src:ee.a,alt:"",className:"header-logo",onClick:function(){return v.push("/")}}),r.a.createElement("img",{src:ne.a,className:"search-icon",alt:"search-icon"}),r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search..."})),r.a.createElement(ie,{modal:function(e){e.preventDefault(),E(!0)},user:g,page:n})))),r.a.createElement(Z,{open:m,onClose:function(){return E(!1)}},r.a.createElement(X,{close:function(){return E(!1)}}))):null},me=function(e){var a=Object(s.b)(),n=Object(t.useState)(!1),l=Object(d.a)(n,2),o=l[0],c=l[1],i=Object(t.useState)(""),u=Object(d.a)(i,2),m=u[0],p=u[1];Object(t.useEffect)((function(){e.location.open&&c(e.location.open),a(G())}),[a]);return r.a.createElement("div",null,r.a.createElement("section",{className:"hero-home"},r.a.createElement("div",{className:"wrappers"},r.a.createElement(ue,{page:"main"}),r.a.createElement("div",{className:"hero-content-home"},r.a.createElement("img",{src:v.a,alt:"Top logo",className:"top-logo"}),r.a.createElement("p",{className:"subtitle"},"Find the best climbing gym for you")))),r.a.createElement(Z,{open:o,onClose:function(){return c(!1)}},r.a.createElement(X,{close:function(){return c(!1)}})),r.a.createElement("section",{className:"place-window-wrapper"},r.a.createElement("div",{className:"wrapper "},r.a.createElement("div",{className:"search-container-main"},r.a.createElement("img",{src:T.a,alt:"",className:"search-icon-main"}),r.a.createElement("input",{type:"text",className:"search-bar-main",onChange:function(e){return p(e.target.value)},placeholder:"Search..."})),r.a.createElement(D,{search:m}))),r.a.createElement(F,null))},pe={getAll:function(){return w.a.get("/api/comments",{withCredentials:!0}).then((function(e){return e.data}))},getComments:function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=5;break}return e.next=3,w.a.get("".concat("/api/comments","/").concat(a),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),addComment:function(){var e=Object(m.a)(u.a.mark((function e(a,n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(H.a)(Object(H.a)({},a),{},{id:n}),e.next=3,w.a.post("/api/comments",t,{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),deleteObject:function(e){return w.a.delete("".concat("/api/comments","/").concat(e),{withCredentials:!0}).then((function(e){return e.data}))}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_COMMENT":return e.concat(a.data);case"DELETE":return e.filter((function(e){return e.id!==a.data.id}));case"INIT_COMMENTS":case"GET_COMMENTS":return a.data;default:return e}},Ee=(n(87),function(e){var a=e.place_id,n=Object(s.b)(),t=Object(s.c)((function(e){return e.session})),l=function(e){n(function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,pe.addComment(e,a);case 3:r=n.sent,t({type:"ADD_COMMENT",data:r}),t(j({title:"Done",message:"You commented! Nice!"})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t(j({title:"Error",message:"Sorry server didn't like that comment. Try again."},"error")),console.error("Error on addComment dispatch: ",n.t0.response.data.error);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,a))},o=C.d({comment:C.f().min(2,"Message should be atleast 2 characters long.").required("Required")});return r.a.createElement("section",{className:"cmform-wrapper"},r.a.createElement("div",{className:"wrapper"},(null===t||void 0===t?void 0:t.session)?r.a.createElement("h3",{className:"placeholder"},"You must be logged in to comment!"):r.a.createElement("div",{className:"cmbox-wrapper"},r.a.createElement("img",{onError:function(e){e.target.src="".concat(t.avatar)},src:"../".concat(t.avatar),alt:"profile"}),r.a.createElement(h.d,{initialValues:{comment:""},validateOnChange:!0,validationSchema:o,onSubmit:function(e,a){var n=a.setSubmitting,t=a.resetForm;n(!0),l(e),n(!1),t()}},(function(e){e.values,e.handleChange,e.handleBlur;var a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a,className:"cmform"},r.a.createElement(h.a,{component:"textarea",name:"comment",type:"input",placeholder:"your comment",multiline:"true",rows:1}),r.a.createElement("button",{type:"submit",className:"submit cmbox-button"}," Comment"))})))))}),ve=function(e){var a=e.comment,n=a.user,t=new Date(a.date),l="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear());if(!a)return null;return r.a.createElement("li",{className:"card"},r.a.createElement("div",{className:"comment"},r.a.createElement("div",{className:"comment-meta"},r.a.createElement("img",{onError:function(e){e.target.src="".concat(n.avatar)},src:"../../".concat(n.avatar),alt:"",className:"comment-avatar"})),r.a.createElement("div",{className:"comment-meta-meta"},r.a.createElement("strong",null," ",n.name),r.a.createElement("p",{className:"timestamp"},l)),r.a.createElement("div",{className:"comment-body"},r.a.createElement("blockquote",null,a.comment))))},ge=function(e){var a=e.header,n=Object(s.c)((function(e){return e.comments}));return r.a.createElement("section",{className:"comments-wrapper"},r.a.createElement("div",{className:"wrapper align"},r.a.createElement("h2",null,a),n.length<1?r.a.createElement("h3",null,"Be the first one to comment!"):r.a.createElement("ul",{className:"comment-list-wrapper"},n.map((function(e){return r.a.createElement(ve,{key:e.id,comment:e})})))))},fe=n(122),he=n.n(fe),be=n(123),we=n.n(be),ye=n(124),Ne=n.n(ye),Oe=n(125),Ce=n.n(Oe),He=(n(177),function(e){var a=e.price,n=e.name;return r.a.createElement("li",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"upper-category"},r.a.createElement("h2",null,n),r.a.createElement("div",{className:"text-wrapper"},r.a.createElement("div",{className:"text"},r.a.createElement("strong",null,a.onetime,"\u20ac",r.a.createElement("br",null),"/kerta")))),r.a.createElement("div",{className:"lower-category"},r.a.createElement("p",null,a.tentime,"\u20ac",r.a.createElement("br",null),"/10x-kertaa"),r.a.createElement("p",null,a.month,"\u20ac",r.a.createElement("br",null),"/kuukausi"))))}),ke=function(){var e=Object(s.b)(),a=Object(s.c)((function(e){return e.places})),n=["first","second","third","fourth","fifth","sixth","seventh","eight","nineth","tenth"],l=Object(p.g)("/gym/:place_name"),o=l?a.find((function(e){return e.name===l.params.place_name})):null;if(Object(t.useEffect)((function(){var a,n;void 0!==(null===l||void 0===l||null===(a=l.params)||void 0===a?void 0:a.place_name)&&e((n=l.params.place_name,function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.getComments(n);case 3:t=e.sent,a({type:"GET_COMMENTS",data:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(j({title:"Error",message:"There was an error loading the database. Please try again later."},"error")),console.error("Error on initialize comments: ",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()))}),[o]),!o)return null;var c=o.image.replace(/\\/g,"/");return r.a.createElement("div",null,r.a.createElement(ue,null),r.a.createElement("section",{className:"hero-wrapper",style:{background:"url('../".concat(c,"')"),backgroundSize:"cover",backgroundPosition:"50% 45%",borderRadius:"0 0 10px 10px"}}),r.a.createElement("section",{className:"info-sec"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"hero-content-place"},r.a.createElement("h1",null,o.name),r.a.createElement("p",{className:"subtitle-place"},o.description)))),r.a.createElement("section",{className:"content-wrapper"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content-grid"},r.a.createElement("div",{className:"card opening-wrapper margin-left"},r.a.createElement("h2",null,"Aukioloajat"),r.a.createElement("ul",{className:"opening-list"},r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Mon"),r.a.createElement("p",null,o.openingHours.mon.open," - ",o.openingHours.mon.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Tue"),r.a.createElement("p",null,o.openingHours.tue.open," - ",o.openingHours.tue.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Wed"),r.a.createElement("p",null,o.openingHours.wed.open," - ",o.openingHours.wed.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Thu"),r.a.createElement("p",null,o.openingHours.thu.open," - ",o.openingHours.thu.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Fri"),r.a.createElement("p",null,o.openingHours.fri.open," - ",o.openingHours.fri.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Sat"),r.a.createElement("p",null,o.openingHours.sat.open," - ",o.openingHours.sat.close)),r.a.createElement("li",{className:"open"},r.a.createElement("strong",null,"Sun"),r.a.createElement("p",null,o.openingHours.sun.open," - ",o.openingHours.sun.close)))),r.a.createElement("div",{className:"card margin-right"},r.a.createElement("h2",null,"Info"),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,r.a.createElement("img",{src:he.a,alt:""}),r.a.createElement("p",{className:"place-info"},o.email)),r.a.createElement("li",null,r.a.createElement("img",{src:we.a,alt:""}),r.a.createElement("a",{href:o.url,className:"place-info"},o.url)),r.a.createElement("li",null,r.a.createElement("img",{src:Ne.a,alt:""}),r.a.createElement("p",{className:"place-info"},o.address)),r.a.createElement("li",null,r.a.createElement("img",{src:Ce.a,alt:""}),r.a.createElement("p",{className:"place-info"},o.phone)))),r.a.createElement("div",{className:"card margin-left"},r.a.createElement("h2",null,"Tags"),r.a.createElement("ul",{className:"likes-user"},o.tags.map((function(e,a){return r.a.createElement("li",{key:a,className:"tag-item ".concat(n[Math.floor(Math.random()*n.length)])},r.a.createElement("p",null,e))}))))))),r.a.createElement("section",{className:"prices"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Hinnasto"),r.a.createElement("blockquote",null,r.a.createElement("strong",null,"HUOM!")," Hinnat ovat suuntaa antavia. Hinnat eiv\xe4t v\xe4ltt\xe4m\xe4tt\xe4 pid\xe4 paikkaansa jos sivuja ei ole ehditty p\xe4ivitt\xe4m\xe4\xe4n. Hinnat eiv\xe4t my\xf6sk\xe4\xe4n sis\xe4ll\xe4 tarvike vuokria."),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("ul",{className:"price-list"},o.prices.map((function(e){return r.a.createElement(He,{key:e.name,price:e,name:e.name})})))))),r.a.createElement(ge,{header:"Kommentit",place_id:o.id}),r.a.createElement(Ee,{place_id:o.id}),r.a.createElement(F,null))},xe={getAll:function(){return w.a.get("/api/places").then((function(e){return e.data}))},add:function(){var e=Object(m.a)(u.a.mark((function e(a){var n,t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(a),(t=new FormData).append("place",n),e.next=5,w.a.post("/api/places",t,{withCredentials:!0});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),update:function(e,a){var n=JSON.stringify(a),t=new FormData;return t.append("place",n),w.a.put("".concat("/api/places","/").concat(e),t,{withCredentials:!0}).then((function(e){return e.data}))},deleteObject:function(e){return w.a.delete("".concat("/api/places","/").concat(e),{withCredentials:!0}).then((function(e){return e.data}))}},je=function(e){return function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,xe.add(e);case 3:t=a.sent,n({type:"NEW_PLACE",data:t}),n(j({title:"Done",message:"New place created!"})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n(j({title:"Error",message:"Couldn't create a place: ".concat(a.t0.response.data.error)},"error")),console.error("Error on createPlace: ",a.t0.response.data.error);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Se=function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,xe.update(e,a);case 3:r=n.sent,t({type:"UPDATE_PLACE",data:r}),t(j({title:"Done",message:"Place info updated!"})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t(j({title:"Error",message:"Couldn't update a place: ".concat(n.t0.response.data.error)},"error")),console.error("Error on updatePlace: ",n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEW_PLACE":return e.concat(a.data);case"UPDATE_PLACE":var n=a.data.id;return e.map((function(e){return e.id!==n?e:a.data}));case"DELETE":return e.filter((function(e){return e.id!==a.data.id}));case"INIT_PLACES":return a.data;default:return e}},Fe=n(8),qe=n.n(Fe),Te=(n(103),n(178),qe.a.initializeApp({apiKey:"AIzaSyCVmpjoCpS53LqU26ee693vwbKwIp3-0Mg",authDomain:"climbingfinland-cf142.firebaseapp.com",databaseURL:"https://climbingfinland-cf142.firebaseio.com",projectId:"climbingfinland-cf142",storageBucket:"climbingfinland-cf142.appspot.com",messagingSenderId:"513581301963",appId:"1:513581301963:web:e50aa3799f9ae5bc4c1b4e",measurementId:"G-H8QRV1L13W"})),Ae=Te.auth(),De=(qe.a.storage(),n(179),function(e){var a=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"name"},"Name*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"name",type:"input"})),a.name?r.a.createElement("div",{className:"form-error-message"},a.name):null,r.a.createElement("label",{htmlFor:"email"},"Email*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"email",type:"input"})),a.email?r.a.createElement("div",{className:"form-error-message"},a.email):null,r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"city",type:"input"})),a.city?r.a.createElement("div",{className:"form-error-message"},a.city):null)}),Ie=function(e){var a=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"username"},"Username*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"username",type:"input"})),a.username?r.a.createElement("div",{className:"form-error-message"},a.username):null,r.a.createElement("label",{htmlFor:"password"},"Password*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"password",type:"password"})),a.password?r.a.createElement("div",{className:"form-error-message"},a.password):null,r.a.createElement("label",{htmlFor:"passwordagain"},"Confirm Password*"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"passwordagain",type:"password"})),a.passwordagain?r.a.createElement("div",{className:"form-error-message"},a.passwordagain):null,r.a.createElement("label",{htmlFor:"adminVerification"},"Admin verification"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"adminVerification",type:"password"})),a.adminVerification?r.a.createElement("div",{className:"form-error-message"},a.adminVerification):null)},Ue={getAll:function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/users");case 2:return a=e.sent,e.abrupt("return",a.then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateUserInfo:function(){var e=Object(m.a)(u.a.mark((function e(a,n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("".concat("/api/users","/").concat(a),n,{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(m.a)(u.a.mark((function e(a,n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("".concat("/api/users","/changePassword/").concat(a),n,{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/users",a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("".concat("/api/users","/").concat(a),{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},Re=function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ue.updateUserInfo(e,a);case 3:r=n.sent,t({type:"UPDATE_USER",data:r}),t(G()),t(j({title:"Done",message:"Your information has been updated."})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t(j({title:"Error",message:"Sorry, couldn't update your information."},"error"));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_USER":return window.localStorage.setItem("login",JSON.stringify(a.data)),e;case"CREATE_USER":case"CHANGE_PASSWORD":case"DELETE_USER":default:return e}},_e=function(){var e=Object(s.b)(),a=Object(p.f)(),n=Object(t.useState)(0),l=Object(d.a)(n,2),o=l[0],i=l[1],E="wrapper".concat(o+1),v=function(a){try{e(function(e){return function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ue.createUser(e);case 3:t=a.sent,n({type:"CREATE_USER",data:t}),n(j({title:"Done",message:"Registeration successful. Please go confirm you'r email address before trying to log in."})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(j({title:"Error",message:"Sorry, couldn't create a new account. Try again later."},"error"));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a))}catch(n){console.log("Error on register submit",n.error)}},g=C.d({name:C.f().required("Name is required."),username:C.f().required("Username required").min(6,"Minimum length is 6 characters"),email:C.f().email("Must be a valid email").required("Email required"),password:C.f().required("Password required").min(10,"Password must be atleast 10 characters long"),passwordagain:C.f().required("Password required").oneOf([C.e("password")],"Passwords must match"),city:C.f().required("Where do you live?")});return r.a.createElement("div",{className:"".concat(E," register-wrapper")},r.a.createElement("h2",null,"Register"),r.a.createElement(h.d,{validateOnChange:!0,validationSchema:g,initialValues:{username:"",password:"",passwordagain:"",name:"",email:"",city:"",adminVerification:""},onSubmit:function(e,n){var t=n.setSubmitting;n.resetForm;t(!0),v(e),t(!1),a.push("/")}},(function(e){e.values;var a=e.errors,n=e.isSubmitting;return r.a.createElement(h.c,null,0===o?r.a.createElement(Ie,{errors:a}):r.a.createElement(De,{errors:a}),1!==o?null:r.a.createElement("button",{disabled:n,type:"submit",className:"submit"},"Register"))})),0===o?null:r.a.createElement("button",{onClick:function(){return i(o-1)},className:"submit"}," Back "),0!==o?null:r.a.createElement("button",{onClick:function(){return i(o+1)},className:"submit"}," Next "),r.a.createElement("p",{className:"login-small",style:{cursor:"pointer"}},r.a.createElement(c.b,{to:{pathname:"/",open:!0}}," Already have an account?")))},Me=function(){return r.a.createElement("div",null,r.a.createElement(ue,null),r.a.createElement("section",{className:"wrapper"},r.a.createElement(_e,null)),r.a.createElement(F,null))},Ve=(n(104),function(){var e=Object(p.f)(),a=Object(s.b)(),n=function(){var e=Object(m.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n);case 3:a(j({title:"Done",message:"Your password has been reset."})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a(j({title:"Error",message:"Oh no there was an error while reseting your password ".concat(e.t0.response.data.error)},"error"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),t=C.d({newPassword:C.f().required("Password required").min(10,"Password must be atleast 10 characters long"),newPasswordAgain:C.f().required("Password required").oneOf([C.e("newPassword")],"Passwords must be the same")});return r.a.createElement(h.d,{initialValues:{newPassword:"",newPasswordAgain:""},validateOnChange:!0,validationSchema:t,onSubmit:function(a,t){var r=t.setSubmitting,l=t.resetForm;r(!0),n(a),r(!1),l(),e.push("/")}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(h.c,null,r.a.createElement("label",{htmlFor:"newPassword"},"New password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"newPassword",value:a.newPassword,type:"password"})),n.newPassword?r.a.createElement("div",{className:"form-error-message"},n.newPassword):null,r.a.createElement("label",{htmlFor:"newPasswordAgain"},"New password again"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{type:"password",name:"newPasswordAgain",value:a.newPasswordAgain})),n.newPasswordAgain?r.a.createElement("div",{className:"form-error-message"},n.newPasswordAgain):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Reset password"))}))}),Ge=function(){return r.a.createElement("div",null,r.a.createElement(ue,null),r.a.createElement("section",{className:"wrapper"},r.a.createElement("div",{className:"reset-wrapper"},r.a.createElement("h2",null,"Reset your password"),r.a.createElement("p",{className:"login-small"},"Enter your new password and press the 'reset password' button to reset your password"),r.a.createElement(Ve,null),r.a.createElement("div",{className:"reset-footer"}))),r.a.createElement(F,null))},We=function(){var e=Object(s.b)(),a=function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N(n);case 3:e(j({title:"Done",message:"A reset link has been sent to your email."})),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),e(j({title:"Error",message:"Oh no something went wrong: ".concat(a.t0.response.data.error)},"error"));case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}(),n=C.d({email:C.f().email("Must be a valid email").required("Required")});return r.a.createElement(h.d,{validateOnChange:!0,validationSchema:n,initialValues:{email:""},onSubmit:function(e,n){var t=n.setSubmitting,r=n.resetForm;t(!0),a(e),t(!1),r()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(h.c,null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"email",value:a.email,type:"input"})),n.email?r.a.createElement("div",{className:"form-error-message"},n.email):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Send"))}))},Je=function(){return r.a.createElement("div",null,r.a.createElement(ue,null),r.a.createElement("section",{className:"wrapper"},r.a.createElement("div",{className:"reset-wrapper"},r.a.createElement("h2",null,"Forgot your password?"),r.a.createElement("p",{className:"login-small"},"Enter your email address to reset your password. If you can't see the messages check your spam folder"),r.a.createElement(We,null))),r.a.createElement(F,null))},Ye=(n(180),function(e){var a=e.user,n=Object(s.b)(),t=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&n(Re(a.username,t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),l=C.d({name:C.f().required("Name is required."),username:C.f().required("Username required").min(6,"Minimum length is 6 characters"),email:C.f().email("Must be a valid email").required("Email required"),city:C.f().required("Where do you live?")});return r.a.createElement("div",{className:"account-settings wrap "},r.a.createElement("div",{className:"align"},r.a.createElement("h2",null,"Account"),r.a.createElement(h.d,{validateOnChange:!0,validationSchema:l,initialValues:a,enableReinitialize:!0,onSubmit:function(e,a){var n=a.setSubmitting,r=a.resetForm;n(!0),t(e),n(!1),r()}},(function(e){var a=e.errors,n=e.values,t=e.isSubmitting,l=e.handleChange;return r.a.createElement(h.c,{action:"",className:"account-settings-form form"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"name",value:n.name,type:"input",onChange:l})),a.name?r.a.createElement("div",{className:"form-error-message"},a.name):null,"ThirdPartyUser"===n.type?null:r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"email",value:n.email,type:"email",onChange:l})),a.email?r.a.createElement("div",{className:"form-error-message"},a.email):null),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"city",value:n.city,type:"input",onChange:l})),a.city?r.a.createElement("div",{className:"form-error-message"},a.city):null,r.a.createElement("button",{disabled:t,type:"submit",className:"submit"},"Save"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(n,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(a,null,2)))}))))}),ze=(n(105),function(e){var a=Object(s.b)();if(!e)return null;return r.a.createElement("div",{className:"delete-button-wrapper"},r.a.createElement("div",{className:"delete-button",onClick:function(n){var t;n.preventDefault(),window.confirm("Are you sure you wish to delete you'r account?")&&a((t=e.user.username,function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.deleteUser(t);case 3:n=e.sent,a({type:"DELETE_USER",data:n}),a(W()),a(j({title:"Done",message:"You'r account has been deleted."})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(j({title:"Error",message:"Sorry, something went wrong."},"error"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()))}},r.a.createElement("span",null,"Delete")))}),Be=function(e){var a,n=e.login,l=Object(t.useState)("general"),o=Object(d.a)(l,2),c=o[0],s=o[1];if(c)switch(c){case"general":a=r.a.createElement(Ye,{user:n});break;case"delete":a=r.a.createElement(ze,{user:n});break;default:a=r.a.createElement(Ye,{user:n})}return r.a.createElement("section",{className:"content-wrapper-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"user-settings wrap"},r.a.createElement("div",{className:"align "},r.a.createElement("h2",null,"User Settings"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return s("general")}},"General"),r.a.createElement("li",{onClick:function(){return s("delete")}},"Delete account")))),a)))},Ke=function(e){var a=e.user,n=Object(p.f)(),t=Object(s.b)(),l=function(e){a&&(t(function(e,a){return function(){var n=Object(m.a)(u.a.mark((function n(t){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ue.changePassword(e,a);case 3:r=n.sent,t({type:"CHANGE_PASSWORD",data:r}),t(j({title:"Done",message:"Your password has been changed!"})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(j({title:"Error",message:"Sorry, couldn't change your password."},"error"));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(a.username,e)).then((function(){setTimeout((function(){}),5e3),n.go(0)})),t(j({title:"Done",message:"You'r password has been changed!"})))},o=C.d({oldPassword:C.f().required("Required"),newPassword:C.f().required("Password required").min(10,"Password must be atleast 10 characters long"),newPasswordAgain:C.f().required("Password required").oneOf([C.e("newPassword")],"Passwords must match")});return r.a.createElement("div",{className:"change-password wrap"},r.a.createElement("div",{className:"align "},r.a.createElement(h.d,{validateOnChange:!0,initialValues:{oldPassword:"",newPassword:"",newPasswordAgain:""},validationSchema:o,onSubmit:function(e,a){var n=a.setSubmitting,t=a.resetForm;n(!0),l(e),n(!1),t()}},(function(e){var a=e.values,n=e.errors,t=e.isSubmitting;return r.a.createElement(h.c,{className:"form"},r.a.createElement("label",{htmlFor:"oldPassword"},"Old password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"oldPassword",value:a.oldPassword,type:"password"})),n.oldPassword?r.a.createElement("div",{className:"form-error-message"},n.oldPassword):null,r.a.createElement("label",{htmlFor:"newPassword"},"New password"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{name:"newPassword",value:a.newPassword,type:"password"})),n.newPassword?r.a.createElement("div",{className:"form-error-message"},n.newPassword):null,r.a.createElement("label",{htmlFor:"newPasswordAgain"},"New password again"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{type:"password",name:"newPasswordAgain",value:a.newPasswordAgain})),n.newPasswordAgain?r.a.createElement("div",{className:"form-error-message"},n.newPasswordAgain):null,r.a.createElement("button",{disabled:t,type:"submit",className:"-submit"},"Change password"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(a,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(n,null,2)))}))))},Qe=function(e){var a=e.place,n=Object(s.b)(),t=function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Se(a.id,a)).then((function(){console.log("Place update onnistu")}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),l=C.b((function(e){switch(e){case"Closed":return C.f().required();default:return C.f().matches(/\d\d:\d\d/,"The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.")}})),o=C.d({name:C.f().required("Name is required."),description:C.f().required().min(10,"The description should be atleast 10 characters.").max(350,"The description should be max 350 characters."),openingHours:C.d({mon:C.d({open:l,close:l}),tue:C.d({open:l,close:l}),wed:C.d({open:l,close:l}),thu:C.d({open:l,close:l}),fri:C.d({open:l,close:l}),sat:C.d({open:l,close:l}),sun:C.d({open:l,close:l})}),prices:C.a().of(C.d().shape({name:C.f().min(4,"Name must be atleast 4 chararcters.").required(),onetime:C.c().required().min(0),tentime:C.c().required().min(0),month:C.c().required().min(0)})),address:C.f().min(20).required(),city:C.f().required(),phone:C.f().min(10).required(),email:C.f().email().required(),url:C.f().url().required(),tags:C.a().of(C.f().min(3,"The tag should be atleast 3 characters."))});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"delete-button-small",onClick:function(e){var t;e.preventDefault(),window.confirm("Are you sure you wish to delete this place?")&&n((t=null===a||void 0===a?void 0:a.id,function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.deleteObject(t);case 3:n=e.sent,a({type:"DELETE_PLACE",data:n}),a(j({title:"Done",message:"Place deleted!"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(j({title:"Error",message:"Couldn't remove place: ".concat(e.t0.response.data.error)},"error")),console.error("Error on deletePlace: ",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()))}},r.a.createElement("span",null,"Delete"))),r.a.createElement(h.d,{validateOnChange:!0,validationSchema:o,initialValues:a,enableReinitialize:!0,onSubmit:function(e,a){var n=a.setSubmitting;n(!0),t(e),n(!1)}},(function(e){var a,n,t,l,o,c,s,i,u,m,p,d,E,v,g,f,b,w,y,N,O,C,H,k,x,j,S,P,F=e.errors,q=e.values,T=e.isSubmitting,A=e.handleChange;e.setFieldValue;return r.a.createElement(h.c,{action:"",className:"account-settings-form form"},r.a.createElement("label",{htmlFor:"Name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"name",value:q.name,type:"input"})),F.name?r.a.createElement("div",{className:"form-error-message"},F.name):null,r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"description",value:q.description,component:"textarea",multiline:"true",rows:3})),F.description?r.a.createElement("div",{className:"form-error-message"},F.description):null,r.a.createElement("h4",null,"Opening hours"),r.a.createElement("label",{htmlFor:"openingHours.mon.open openingHours.mon.close"},"Monday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,value:q.openingHours.mon.open,name:"openingHours.mon.open"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.mon.close",value:q.openingHours.mon.close}),(null===F||void 0===F||null===(a=F.openingHours)||void 0===a||null===(n=a.mon)||void 0===n?void 0:n.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.open):null,(null===F||void 0===F||null===(t=F.openingHours)||void 0===t||null===(l=t.mon)||void 0===l?void 0:l.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.close):null),r.a.createElement("label",{htmlFor:"openingHours.tue.open openingHours.tue.close"},"Tuesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.tue.open",value:q.openingHours.tue.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.tue.close",value:q.openingHours.tue.close,type:"input"}),(null===F||void 0===F||null===(o=F.openingHours)||void 0===o||null===(c=o.tue)||void 0===c?void 0:c.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.open):null,(null===F||void 0===F||null===(s=F.openingHours)||void 0===s||null===(i=s.tue)||void 0===i?void 0:i.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.close):null),r.a.createElement("label",{htmlFor:"openingHours.wed.close openingHours.wed.close"},"Wednesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.close,type:"input"}),(null===F||void 0===F||null===(u=F.openingHours)||void 0===u||null===(m=u.wed)||void 0===m?void 0:m.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.open):null,(null===F||void 0===F||null===(p=F.openingHours)||void 0===p||null===(d=p.wed)||void 0===d?void 0:d.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.close):null),r.a.createElement("label",{htmlFor:"openingHours.thu.open openingHours.thu.close"},"Thursday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.thu.open",value:q.openingHours.thu.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.thu.close",value:q.openingHours.thu.close,type:"input"}),(null===F||void 0===F||null===(E=F.openingHours)||void 0===E||null===(v=E.thu)||void 0===v?void 0:v.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.open):null,(null===F||void 0===F||null===(g=F.openingHours)||void 0===g||null===(f=g.thu)||void 0===f?void 0:f.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.close):null),r.a.createElement("label",{htmlFor:"openingHours.fri.open openingHours.fri.close"},"Friday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.fri.open",value:q.openingHours.fri.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.fri.close",value:q.openingHours.fri.close,type:"input"}),(null===F||void 0===F||null===(b=F.openingHours)||void 0===b||null===(w=b.fri)||void 0===w?void 0:w.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.open):null,(null===F||void 0===F||null===(y=F.openingHours)||void 0===y||null===(N=y.fri)||void 0===N?void 0:N.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.close):null),r.a.createElement("label",{htmlFor:"openingHours.sat.open openingHours.sat.close"},"Saturday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.sat.open",value:q.openingHours.sat.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.sat.close",value:q.openingHours.sat.close,type:"input"}),(null===F||void 0===F||null===(O=F.openingHours)||void 0===O||null===(C=O.sat)||void 0===C?void 0:C.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.open):null,(null===F||void 0===F||null===(H=F.openingHours)||void 0===H||null===(k=H.sat)||void 0===k?void 0:k.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.close):null),r.a.createElement("label",{htmlFor:"openingHours.sun.open openingHours.sun.close"},"Sunday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.sun.open",value:q.openingHours.sun.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.sun.close",value:q.openingHours.sun.close,type:"input"}),(null===F||void 0===F||null===(x=F.openingHours)||void 0===x||null===(j=x.sun)||void 0===j?void 0:j.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.open):null,(null===F||void 0===F||null===(S=F.openingHours)||void 0===S||null===(P=S.sun)||void 0===P?void 0:P.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.close):null),r.a.createElement(h.b,{name:"prices"},(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Pricing"),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.push({name:"",onetime:"",tentime:"",month:""})}},"Add"),q.prices.map((function(a,n){var t,l,o,c;return r.a.createElement("div",{key:n},r.a.createElement("label",{htmlFor:"prices[".concat(n,"].name")},"Name"),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].name")}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(t=F.prices[n])||void 0===t?void 0:t.name)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].name):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].onetime")},"1x "),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].onetime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(l=F.prices[n])||void 0===l?void 0:l.onetime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].onetime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].tentime")},"10x "),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].tentime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(o=F.prices[n])||void 0===o?void 0:o.tentime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].tentime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].month")},"Month "),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].month"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(c=F.prices[n])||void 0===c?void 0:c.month)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].month):null,r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove")," ",r.a.createElement("br",null))})))})),r.a.createElement("h4",null,"Info"),r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"address",value:q.address,type:"input"}),F.address?r.a.createElement("div",{className:"form-error-message"},F.address):null),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"city",value:q.city,type:"input"}),F.city?r.a.createElement("div",{className:"form-error-message"},F.city):null),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"phone",value:q.phone,type:"input"}),F.phone?r.a.createElement("div",{className:"form-error-message"},F.phone):null),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"email",value:q.email,type:"input"}),F.email?r.a.createElement("div",{className:"form-error-message"},F.email):null),r.a.createElement("label",{htmlFor:"url"},"Url"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"url",value:q.url,type:"input"}),F.url?r.a.createElement("div",{className:"form-error-message"},F.url):null),r.a.createElement(h.b,{name:"tags"},(function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"tags"},"Tags"),r.a.createElement("button",{className:"submit",type:"button",onClick:function(){return e.push("")}},"add")," ",r.a.createElement("br",null),q.tags.map((function(a,n){var t="tags.".concat(n),l="errors.tags.".concat(t);return r.a.createElement("div",{key:n},r.a.createElement(h.a,{onChange:A,name:t}),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove"),(null===F||void 0===F?void 0:F.tags)&&l?r.a.createElement("div",{className:"form-error-message"},F.tags[n]):null)})))})),r.a.createElement("button",{disabled:T,type:"submit",className:"submit"},"Save"))})))},Xe=function(e){var a=e.place,n=Object(t.useState)(!1),l=Object(d.a)(n,2),o=l[0],c=l[1];return Object(s.c)((function(e){return e.places}))?r.a.createElement("li",null,r.a.createElement("h2",{onClick:function(){return c(!o)}},a.name),o?r.a.createElement(Qe,{place:a}):null):null},Ze=function(e){e.place;var a=Object(s.c)((function(e){return e.places}));if(!a)return null;var n=a.sort((function(e){return e.name}));return r.a.createElement("div",null,r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(Xe,{key:e.id,place:e})}))))},$e=function(){var e=Object(s.b)(),a=function(){var a=Object(m.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(je(n)).then((function(){console.log("Place update onnistu")}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),n=C.b((function(e){switch(e){case"Closed":return C.f().required();default:return C.f().matches(/\d\d:\d\d/,"The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.")}})),t=C.d({name:C.f().required("Name is required."),description:C.f().required().min(10,"The description should be atleast 10 characters.").max(350,"The description should be max 350 characters."),openingHours:C.d({mon:C.d({open:n,close:n}),tue:C.d({open:n,close:n}),wed:C.d({open:n,close:n}),thu:C.d({open:n,close:n}),fri:C.d({open:n,close:n}),sat:C.d({open:n,close:n}),sun:C.d({open:n,close:n})}),prices:C.a().of(C.d().shape({name:C.f().min(4,"Name must be atleast 4 chararcters.").required(),onetime:C.c().required().min(0),tentime:C.c().required().min(0),month:C.c().required().min(0)})),address:C.f().min(20).required(),city:C.f().required(),phone:C.f().min(10).required(),email:C.f().email().required(),url:C.f().url().required(),tags:C.a().of(C.f().min(3,"The tag should be atleast 3 characters."))});return r.a.createElement(h.d,{validateOnChange:!0,validationSchema:t,initialValues:{name:"",description:"",openingHours:{mon:{open:"10:00",close:"18:00"},tue:{open:"10:00",close:"18:00"},wed:{open:"10:00",close:"18:00"},thu:{open:"10:00",close:"18:00"},fri:{open:"10:00",close:"18:00"},sat:{open:"10:00",close:"18:00"},sun:{open:"10:00",close:"18:00"}},prices:[{name:"Alle 15v",onetime:0,tentime:0,month:0}],address:"",city:"",phone:"",email:"",url:"",tags:[""]},enableReinitialize:!0,onSubmit:function(e,n){var t=n.setSubmitting;t(!0),a(e),t(!1)}},(function(e){var a,n,t,l,o,c,s,i,u,m,p,d,E,v,g,f,b,w,y,N,O,C,H,k,x,j,S,P,F=e.errors,q=e.values,T=e.isSubmitting,A=e.handleChange;e.setFieldValue;return r.a.createElement(h.c,{action:"",className:"account-settings-form form"},r.a.createElement("label",{htmlFor:"Name"},"Name"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"name",value:q.name,type:"input"})),F.name?r.a.createElement("div",{className:"form-error-message"},F.name):null,r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"description",value:q.description,component:"textarea",multiline:"true",rows:3})),F.description?r.a.createElement("div",{className:"form-error-message"},F.description):null,r.a.createElement("h4",null,"Opening hours"),r.a.createElement("label",{htmlFor:"openingHours.mon.open openingHours.mon.close"},"Monday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,value:q.openingHours.mon.open,name:"openingHours.mon.open"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.mon.close",value:q.openingHours.mon.close}),(null===F||void 0===F||null===(a=F.openingHours)||void 0===a||null===(n=a.mon)||void 0===n?void 0:n.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.open):null,(null===F||void 0===F||null===(t=F.openingHours)||void 0===t||null===(l=t.mon)||void 0===l?void 0:l.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.mon.close):null),r.a.createElement("label",{htmlFor:"openingHours.tue.open openingHours.tue.close"},"Tuesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.tue.open",value:q.openingHours.tue.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.tue.close",value:q.openingHours.tue.close,type:"input"}),(null===F||void 0===F||null===(o=F.openingHours)||void 0===o||null===(c=o.tue)||void 0===c?void 0:c.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.open):null,(null===F||void 0===F||null===(s=F.openingHours)||void 0===s||null===(i=s.tue)||void 0===i?void 0:i.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.tue.close):null),r.a.createElement("label",{htmlFor:"openingHours.wed.close openingHours.wed.close"},"Wednesday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.wed.close",value:q.openingHours.wed.close,type:"input"}),(null===F||void 0===F||null===(u=F.openingHours)||void 0===u||null===(m=u.wed)||void 0===m?void 0:m.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.open):null,(null===F||void 0===F||null===(p=F.openingHours)||void 0===p||null===(d=p.wed)||void 0===d?void 0:d.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.wed.close):null),r.a.createElement("label",{htmlFor:"openingHours.thu.open openingHours.thu.close"},"Thursday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.thu.open",value:q.openingHours.thu.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.thu.close",value:q.openingHours.thu.close,type:"input"}),(null===F||void 0===F||null===(E=F.openingHours)||void 0===E||null===(v=E.thu)||void 0===v?void 0:v.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.open):null,(null===F||void 0===F||null===(g=F.openingHours)||void 0===g||null===(f=g.thu)||void 0===f?void 0:f.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.thu.close):null),r.a.createElement("label",{htmlFor:"openingHours.fri.open openingHours.fri.close"},"Friday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.fri.open",value:q.openingHours.fri.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.fri.close",value:q.openingHours.fri.close,type:"input"}),(null===F||void 0===F||null===(b=F.openingHours)||void 0===b||null===(w=b.fri)||void 0===w?void 0:w.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.open):null,(null===F||void 0===F||null===(y=F.openingHours)||void 0===y||null===(N=y.fri)||void 0===N?void 0:N.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.fri.close):null),r.a.createElement("label",{htmlFor:"openingHours.sat.open openingHours.sat.close"},"Saturday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.sat.open",value:q.openingHours.sat.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.sat.close",value:q.openingHours.sat.close,type:"input"}),(null===F||void 0===F||null===(O=F.openingHours)||void 0===O||null===(C=O.sat)||void 0===C?void 0:C.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.open):null,(null===F||void 0===F||null===(H=F.openingHours)||void 0===H||null===(k=H.sat)||void 0===k?void 0:k.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sat.close):null),r.a.createElement("label",{htmlFor:"openingHours.sun.open openingHours.sun.close"},"Sunday"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"openingHours.sun.open",value:q.openingHours.sun.open,type:"input"})," - ",r.a.createElement(h.a,{onChange:A,name:"openingHours.sun.close",value:q.openingHours.sun.close,type:"input"}),(null===F||void 0===F||null===(x=F.openingHours)||void 0===x||null===(j=x.sun)||void 0===j?void 0:j.open)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.open):null,(null===F||void 0===F||null===(S=F.openingHours)||void 0===S||null===(P=S.sun)||void 0===P?void 0:P.close)?r.a.createElement("div",{className:"form-error-message"},F.openingHours.sun.close):null),r.a.createElement(h.b,{name:"prices"},(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Pricing"),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.push({name:"",onetime:"",tentime:"",month:""})}},"Add"),q.prices.map((function(a,n){var t,l,o,c;return r.a.createElement("div",{key:n},r.a.createElement("label",{htmlFor:"prices[".concat(n,"].name")},"Name"),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].name")}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(t=F.prices[n])||void 0===t?void 0:t.name)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].name):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].onetime")},"1x "),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].onetime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(l=F.prices[n])||void 0===l?void 0:l.onetime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].onetime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].tentime")},"10x "),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].tentime"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(o=F.prices[n])||void 0===o?void 0:o.tentime)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].tentime):null,r.a.createElement("label",{htmlFor:"prices[".concat(n,"].month")},"Month "),r.a.createElement("br",null),r.a.createElement(h.a,{onChange:A,name:"prices[".concat(n,"].month"),type:"number"}),r.a.createElement("br",null),(null===F||void 0===F?void 0:F.prices)&&(null===F||void 0===F||null===(c=F.prices[n])||void 0===c?void 0:c.month)?r.a.createElement("div",{className:"form-error-message"},F.prices[n].month):null,r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove")," ",r.a.createElement("br",null))})))})),r.a.createElement("h4",null,"Info"),r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"address",value:q.address,type:"input"}),F.address?r.a.createElement("div",{className:"form-error-message"},F.address):null),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"city",value:q.city,type:"input"}),F.city?r.a.createElement("div",{className:"form-error-message"},F.city):null),r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"phone",value:q.phone,type:"input"}),F.phone?r.a.createElement("div",{className:"form-error-message"},F.phone):null),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"email",value:q.email,type:"input"}),F.email?r.a.createElement("div",{className:"form-error-message"},F.email):null),r.a.createElement("label",{htmlFor:"url"},"Url"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(h.a,{onChange:A,name:"url",value:q.url,type:"input"}),F.url?r.a.createElement("div",{className:"form-error-message"},F.url):null),r.a.createElement(h.b,{name:"tags"},(function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"tags"},"Tags"),r.a.createElement("button",{className:"submit",type:"button",onClick:function(){return e.push("")}},"add")," ",r.a.createElement("br",null),q.tags.map((function(a,n){var t="tags.".concat(n),l="errors.tags.".concat(t);return r.a.createElement("div",{key:n},r.a.createElement(h.a,{onChange:A,name:t}),r.a.createElement("button",{type:"button",className:"submit",onClick:function(){return e.remove(n)}},"remove"),(null===F||void 0===F?void 0:F.tags)&&l?r.a.createElement("div",{className:"form-error-message"},F.tags[n]):null)})))})),r.a.createElement("button",{disabled:T,type:"submit",className:"submit"},"Save"),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(q,null,2)),r.a.createElement("pre",{style:{color:"blue"}},JSON.stringify(F,null,2)))}))},ea=function(e){var a,n=e.login,l=Object(t.useState)("general"),o=Object(d.a)(l,2),c=o[0],s=o[1];if(c)switch(c){case"general":a=r.a.createElement(Ye,{user:n});break;case"changePass":a=r.a.createElement(Ke,{user:n});break;case"places":a=r.a.createElement(Ze,null);break;case"addPlace":a=r.a.createElement($e,null);break;case"delete":a=r.a.createElement(ze,{user:n});break;default:a=r.a.createElement(Ye,{user:n})}return r.a.createElement("section",{className:"content-wrapper-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"user-settings wrap"},r.a.createElement("div",{className:"align "},r.a.createElement("h2",null,"User Settings"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return s("general")}},"General"),r.a.createElement("li",{onClick:function(){return s("changePass")}},"Change password"),r.a.createElement("li",{onClick:function(){return s("places")}},"Place control"),r.a.createElement("li",{onClick:function(){return s("addPlace")}},"Add a place"),r.a.createElement("li",{onClick:function(){return s("delete")}},"Delete account")))),a)))},aa=function(e){var a,n=e.login,l=Object(t.useState)("general"),o=Object(d.a)(l,2),c=o[0],s=o[1];if(c)switch(c){case"general":a=r.a.createElement(Ye,{user:n});break;case"changePass":a=r.a.createElement(Ke,{user:n});break;case"delete":a=r.a.createElement(ze,{user:n});break;default:a=r.a.createElement(Ye,{user:n})}return r.a.createElement("section",{className:"content-wrapper-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"user-settings wrap"},r.a.createElement("div",{className:"align "},r.a.createElement("h2",null,"User Settings"),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return s("general")}},"General"),r.a.createElement("li",{onClick:function(){return s("changePass")}},"Change password"),r.a.createElement("li",{onClick:function(){return s("delete")}},"Delete account")))),a)))},na=function(e){var a,n=Object(p.f)(),t=e.location.user,l=Object(s.c)((function(e){return e.session}));if(t||n.push("/"),l)switch(l.type){case"AdminUser":a=r.a.createElement(ea,{login:l});break;case"ThirdPartyUser":a=r.a.createElement(Be,{login:l});break;default:a=r.a.createElement(aa,{login:l})}return r.a.createElement("div",null,r.a.createElement(ue,null),l?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero-wrapper"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"hero-content"},r.a.createElement("img",{onError:function(e){e.target.src="".concat(l.avatar)},src:"../".concat(l.avatar),alt:""}),r.a.createElement("div",{className:"user-text"},r.a.createElement("h2",null,l.name))))),a):r.a.createElement("h1",{style:{textAlign:"center"}},"You are not logged in. You can go log in by pressing the Login button in the NavBar"),r.a.createElement(F,null))},ta=(n(106),function(e){var a=Object(t.useState)(0),n=Object(d.a)(a,2),l=n[0],o=n[1],c=Object(t.useState)(!1),i=Object(d.a)(c,2),u=i[0],m=i[1],p=Object(t.useState)(null),E=Object(d.a)(p,2),v=E[0],g=E[1],f=Object(s.b)();Object(t.useEffect)((function(){100===l&&w()}),[l]),Object(t.useEffect)((function(){h()}),[]);var h=function(){var e=setInterval((function(){o((function(a){return a<100?a+1:(clearInterval(e),a)}))}),20);g(e)},b=function(){clearInterval(v)},w=function(){b(),m(!0),setTimeout((function(){var a;f((a=e.note.id,function(e){e({type:"CLEAR_NOTIFICATION",id:a})}))}),1e3*e.note.time)};return r.a.createElement("div",{onMouseEnter:b,onMouseLeave:h,className:"notification ".concat(e.note.type,"  ").concat(u?"exit":"")},e.note.title?r.a.createElement("h3",null,e.note.title):null,r.a.createElement("p",null," ",e.note.message," "),r.a.createElement("div",{className:"bar",style:{width:"".concat(l,"%")}}))}),ra=function(){var e=Object(s.c)((function(e){return e.notification}));return r.a.createElement("div",{className:"notification-wrapper"},e.map((function(e){return r.a.createElement(ta,{key:e.id,note:e})})))},la=function(){var e=Object(s.b)();return Object(t.useEffect)((function(){e(function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.getAll();case 3:n=e.sent,a({type:"INIT_PLACES",data:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(j({title:"Error",message:"There was an error loading the database. Please try again later."},"error")),console.error("Error on initplaces: ",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())}),[e]),Object(t.useEffect)((function(){e(G())}),[e]),Object(t.useEffect)((function(){try{return Ae.onAuthStateChanged(function(){var a=Object(m.a)(u.a.mark((function a(n){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=5;break}return a.next=3,n.getIdToken();case 3:(t=a.sent)&&e(V(t));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}catch(a){e(j({title:"Error",message:"Something went wrong when logging in: ".concat(a.message)}))}}),[e]),r.a.createElement("div",null,r.a.createElement(ra,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:me}),r.a.createElement(p.a,{exact:!0,path:"/gym/:place_name",component:ke}),r.a.createElement(p.a,{path:"/login",component:Z}),r.a.createElement(p.a,{exact:!0,path:"/register",component:Me}),r.a.createElement(p.a,{exact:!0,path:"/reset_password",component:Ge}),r.a.createElement(p.a,{exact:!0,path:"/forgot",component:Je}),r.a.createElement(p.a,{exact:!0,path:"/:username/settings",component:na})))},oa=n(126),ca=n(48),sa=n(127),ia=Object(ca.combineReducers)({places:Pe,comments:de,session:J,notification:S,user:Le}),ua=Object(ca.createStore)(ia,Object(oa.composeWithDevTools)(Object(ca.applyMiddleware)(sa.a)));o.a.render(r.a.createElement(c.a,null,r.a.createElement(s.a,{store:ua},r.a.createElement(la,null))),document.getElementById("root"))},86:function(e,a,n){},87:function(e,a,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.f9738485.chunk.js.map