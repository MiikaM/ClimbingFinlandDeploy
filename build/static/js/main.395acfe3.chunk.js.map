{"version":3,"sources":["images/logo-blue.svg","images/logo-white.svg","images/search-blue.svg","images/layout_testit/roya-ann-miller-G2QYE9czCEw-unsplash.jpg","images/close.svg","images/logo-white-header.svg","images/search.svg","images/settings.svg","images/logout.svg","images/mail.svg","images/world.svg","images/google-place.svg","images/phone.svg","services/contactServices.js","reducers/notificationReducer.js","components/ContactForm/index.js","components/Footer/index.js","components/Places/info.js","components/Places/index.js","firebase/auth.js","services/loginService.js","reducers/loginReducer.js","components/Login/loginForm.js","components/Login/index.js","components/Modal/index.js","components/NavHeader/dropDownMenu.js","components/NavHeader/headerLogIn.js","components/NavHeader/index.js","components/HomePage/index.js","services/commentService.js","reducers/commentReducer.js","components/CommentForm/index.js","components/CommentSection/showComment.js","components/CommentSection/index.js","components/PriceCategory/index.js","components/ChosenPlace/index.js","services/placeService.js","reducers/placeReducer.js","firebase/index.js","components/Register/formPage2.js","components/Register/formPage1.js","services/userService.js","reducers/userReducer.js","components/Register/registerForm.js","components/Register/index.js","components/ResetPasswordForm/index.js","components/ResetPassword/index.js","components/ForgotPasswordForm/index.js","components/ForgotPassword/index.js","components/SettingsForm/index.js","components/SettingsForm/deleteButton.js","components/UserSettings/thirdParty.js","components/ChangePasswordForm/index.js","components/PlaceForm/index.js","components/PlaceForm/listItem.js","components/PlaceForm/listComp.js","components/PlaceForm/placeAddForm.js","components/UserSettings/admin.js","components/UserSettings/onSite.js","components/UserSettings/index.js","components/Notification/notificationItem.js","components/Notification/index.js","App.js","store.js","index.js"],"names":["module","exports","sendMail","data","a","axios","post","withCredentials","response","forgotPassword","resetPassword","changeNotification","notification","messageType","time","dispatch","type","title","message","id","v4","notificationReducer","state","action","filter","note","ContactForm","useDispatch","handleSubmit","error","validationSchema","yup","name","required","email","min","validateOnChange","initialValues","onSubmit","setSubmitting","resetForm","values","errors","isSubmitting","className","htmlFor","value","component","placeholder","multiline","rows","disabled","Footer","src","LogoFooter","alt","Info","place","href","image","description","Places","search","sortedPlaces","useSelector","places","sort","filteredPlaces","toUpperCase","startsWith","map","key","Auth","signInFlow","signInSuccessUrl","signinOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","login","user","userForService","googleLogin","user_token","config","headers","Authorization","getUser","get","console","log","err","logoutUser","googleLoginUser","loginService","loggedIn","check","window","localStorage","clear","signOut","reducer","session","setItem","JSON","stringify","location","reload","LoginForm","props","username","password","Login","close","history","useHistory","LoginPic","CloseSVG","onClick","uiConfig","firebaseAuth","push","style","cursor","Modal","open","children","onClose","ReactDOM","createPortal","document","getElementById","DropDownMenu","to","pathname","SettingsSVG","e","preventDefault","LogoutSVG","HeaderLogIn","modal","page","useState","dropdown","setDropdown","fadeIn","useSpring","opacity","marginTop","from","delay","duration","li","img","onError","target","avatar","NavHeader","isOpen","setIsOpen","useEffect","section","NavLogo","SearchSVG","HomePage","params","setSearch","LogoBlue","SearchBlue","onChange","getAll","then","getComments","place_name","undefined","addComment","place_id","newData","deleteObject","delete","concat","blog","CommentForm","comment","commentService","newComment","handleChange","handleBlur","ShowComment","date","Date","pvm","getDate","getMonth","getFullYear","CommentSection","header","comments","length","PriceCategory","price","onetime","tentime","month","ChosenPlace","colors","match","useRouteMatch","find","replace","background","backgroundSize","backgroundPosition","borderRadius","openingHours","mon","tue","wed","thu","fri","sat","sun","MailLogo","WorldLogo","url","PlaceLogo","address","PhoneLogo","phone","tags","tag","index","Math","floor","random","prices","add","placeData","formData","FormData","append","update","put","addPlace","placeService","newPlace","updatePlace","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FormPage2","storage","city","FormPage1","passwordagain","adminVerification","request","updateUserInfo","changePassword","createUser","deleteUser","user_data","userService","newUserInfo","RegisterForm","setPage","wrapper","newUser","oneOf","Register","ResetPasswordForm","newPassword","newPasswordAgain","ResetPassword","ForgotPasswordForm","ForgotPassword","SettingsForm","enableReinitialize","DeleteButton","confirm","ThirdParty","information","setting","setSetting","ChangePasswordForm","setTimeout","go","oldPassword","PlaceForm","lazy","matches","max","of","shape","removed","setFieldValue","arrayHelpers","remove","tagError","ListItem","setOpen","ListComp","PlaceAddForm","Admin","OnSite","UserSettings","textAlign","NotificationItem","width","setWidth","exit","setExit","intervalID","setIntervalID","handleCloseNotification","handleStartTimer","setInterval","prev","clearInterval","handlePauseTimer","onMouseEnter","onMouseLeave","Notification","App","onAuthStateChanged","getIdToken","id_token","exact","path","combineReducers","placeReducer","commentReducer","loginReducer","userReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","render"],"mappings":"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","file":"static/js/main.395acfe3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-blue.a150db00.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-white.53c9c881.svg\";","module.exports = __webpack_public_path__ + \"static/media/search-blue.df215230.svg\";","module.exports = __webpack_public_path__ + \"static/media/roya-ann-miller-G2QYE9czCEw-unsplash.c46cf8c9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/close.da67cfb9.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-white-header.8277cea1.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.422d423f.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.c5e2e3d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.cb7690d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/mail.d8864552.svg\";","module.exports = __webpack_public_path__ + \"static/media/world.7fc624ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/google-place.c9e3a731.svg\";","module.exports = __webpack_public_path__ + \"static/media/phone.e3aed7d1.svg\";","import axios from 'axios'\r\nconst baseUrl = '/api'\r\n\r\n/**\r\n * Request to send a mail to the contact address for the page.\r\n * @param {*} data message to send \r\n */\r\nexport const sendMail = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/contact`, data, { withCredentials: true })\r\n  return response\r\n}\r\n\r\n/**\r\n * Request for a new password.\r\n * @param {*} data \r\n */\r\nexport const forgotPassword = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/forgot`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Request to reset a password for an user.\r\n * @param {*} data \r\n */\r\nexport const resetPassword = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/passwordReset`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { sendMail, forgotPassword, resetPassword }","import { v4 } from 'uuid'\r\n\r\n/**\r\n * Dispatches => New notification data to the notification reducer and then dispatches clearNotification() function after timeout.\r\n * @param {*} notification notification info \r\n * @param {*} messageType The type of a notification (e.g. 'success' OR 'error')\r\n * @param {*} time Timeout period, shows the time in seconds => how long the notification should be showed. \r\n */\r\nexport const changeNotification = (notification, messageType = 'success', time = 3) => {\r\n\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'NOTIFICATION',\r\n      notification: {\r\n        title: notification.title,\r\n        message: notification.message,\r\n        type: messageType,\r\n        time: time,\r\n        id: v4()\r\n      }\r\n    })\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Null data to notification reducer.\r\n */\r\nexport const clearNotification = (id) => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'CLEAR_NOTIFICATION',\r\n      id: id\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the notification store.\r\n * @param {*} state state of the notification store \r\n * @param {*} action action or info provided to the reducer.\r\n * NOTIFICATION => adds notification data to the store.\r\n */\r\nconst notificationReducer = (state = [], action) => {\r\n\r\n  switch (action.type) {\r\n    case 'NOTIFICATION':\r\n      return [...state, { ...action.notification }]\r\n    case 'CLEAR_NOTIFICATION':    \r\n    return state.filter(note => note.id !== action.id)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { sendMail } from '../../services/contactServices'\r\nimport * as yup from 'yup'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\n\r\n/**\r\n * The form for the contact form and the validation for it.\r\n */\r\nconst ContactForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      await sendMail(data)\r\n      dispatch(changeNotification({title:'Done', message: 'Thank you for contacting us. Your email has been sent'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Oh no an error has occured ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string().required('Name is required.'),\r\n    email: yup.string().email('Must be a valid email').required('Required'),\r\n    message: yup.string().required().min(10, 'Message should be atleast 10 characters long.'),\r\n  })\r\n\r\n\r\n  return (\r\n\r\n    <Formik\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      initialValues={{ name: '', email: '', message: '' }}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form className=\"footer-form\">\r\n          <label htmlFor=\"name\">Name</label><br />\r\n          <div>\r\n            <Field name='name' value={values.name} type='input' />\r\n          </div>\r\n          {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n          <label htmlFor=\"email\">Email</label><br />\r\n          <div>\r\n            <Field name='email' value={values.email} type='input' />\r\n          </div>\r\n          {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n\r\n          <label htmlFor=\"name\">Message</label><br />\r\n          <div>\r\n            <Field component='textarea' name='message' value={values.message} placeholder='message...' multiline='true' rows={3} />\r\n          </div>\r\n          {errors.message ? <div className='form-error-message'>{errors.message}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"contact-submit\" >Send</button>\r\n        </Form>\r\n\r\n      )}</Formik >\r\n  )\r\n}\r\n\r\nexport default ContactForm\r\n","import React from 'react'\r\nimport '../../scss/footer.scss'\r\nimport LogoFooter from '../../images/logo-white.svg'\r\nimport ContactForm from '../ContactForm'\r\n\r\n/**\r\n * The footer wrapper for the pages.\r\n */\r\nconst Footer = () =>  {\r\n  return (\r\n    <section className=\"footer\">\r\n    <div className=\"footer-bg\">\r\n      <div className=\"wrapper \">\r\n\r\n        <div className=\"footer-upper-wrapper\">\r\n          <div className=\"footer-headers\">\r\n            <h2>Are there any other places?</h2>\r\n            <h2>Let us know!</h2>\r\n          </div>\r\n          <div className=\"footer-form-wrapper\">\r\n            <ContactForm />\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"wrapper\">\r\n      <div className=\"footer-lower-wrapper\">\r\n        <img src={LogoFooter} alt=\"footer logo\" className=\"footer-logo\" />\r\n\r\n        <ul className=\"footer-list\">\r\n          <li>\r\n            Terms\r\n      </li>\r\n\r\n          <li>\r\n            Privacy\r\n      </li>\r\n\r\n          <li>\r\n            Our mission\r\n      </li>\r\n\r\n          <li>\r\n            Work with us\r\n      </li>\r\n\r\n          <li>\r\n            Help\r\n      </li>\r\n        </ul>\r\n\r\n      </div>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default Footer \r\n","import React, { useState } from 'react'\r\nimport Open from './open'\r\n\r\n\r\n\r\n\r\nconst Info = ({ place }) => {\r\n  // const [showOpenHours, setShowOpenHours] = useState(false)\r\n  // const [showPrices, setShowPrices] = useState(false)\r\n  // const pricing = !place.prices ?\r\n  //   null :\r\n  //   place.prices\r\n\r\n  // const open_hours = !place.openingHours ?\r\n  //   null :\r\n  //   place.openingHours\r\n\r\n  // const open = Open(open_hours)\r\n\r\n  // const handleOpenHoursClick = (e) => {\r\n  //   e.preventDefault()\r\n  //   setShowOpenHours(!showOpenHours)\r\n  // }\r\n\r\n  // const handlePricingClick = (e) => {\r\n  //   e.preventDefault()\r\n  //   setShowPrices(!showPrices)\r\n  // }\r\n\r\n  return (\r\n    <li className=\"place-wrapper\">\r\n      <div className=\"place-card\">\r\n        <a href={`/gym/${place.name} `}>\r\n          <img src={place.image} alt={`${place.name} sali`} className=\"place\" />\r\n        </a>\r\n        <div className=\"place-text-wrapper\">\r\n          <h2 className=\"place-header\">{place.name}</h2>\r\n          <blockquote className=\"place-description\">\r\n            {place.description}\r\n          </blockquote>\r\n          <button className=\"readmore-button\" ><a href={`/gym/${place.name} `}> Read more</a></button>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Info","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Info from './info'\r\n\r\nconst Places = ({search}) => {\r\n  const places = useSelector(state => state.places)\r\n  const sortedPlaces = places.sort(place => place.name)\r\n  const filteredPlaces = search === ''\r\n    ? sortedPlaces \r\n    : sortedPlaces.filter(place => place.name.toUpperCase().startsWith(search.toUpperCase()))\r\n\r\n  \r\n  return (\r\n    <ul className=\"place-list\">\r\n      {filteredPlaces.map(place => (\r\n        <Info key={place.id} place={place} />\r\n      ))}\r\n    </ul>\r\n\r\n  )\r\n}\r\n\r\nexport default Places","import firebase from 'firebase'\r\n\r\n/**\r\n * Auth for the firebase googleauthprovider.\r\n * https://climbing-finland-v2.herokuapp.com/\r\n */\r\nconst Auth = {\r\n  signInFlow: 'popup',\r\n  signInSuccessUrl: 'https://climbing-finland-v2.herokuapp.com/',\r\n  signinOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID\r\n  ],\r\n  callbacks: {\r\n    signInSuccessWithAuthResult: false\r\n  }\r\n}\r\n\r\n\r\nexport default Auth","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/login'\r\nconst baseUrl = '/api/login'\r\n\r\n/**\r\n * Request to log in to the application as an onsite user.\r\n * @param {*} user info \r\n */\r\nconst login = async (user) => {\r\n\r\n  const userForService = {\r\n    type: 'onSite',\r\n    user: { ...user }\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, userForService, { withCredentials: true })\r\n\r\n\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Request to log in to the application as an Google user.\r\n * @param {*} user_token Google user token\r\n */\r\nconst googleLogin = async (user_token) => {\r\n    \r\n  const config = {\r\n    headers: { Authorization: `Bearer ${user_token}` },\r\n    withCredentials: true\r\n  }\r\n\r\n\r\n  const response = await axios.post(baseUrl, { type: 'google' }, config)\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends a check request to the backend to see if the user is logged in.\r\n */\r\nconst getUser = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}/check`, { withCredentials: true })\r\n    return response.data\r\n  } catch (err) {\r\n    console.log('Error on getUser', { err })\r\n  }\r\n  return null\r\n}\r\n\r\n/**\r\n * Sends a logout request to the backend.\r\n */\r\nconst logoutUser = async () => {\r\n  const response = await axios.get(`${baseUrl}/logout`, { withCredentials: true })\r\n  return response\r\n}\r\n\r\nexport default { login, googleLogin, getUser, logoutUser }","import loginService from '../services/loginService'\r\nimport { changeNotification } from './notificationReducer'\r\nimport firebase from 'firebase'\r\n\r\n/**\r\n * Dispatches => Logged in users (Onsite user) info to the login reducer.\r\n * Calls loginService login() function to log in to the application.\r\n * @param {*} user user info to use for log in.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const loginUser = (user) => {\r\n  return async dispatch => {\r\n    try {\r\n      const loggedIn = await loginService.login(user)\r\n\r\n      dispatch({\r\n        type: 'LOGIN',\r\n        data: loggedIn\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Successfully logged in!'}))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Login failed ${err.response.data.error}`}, 'error'))\r\n\r\n      console.error('Error on login: ', {err})\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Logged in users (Google user) info to the login reducer.\r\n * Calls loginService googleLogin() function to log in the Google user.\r\n * @param {*} user_token The Google users idToken. \r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const googleLoginUser = (user_token) => {\r\n  \r\n  return async dispatch => {\r\n    try {\r\n      const loggedIn = await loginService.googleLogin(user_token)\r\n\r\n      dispatch({\r\n        type: 'LOGIN',\r\n        data: loggedIn\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Successfully logged in!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Login failed ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Logged in users info to the login reducer.\r\n * Calls loginService getUser() function to see if there is anybody loggedin\r\n * TODO: FIX tarkitus\r\n */\r\nexport const getUser = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const check = await loginService.getUser()\r\n\r\n      if (check) {\r\n        dispatch({\r\n          type: 'GET_USER',\r\n          data: check\r\n        })\r\n      } else {\r\n        window.localStorage.clear()\r\n        firebase.auth().signOut()\r\n      }\r\n    } catch (err) {\r\n      console.log('Not logged in.')\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => a logout request to the login reducer.\r\n * Calls loginService logoutUser() to logout from the application.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const logoutUser = () => {\r\n  return async dispatch => {\r\n    try {\r\n      await loginService.logoutUser()\r\n\r\n      dispatch({\r\n        type: 'LOGOUT'\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'You have logged out!'}))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Logout failed ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the login store.\r\n * @param {*} state state of the login store \r\n * @param {*} action action or info provided to the reducer.\r\n * LOGIN => Adds the logged in users data to localstorage and to the login store.\r\n * LOGOUT => Logs the user out and clears localstorage and changes the session to false.\r\n * GET_USER => Replaces the store with user info.\r\n * Default => Returns the state of the store. \r\n */\r\nconst reducer = (state = { session: true }, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      window.localStorage.setItem('login', JSON.stringify(action.data))\r\n      return action.data\r\n    case 'LOGOUT':\r\n      window.localStorage.clear()\r\n      firebase.auth().signOut()\r\n      window.location.reload(true)\r\n      return { session: true }\r\n    case 'GET_USER':\r\n      window.localStorage.setItem('login', JSON.stringify(action.data))\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import React from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { loginUser } from '../../reducers/loginReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\n\r\n/**\r\n * The form for logging in and the validation for it.\r\n * @param {*} props \r\n */\r\nconst LoginForm = (props) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = (data) => {\r\n    dispatch(loginUser(data))\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    username: yup.string().required('Required'),\r\n    password: yup.string()\r\n      .required('Password required')\r\n  })\r\n\r\n\r\n\r\n  return (\r\n\r\n    <Formik\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      initialValues={{ username: '', password: '' }}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n        // history.go(0)\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form >\r\n          <label htmlFor=\"username\">Username</label><br />\r\n          <div>\r\n            <Field name='username' value={values.username} type='input' />\r\n          </div>\r\n          {errors.username ? <div className='form-error-message'>{errors.username}</div> : null}\r\n\r\n          <label htmlFor=\"password\">Password</label><br />\r\n          <div>\r\n            <Field name='password' value={values.password} type='password' />\r\n          </div>\r\n          {errors.password ? <div className='form-error-message'>{errors.password}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Log in</button>\r\n        </Form>\r\n\r\n      )}</Formik>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n","import React from 'react'\r\nimport firebase from 'firebase'\r\nimport Auth from '../../firebase/auth'\r\n\r\nimport '../../scss/login.scss'\r\nimport LoginPic from '../../images/layout_testit/roya-ann-miller-G2QYE9czCEw-unsplash.jpg'\r\nimport LoginForm from './loginForm'\r\nimport CloseSVG from '../../images/close.svg'\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n/**\r\n * Wrapper for login page.\r\n * @param {*} close modal control \r\n * Includes => \r\n * - Login form\r\n */\r\nconst Login = ({ close }) => {\r\n  const history = useHistory()\r\n\r\n \r\n  return (\r\n    <section>\r\n      <div className=\"wrapper\">\r\n        <div className=\"login\">\r\n          <div className=\"login-image\">\r\n            <img src={LoginPic} alt=\"\" />\r\n          </div>\r\n\r\n          <div className=\"login-container\">\r\n            <div className=\"login-header\">\r\n              <h2>Log in</h2>\r\n              <img src={CloseSVG} alt=\"\" onClick={close} />\r\n            </div>\r\n\r\n            <LoginForm />\r\n            <StyledFirebaseAuth\r\n              uiConfig={Auth}\r\n              firebaseAuth={firebase.auth()} />\r\n\r\n\r\n            <p className=\"login-small\" onClick={() => history.push('/forgot')} style={{ cursor: 'pointer' }}>\r\n              Forgot password?\r\n            </p>\r\n\r\n            <p className=\"login-small\" onClick={() => history.push('/register')} style={{ cursor: 'pointer' }}>\r\n              Don't have an account?\r\n          </p>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section >\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport '../../scss/modal.scss'\r\n\r\n/**\r\n * Modal to be used for e.g. login form.\r\n * @param {*} open is the modal open?\r\n * @param {*} children children component\r\n * @param {*} onClose Close function\r\n */\r\nconst Modal = ({ open, children, onClose }) => {\r\n  const user = useSelector(state => state.session)\r\n\r\n\r\n  if (!open || !user) return null\r\n  if (user.session) {\r\n    return ReactDOM.createPortal(\r\n      <>\r\n        <div className='modal-bg' onClick={onClose} />\r\n        <div className='modal'>\r\n          {children}\r\n        </div>\r\n      </>,\r\n      document.getElementById('portal')\r\n    )\r\n\r\n  }\r\n  return null\r\n\r\n\r\n}\r\n\r\nexport default Modal\r\n","import React from 'react'\r\nimport { logoutUser } from '../../reducers/loginReducer'\r\nimport '../../scss/dropdown.scss'\r\nimport SettingsSVG from '../../images/settings.svg'\r\nimport LogoutSVG from '../../images/logout.svg'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\n\r\n/**\r\n * Wrapper for the dropdown menu.\r\n * @param {*} user logged in user \r\n * Includes => \r\n * - Link to user page.\r\n * - Link to settings page.\r\n * - Logout button.\r\n */\r\nconst DropDownMenu = ({ user }) => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault()\r\n\r\n    dispatch(logoutUser())\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className='dropdown'>\r\n      <Link to={{ \r\n        pathname: `/${user.username}/settings`,\r\n        user: user \r\n        }}>\r\n        <img src={SettingsSVG} className='little-nav-icon' alt='user' /> Settings\r\n      </Link>\r\n\r\n      <Link to={{ pathname: '/#' }} onClick={handleLogout}>\r\n        <img src={LogoutSVG} className='little-nav-icon' alt='user' /> Logout\r\n      </Link>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default DropDownMenu\r\n","import React, { useState } from 'react'\r\nimport { useSpring, animated } from 'react-spring'\r\nimport DropDownMenu from './dropDownMenu'\r\n\r\n\r\nconst HeaderLogIn = ({ modal, user, page }) => {\r\n    const [dropdown, setDropdown] = useState(false)\r\n    const props = useSpring({ opacity: 1, marginTop: 0, from: { opacity: 0, marginTop: -500 } })\r\n    const fadeIn = useSpring({ cursor: 'pointer', opacity: 1, from: { opacity: 0 }, config: { delay: 1000, duration: 1000 } })\r\n\r\n    if (!user) return null\r\n    \r\n    const addDefaultSrc = (e) => {\r\n        e.target.src = `${user.avatar}`\r\n    }\r\n\r\n    return (\r\n        <nav>\r\n            <ul>\r\n                {/* <li>Favourites</li> */}\r\n\r\n                {\r\n                    (user.session) ?\r\n                        <animated.li style={fadeIn} onClick={modal}>Log in</animated.li> :\r\n                        <li>\r\n                            <animated.img style={fadeIn} onError={addDefaultSrc} src={page === 'main' ? user.avatar : `../${user.avatar}`} className='nav-icon' alt='user' onClick={() => setDropdown(!dropdown)} />\r\n                            {\r\n                                dropdown && <DropDownMenu user={user} />\r\n                            }\r\n                        </li>\r\n\r\n                }\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default HeaderLogIn","import React, { useState, useEffect } from 'react'\r\n\r\nimport NavLogo from '../../images/logo-white-header.svg'\r\nimport SearchSVG from '../../images/search.svg'\r\nimport Login from '../Login'\r\nimport Modal from '../Modal'\r\nimport \"../../scss/nav.scss\"\r\nimport '../../scss/dropdown.scss'\r\nimport { useSpring, animated } from 'react-spring'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getUser } from '../../reducers/loginReducer'\r\nimport HeaderLogIn from './headerLogIn'\r\n\r\n/**\r\n * Wrapper for the Navbar\r\n * Includes => \r\n * - Logo\r\n * - User picture\r\n * - Dropdown menu\r\n * - Modal\r\n */\r\nconst NavHeader = ({ page = 'secondary' }) => {\r\n  const dispatch = useDispatch()\r\n  const props = useSpring({ opacity: 1, marginTop: 0, from: { opacity: 0, marginTop: -500 } })\r\n  const fadeIn = useSpring({ cursor: 'pointer', opacity: 1, from: { opacity: 0 }, config: { delay: 1000, duration: 1000 } })\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const history = useHistory()\r\n  const user = useSelector(state => state.session)\r\n\r\n\r\n  const handleLoginModal = (e) => {\r\n    e.preventDefault()\r\n    setIsOpen(true)\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getUser())\r\n  }, [dispatch])\r\n\r\n\r\n  if (!user) return null\r\n  \r\n  \r\n  return (\r\n    <div>\r\n      <animated.section style={props} className={`nav-header ${page}`}>\r\n        <div className=\"wrapper\">\r\n          <div className=\"nav-wrapper\">\r\n            <div className=\"search\">\r\n              {\r\n                page === 'main' ?\r\n                  null :\r\n                  <animated.img style={fadeIn} src={NavLogo} alt=\"\" className=\"header-logo\" onClick={() => history.push('/')} />\r\n\r\n              }\r\n\r\n              <img src={SearchSVG} className=\"search-icon\" alt=\"search-icon\" />\r\n              <input type=\"text\" className='search-bar' placeholder=\"Search...\" />\r\n            </div>\r\n\r\n            <HeaderLogIn modal={handleLoginModal} user={user} page={page} />\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n      </animated.section >\r\n      <Modal open={isOpen} onClose={() => setIsOpen(false)}>\r\n        <Login close={() => setIsOpen(false)} />\r\n      </Modal>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavHeader\r\n","import React, { useState, useEffect } from 'react'\r\nimport '../../scss/homepage.scss'\r\nimport LogoBlue from '../../images/logo-blue.svg'\r\nimport Footer from '../Footer'\r\nimport SearchBlue from '../../images/search-blue.svg'\r\nimport Places from '../Places'\r\nimport Login from '../Login'\r\nimport Modal from '../Modal'\r\nimport { useDispatch } from 'react-redux'\r\nimport '../../scss/dropdown.scss'\r\nimport { getUser } from '../../reducers/loginReducer'\r\nimport NavHeader from '../NavHeader'\r\n\r\n\r\n/**\r\n * Wrapper for the homepage.\r\n * @param {*} params \r\n * Includes => \r\n * - Modal handling \r\n * - Places\r\n * - Search bar\r\n */\r\nconst HomePage = (params) => {\r\n  const dispatch = useDispatch()\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [search, setSearch] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (params.location.open) {\r\n      setIsOpen(params.location.open)\r\n    }\r\n    dispatch(getUser())\r\n  }, [dispatch])\r\n\r\n  const handleSearch = e => setSearch(e.target.value) \r\n\r\n  return (\r\n    \r\n/// T NavBariks \r\n    <div>  \r\n      <section className=\"hero-home\">\r\n        <div className=\"wrappers\">\r\n        <NavHeader page={'main'} />\r\n\r\n          <div className=\"hero-content-home\">\r\n\r\n            <img src={LogoBlue} alt='Top logo' className='top-logo' />\r\n            <p className=\"subtitle\">\r\n              Find the best climbing gym for you\r\n        </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <Modal open={isOpen} onClose={() => setIsOpen(false)}>\r\n        <Login close={() => setIsOpen(false)} />\r\n      </Modal>\r\n\r\n      <section className=\"place-window-wrapper\">\r\n        <div className=\"wrapper \">\r\n          <div className=\"search-container-main\">\r\n            <img src={SearchBlue} alt=\"\" className=\"search-icon-main\" />\r\n            <input type=\"text\" className='search-bar-main' onChange={handleSearch} placeholder=\"Search...\" />\r\n          </div>\r\n\r\n          <Places search={search}/>\r\n        </div>\r\n      </section>\r\n\r\n\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/comments'\r\n\r\n/**\r\n * Request for all comments\r\n */\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\n/**\r\n * Request for all comments of place\r\n */\r\nconst getComments = async (place_name) => {\r\n  if (place_name !== undefined) {\r\n    const response = await axios.get(`${baseUrl}/${place_name}`, { withCredentials: true })\r\n    return response.data\r\n  }\r\n}\r\n\r\n/**\r\n * Request for adding a comment for a specific place\r\n */\r\nconst addComment = async (data, place_id) => {\r\n\r\n\r\n  const newData = { ...data, id: place_id }\r\n\r\n  const response = await axios.post(baseUrl, newData, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n// const update = (baseUrl, id, newObject) => {\r\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n//   return request.then(response => response.data)\r\n// }\r\n\r\n/**\r\n * Request for deleting a comment from a specific place as an Admin\r\n */\r\nconst deleteObject = (id) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token }\r\n  // }\r\n\r\n  const request = axios.delete(`${baseUrl}/${id}`, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\nexport default { getAll, getComments, addComment, deleteObject }","import commentService from '../services/commentService'\r\nimport { changeNotification } from './notificationReducer'\r\n\r\n/**\r\n * Dispatches => initialized comments to the comments reducer.\r\n * Calls commentservice getAll() function.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const initializeComments = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const comments = await commentService.getAll()\r\n      dispatch({\r\n        type: 'INIT_COMMENTS',\r\n        data: comments\r\n      })\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `There was an error loading the database. Please try again later.`}, 'error'))\r\n      console.error('Error on initialize comments: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => requested comments to the comments reducer.\r\n * Calls commentservice getComments() function to get comment infos.\r\n * @param {*} place_name The name of the place which comments are requested.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const getComments = (place_name) => {\r\n  return async dispatch => {\r\n    try {\r\n      const comments = await commentService.getComments(place_name)\r\n      dispatch({\r\n        type: 'GET_COMMENTS',\r\n        data: comments\r\n      })\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `There was an error loading the database. Please try again later.`}, 'error'))\r\n      console.error('Error on initialize comments: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => added comment to the comments reducer .\r\n * Calls commentService addComment() function to add comment data.\r\n * @param {*} comment Comment data to be added.\r\n * @param {*} place_id The id of the place where the comment will be added.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const addComment = (comment, place_id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newComment = await commentService.addComment(comment, place_id)\r\n      dispatch({\r\n        type: 'ADD_COMMENT',\r\n        data: newComment\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'You commented! Nice!'}))\r\n\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Sorry server didn't like that comment. Try again.`}, 'error'))\r\n\r\n      console.error('Error on addComment dispatch: ', err.response.data.error)\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the comments store.\r\n * @param {*} state state of the comments store.\r\n * @param {*} action action or info provided to the reducer.\r\n * ADD_COMMENT => adds the comment data to the state.\r\n * INIT_COMMENTS => Initializes the comment store with the data provided to the reducer.\r\n * GET_COMMENTS => Replaces the comments store state with the data provided to the reducer.\r\n * Default => returns the state of the store.\r\n */\r\nconst reducer = (state = [], action) => {\r\n  // let id = null\r\n  switch (action.type) {\r\n    case 'ADD_COMMENT':\r\n      return state.concat(action.data)\r\n    case 'DELETE':\r\n      return state.filter(blog => blog.id !== action.data.id)\r\n    case 'INIT_COMMENTS':\r\n      return action.data\r\n    case 'GET_COMMENTS':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import React from 'react'\r\nimport { Formik, Field } from 'formik'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addComment } from '../../reducers/commentReducer'\r\nimport '../../scss/comment.scss'\r\nimport * as yup from 'yup'\r\n\r\n/**\r\n * The form for commenting.\r\n * If not logged in you can't comment\r\n * @param {*} place_id The id of the place where the comments are to be designated. \r\n */\r\nconst CommentForm = ({ place_id }) => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.session)\r\n\r\n  const handleSubmit = (data) => {\r\n    dispatch(addComment(data, place_id))\r\n  }\r\n  const addDefaultSrc = (e) => {\r\n    e.target.src = `${user.avatar}`\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    comment: yup.string().min(2, 'Message should be atleast 2 characters long.').required('Required'),\r\n  })\r\n\r\n  return (\r\n    <section className='cmform-wrapper' >\r\n      <div className='wrapper'>\r\n        {\r\n          user?.session ?\r\n            <h3 className='placeholder'>\r\n              You must be logged in to comment!\r\n      </h3> :\r\n            <div className='cmbox-wrapper'>\r\n              <img onError={addDefaultSrc} src={`../${user.avatar}`} alt='profile' />\r\n              <Formik\r\n                initialValues={{ comment: '' }}\r\n                validateOnChange={true}\r\n                validationSchema={validationSchema}\r\n                onSubmit={(data, { setSubmitting, resetForm }) => {\r\n                  setSubmitting(true)\r\n                  handleSubmit(data)\r\n                  setSubmitting(false)\r\n                  resetForm()\r\n                }}\r\n              >\r\n                {({ values, handleChange, handleBlur, handleSubmit }) => (\r\n                  <form onSubmit={handleSubmit} className='cmform'>\r\n                    <Field component=\"textarea\" name='comment' type='input' placeholder='your comment' multiline='true' rows={1} />\r\n                    <button type='submit' className=\"submit cmbox-button\" > Comment</button>\r\n                  </form>\r\n                )}</Formik>\r\n            </div>\r\n        }\r\n\r\n\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CommentForm","import React from 'react'\r\n\r\n/**\r\n * Wrapper for the comment information.\r\n * @param {*} comment comment information\r\n */\r\nconst ShowComment = ({ comment }) => {\r\n\r\n  const user = comment.user\r\n  const date = new Date(comment.date)\r\n\r\n\r\n  const pvm = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\r\n\r\n  if (!comment) return null\r\n  \r\n  const addDefaultSrc = (e) => {\r\n    \r\n    e.target.src = `${user.avatar}`\r\n    \r\n  }\r\n  return (\r\n    <li className='card'>\r\n      <div className=\"comment\">\r\n        <div className=\"comment-meta\">\r\n          <img onError={addDefaultSrc} src={`../../${user.avatar}`} alt=\"\" className=\"comment-avatar\" />\r\n        </div>\r\n        <div className=\"comment-meta-meta\">\r\n          <strong> {user.name}</strong>\r\n          <p className=\"timestamp\">{pvm}</p>\r\n        </div>\r\n\r\n        <div className=\"comment-body\">\r\n          <blockquote>\r\n            {comment.comment}\r\n          </blockquote>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ShowComment","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport ShowComment from './showComment'\r\nimport '../../scss/comment.scss'\r\n\r\n/**\r\n * Wrapper for the comment section.\r\n * Maps the individual comments if there are any.\r\n * @param {*} header Header for the comment section.\r\n */\r\nconst CommentSection = ({ header }) => {\r\n  const comments = useSelector(state => state.comments)\r\n\r\n\r\n  return (\r\n    <section className=\"comments-wrapper\" >\r\n      <div className=\"wrapper align\">\r\n        <h2>{header}</h2>\r\n        {\r\n          comments.length < 1 ?\r\n            <h3>\r\n              Be the first one to comment!\r\n      </h3> :\r\n            <ul className=\"comment-list-wrapper\">\r\n              {\r\n                comments.map(comment =>\r\n                  <ShowComment key={comment.id} comment={comment} />\r\n                )\r\n              }\r\n            </ul>\r\n        }\r\n\r\n\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CommentSection","import React from 'react'\r\n\r\nconst PriceCategory = ({ price, name }) => {\r\n  return (\r\n    <li>\r\n      <div className=\"card\">\r\n        <div className=\"upper-category\">\r\n          <h2>{name}</h2>\r\n          <div className=\"text-wrapper\">\r\n            <div className=\"text\">\r\n              <strong>{price.onetime}<br />/kerta</strong>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lower-category\">\r\n\r\n          <p>{price.tentime}<br />/10x-kertaa</p>\r\n\r\n          <p>{price.month}<br />/kuukausi</p>\r\n\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PriceCategory\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useRouteMatch } from 'react-router-dom'\r\n\r\nimport CommentForm from '../CommentForm'\r\nimport CommentSection from '../CommentSection'\r\nimport {  getComments } from '../../reducers/commentReducer'\r\n\r\n\r\nimport MailLogo from '../../images/mail.svg'\r\nimport WorldLogo from '../../images/world.svg'\r\nimport PlaceLogo from '../../images/google-place.svg'\r\nimport PhoneLogo from '../../images/phone.svg'\r\nimport '../../scss/place.scss'\r\nimport '../../scss/comment.scss'\r\nimport Footer from '../Footer'\r\nimport NavHeader from '../NavHeader'\r\nimport PriceCategory from '../PriceCategory'\r\n\r\n/**\r\n * Show the info page of a chosen place.\r\n * The page includes \r\n * - Picture\r\n * - Comments\r\n * - Opening hours\r\n * - Prices\r\n * - Other information\r\n */\r\nconst ChosenPlace = () => {\r\n  const dispatch = useDispatch()\r\n  const places = useSelector(state => state.places)\r\n  const colors = ['first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eight', 'nineth', 'tenth']\r\n\r\n  const match = useRouteMatch('/gym/:place_name')\r\n  const place = match\r\n    ? places.find(place => place.name === match.params.place_name)\r\n    : null\r\n\r\n\r\n  useEffect(() => {\r\n    \r\n    if (match?.params?.place_name !== undefined) {\r\n      dispatch(getComments(match.params.place_name))\r\n    }\r\n  }, [place])\r\n\r\n  if (!place) return null\r\n\r\n  const image = place.image.replace(/\\\\/g, '/')\r\n\r\n\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n\r\n      <section className=\"hero-wrapper\" style={{\r\n        background: `url('../${image}')`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: '50% 45%',\r\n        borderRadius: '0 0 10px 10px',\r\n      }}>\r\n      </section>\r\n\r\n      <section className=\"info-sec\">\r\n        <div className=\"wrapper\">\r\n          <div className=\"hero-content-place\">\r\n            <h1>{place.name}</h1>\r\n            <p className=\"subtitle-place\">\r\n              {place.description}\r\n            </p>\r\n\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"content-wrapper\">\r\n        <div className=\"wrapper\" >\r\n          <div className=\"content-grid\">\r\n\r\n            <div className=\"card opening-wrapper margin-left\">\r\n              <h2>Aukioloajat</h2>\r\n              <ul className=\"opening-list\">\r\n                <li className=\"open\">\r\n                  <strong>Mon</strong>\r\n                  <p>{place.openingHours.mon.open} - {place.openingHours.mon.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Tue</strong>\r\n                  <p>{place.openingHours.tue.open} - {place.openingHours.tue.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Wed</strong>\r\n                  <p>{place.openingHours.wed.open} - {place.openingHours.wed.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Thu</strong>\r\n                  <p>{place.openingHours.thu.open} - {place.openingHours.thu.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Fri</strong>\r\n                  <p>{place.openingHours.fri.open} - {place.openingHours.fri.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Sat</strong>\r\n                  <p>{place.openingHours.sat.open} - {place.openingHours.sat.close}</p>\r\n                </li>\r\n                <li className=\"open\">\r\n                  <strong>Sun</strong>\r\n                  <p>{place.openingHours.sun.open} - {place.openingHours.sun.close}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"card margin-right\">\r\n              <h2>Info</h2>\r\n              <ul className=\"info-list\">\r\n                <li>\r\n                  <img src={MailLogo} alt=\"\" />\r\n                  <p className=\"place-info\">{place.email}</p>\r\n                </li>\r\n\r\n                <li>\r\n                  <img src={WorldLogo} alt=\"\" />\r\n                  <a href={place.url} className=\"place-info\">{place.url}</a>\r\n                </li>\r\n\r\n                <li>\r\n                  <img src={PlaceLogo} alt=\"\" />\r\n                  <p className=\"place-info\">{place.address}</p>\r\n                </li>\r\n\r\n                <li>\r\n                  <img src={PhoneLogo} alt=\"\" />\r\n                  <p className=\"place-info\">{place.phone}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"card margin-left\">\r\n              <h2>Tags</h2>\r\n              <ul className=\"likes-user\">\r\n                {place.tags.map((tag, index) =>\r\n                (\r\n                  <li key={index} className={`tag-item ${colors[Math.floor(Math.random() * colors.length)]}`} >\r\n                    <p>{tag}</p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </section>\r\n\r\n      <section className=\"prices\">\r\n        <div className=\"wrapper\">\r\n          <h1>Hinnasto</h1>\r\n          <blockquote>\r\n            <strong>HUOM!</strong> Hinnat ovat suuntaa antavia. Hinnat eivt vlttmtt pid paikkaansa jos sivuja ei ole\r\n        ehditty pivittmn. Hinnat eivt myskn sisll tarvike vuokria.\r\n      </blockquote>\r\n\r\n          <div className=\"price-wrapper\">\r\n            <ul className=\"price-list\">\r\n              {place.prices.map(price => (\r\n                <PriceCategory key={price.name} price={price} name={price.name} />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n\r\n      <CommentSection header=\"Kommentit\" place_id={place.id} />\r\n      <CommentForm place_id={place.id} />\r\n\r\n      <Footer />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default ChosenPlace","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/places'\r\nconst baseUrl = '/api/places'\r\n\r\n/**\r\n * Requests for all the climbing places from the backend. \r\n */\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/**\r\n * Sends the new places data to the backend. \r\n * @param {*} newObject Info of the new climbing place \r\n */\r\nconst add = async data => {\r\n\r\n  // const image = data.file\r\n  // delete data.file\r\n  \r\n  const placeData = JSON.stringify(data)\r\n\r\n  const formData = new FormData()\r\n  // formData.append('imageName', Date.now())\r\n  // formData.append('imageData', image)\r\n  formData.append('place', placeData)\r\n  \r\n  const response = await axios.post(baseUrl, formData, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends updated place data to the backend. (Only one place!!)\r\n * @param {*} id place id \r\n * @param {*} data places updated data\r\n */\r\nconst update = (id, data) => {\r\n\r\n  // const image = data.file\r\n  // delete data.file\r\n  \r\n  const placeData = JSON.stringify(data)\r\n\r\n  const formData = new FormData()\r\n  // formData.append('imageName', Date.now())\r\n  // formData.append('imageData', image)\r\n  formData.append('place', placeData)\r\n\r\n\r\n\r\n  const request = axios.put(`${baseUrl}/${id}`, formData, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/**\r\n * Sends a delete request to the backend.\r\n * @param {*} id place id that should be deleted.\r\n */\r\nconst deleteObject = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, { withCredentials: true })\r\n  return request.then(response => response.data)\r\n}\r\nexport default { getAll, add, update, deleteObject }","import placeService from '../services/placeService'\r\nimport { changeNotification } from './notificationReducer'\r\n\r\n/**\r\n * Dispatches => initialized places to the places reducer.\r\n * Calls placeService getAll() function to get all the climbing splaces.\r\n * Dispatches an error notification in case of error to the changeNotification() function.s\r\n */\r\nexport const initializePlaces = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const places = await placeService.getAll()\r\n      dispatch({\r\n        type: 'INIT_PLACES',\r\n        data: places\r\n      })\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `There was an error loading the database. Please try again later.`}, 'error'))\r\n      console.error('Error on initplaces: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n/**\r\n * Dispatches => added place data to the places reducer .\r\n * Calls placeService create() function to add place data.\r\n * @param {*} place Place data to be added.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const addPlace = (place) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newPlace = await placeService.add(place)\r\n      dispatch({\r\n        type: 'NEW_PLACE',\r\n        data: newPlace\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'New place created!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Couldn\\'t create a place: ${err.response.data.error}`}, 'error'))\r\n      console.error('Error on createPlace: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Deletes a place\r\n * @param {*} place \r\n * @returns \r\n */\r\nexport const deletePlace = (id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const removed = await placeService.deleteObject(id)\r\n      dispatch({\r\n        type: 'DELETE_PLACE',\r\n        data: removed\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Place deleted!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Couldn\\'t remove place: ${err.response.data.error}`}, 'error'))\r\n      console.error('Error on deletePlace: ', err.response.data.error)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const updatePlace = (place_id, data) => {\r\n\r\n  return async dispatch => {\r\n    try {\r\n      const newPlace = await placeService.update(place_id, data)\r\n      dispatch({\r\n        type: 'UPDATE_PLACE',\r\n        data: newPlace\r\n      })\r\n      dispatch(changeNotification({title:'Done', message: 'Place info updated!'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Couldn\\'t update a place: ${err.response.data.error}`}, 'error'))\r\n      console.error('Error on updatePlace: ', err.message)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the places store.\r\n * @param {*} state state of the places store.\r\n * @param {*} action action or info provided to the reducer.\r\n * NEW_PLACE => adds the place data to the state\r\n * VOTE => *NOT DECIDED*\r\n * DELETE => Filters out the Deleted place data from the places store.\r\n * INIT_PLACES => Initializes the places store with the data provided to the reducer.\r\n */\r\nconst reducer = (state = [], action) => {\r\n  // let id = null\r\n  switch (action.type) {\r\n    case 'NEW_PLACE':\r\n      return state.concat(action.data)\r\n    case 'UPDATE_PLACE':\r\n      const id = action.data.id\r\n      return state.map(place =>\r\n        place.id !== id ? place : action.data\r\n      )\r\n    // case 'VOTE':\r\n    //   id = action.data.id\r\n    //   return state.map(blog =>\r\n    //     place.id !== id ? place : action.data\r\n    //   )\r\n    case 'DELETE':\r\n      return state.filter(place => place.id !== action.data.id)\r\n    case 'INIT_PLACES':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\n/**\r\n * Config for the firebase application.\r\n * Initializes the firebase application.\r\n */\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId:process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n})\r\n\r\n// export const auth = app.auth()\r\n\r\nexport const auth = app.auth()\r\n\r\nexport const storage = firebase.storage()\r\n\r\nexport default app","import React from 'react'\r\nimport { Field } from 'formik'\r\n\r\n\r\nconst FormPage2 = ({ errors }) => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"name\">Name*</label><br />\r\n      <div>\r\n        <Field name='name' type='input' />\r\n      </div>\r\n      {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n      <label htmlFor=\"email\">Email*</label><br />\r\n      <div>\r\n        <Field name='email' type='input' />\r\n      </div>\r\n      {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n\r\n      <label htmlFor=\"city\">City</label><br />\r\n      <div>\r\n        <Field name='city' type='input' />\r\n      </div>\r\n      {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FormPage2\r\n","import React from 'react'\r\nimport { Field } from 'formik'\r\n\r\n\r\nconst FormPage1 = ({ errors }) => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"username\">Username*</label><br />\r\n      <div>\r\n        <Field name='username' type='input' />\r\n      </div>\r\n      {errors.username ? <div className='form-error-message'>{errors.username}</div> : null}\r\n\r\n      <label htmlFor=\"password\">Password*</label><br />\r\n      <div>\r\n        <Field name='password' type='password' />\r\n      </div>\r\n      {errors.password ? <div className='form-error-message'>{errors.password}</div> : null}\r\n\r\n      <label htmlFor=\"passwordagain\">Confirm Password*</label><br />\r\n      <div>\r\n        <Field name='passwordagain' type='password' />\r\n      </div>\r\n      {errors.passwordagain ? <div className='form-error-message'>{errors.passwordagain}</div> : null}\r\n\r\n      <label htmlFor=\"adminVerification\">Admin verification</label><br />\r\n      <div>\r\n        <Field name='adminVerification' type='password' />\r\n      </div>\r\n      {errors.adminVerification ? <div className='form-error-message'>{errors.adminVerification}</div> : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FormPage1\r\n","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/users'\r\nconst baseUrl = '/api/users'\r\n\r\n/**\r\n * Requests all the users from the backend. \r\n */\r\nconst getAll = async () => {\r\n  const request = await axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n/**\r\n * Sends a upload an avatar request to the backend.\r\n * @param {*} image image to be uploaded for the active user \r\n */\r\n// const uploadAvatar = async (image) => {\r\n//   // const config = {\r\n//   //   headers: { Authorization: token }\r\n//   // }\r\n\r\n\r\n//   const imageForm = new FormData()\r\n\r\n//   imageForm.append('imageName', Date.now())\r\n//   imageForm.append('imageData', image)\r\n\r\n//   const response = await axios.put(`${baseUrl}/update/uploadImage`, imageForm, { withCredentials: true })\r\n//   console.log({ response })\r\n\r\n//   return response.data\r\n// }\r\n\r\n/**\r\n * Sends an update user info request to the backend.\r\n * @param {*} username of the active user\r\n * @param {*} data Updated user data\r\n */\r\nconst updateUserInfo = async (username, data) => {\r\n\r\n  const response = await axios.put(`${baseUrl}/${username}`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends a change password request to the backend.\r\n * @param {*} username of the active user \r\n * @param {*} data old and new password\r\n */\r\nconst changePassword = async (username, data) => {\r\n  const response = await axios.put(`${baseUrl}/changePassword/${username}`, data, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\n/**\r\n * Sends a create new user request to the backend.\r\n * @param {*} data user info\r\n */\r\nconst createUser = async (data) => {\r\n  const response = await axios.post(baseUrl, data)\r\n  \r\n  return response.data\r\n}\r\n\r\nconst deleteUser = async (username) => {\r\n\r\n  \r\n  const response = await axios.delete(`${baseUrl}/${username}`, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, updateUserInfo, changePassword, createUser, deleteUser }","import userService from '../services/userService'\r\nimport { getUser, logoutUser } from './loginReducer'\r\nimport { changeNotification } from './notificationReducer'\r\n\r\n/**\r\n * Dispatches => Updated user info to the user reducer.\r\n * Calls userService uploadAvatar() function to upload the avatar.\r\n * @param {*} image image file to be uploaded as an avatar for the user.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\n// export const uploadAvatar = (image) => {\r\n//   return async dispatch => {\r\n//     try {\r\n//       const imageSave = await userService.uploadAvatar(image)\r\n//       console.log({ imageSave })\r\n\r\n//       dispatch({\r\n//         type: 'UPDATE_USER',\r\n//         data: imageSave\r\n//       })\r\n//       dispatch(getUser())\r\n//       dispatch(changeNotification({ title: 'Done', message: 'Profile picture updated. If you can\\'t see a change reload the page!' }))\r\n\r\n//     } catch (err) {\r\n//       dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t update your profile picture.` }, 'error'))\r\n//     }\r\n\r\n//   }\r\n// }\r\n\r\n/**\r\n * Dispatches => Updated user info to the user reducer.\r\n * Calls userService updateUserInfo() function to update user info.\r\n * @param {*} username username of the, to be updated, user\r\n * @param {*} user_data \r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const updateUserInfo = (username, user_data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUserInfo = await userService.updateUserInfo(username, user_data)\r\n      dispatch({\r\n        type: 'UPDATE_USER',\r\n        data: newUserInfo\r\n      })\r\n      dispatch(getUser())\r\n      dispatch(changeNotification({ title: 'Done', message: 'Your information has been updated.' }))\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t update your information.` }, 'error'))\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => Updated user info to the user reducer.\r\n * Calls the userService.changePassword() function to change the users password.\r\n * @param {*} username username of the user who's password is to be changed. \r\n * @param {*} data password data.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const changePassword = (username, data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUserInfo = await userService.changePassword(username, data)\r\n      dispatch({\r\n        type: 'CHANGE_PASSWORD',\r\n        data: newUserInfo\r\n      })\r\n      dispatch(changeNotification({ title: 'Done', message: 'Your password has been changed!' }))\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t change your password.` }, 'error'))\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatches => new user data to the user reducer.\r\n * Calls the userService.createUser() function to add a new user.\r\n * @param {*} data data of the new user.\r\n * Dispatches an error notification in case of error to the changeNotification() function.\r\n */\r\nexport const createUser = (data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUser = await userService.createUser(data)\r\n      dispatch({\r\n        type: 'CREATE_USER',\r\n        data: newUser\r\n      })\r\n      dispatch(changeNotification({ title: 'Done', message: 'Registeration successful. Please go confirm you\\'r email address before trying to log in.' }))\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, couldn\\'t create a new account. Try again later.` }, 'error'))\r\n\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteUser = (data) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newUser = await userService.deleteUser(data)\r\n\r\n      dispatch({\r\n        type: 'DELETE_USER',\r\n        data: newUser\r\n      })\r\n      dispatch(logoutUser())\r\n      dispatch(changeNotification({ title: 'Done', message: 'You\\'r account has been deleted.' }))\r\n    } catch (err) {\r\n      dispatch(changeNotification({ title: 'Error', message: `Sorry, something went wrong.` }, 'error'))\r\n\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Controls the functions for the login store.\r\n * @param {*} state state of the login store \r\n * @param {*} action action or info provided to the reducer.\r\n * UPDATE_USER => Updates action data info to the localstorage and to user store.\r\n * CREATE_USER => Updates user data to user store.\r\n * CHANGE_PASSWORD => Updates user data to user store.\r\n */\r\nconst reducer = (state = null, action) => {\r\n\r\n  switch (action.type) {\r\n    case 'UPDATE_USER':\r\n      window.localStorage.setItem('login', JSON.stringify(action.data))\r\n      return state\r\n    case 'CREATE_USER':\r\n      return state\r\n    case 'CHANGE_PASSWORD':\r\n      return state\r\n    case 'DELETE_USER':\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default reducer","import React, { useState } from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport FormPage2 from './formPage2'\r\nimport FormPage1 from './formPage1'\r\nimport { createUser } from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\n\r\n\r\nconst RegisterForm = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const [page, setPage] = useState(0)\r\n\r\n  // eslint-disable-next-line no-undef\r\n  // const pageArray = [<FormPage1 errors={errors} />, <FormPage2 errors={errors} />]\r\n\r\n  let wrapper = `wrapper${page + 1}`\r\n\r\n  const handleSubmit = (data) => {\r\n    try {\r\n      dispatch(createUser(data))\r\n    } catch (err) {\r\n      console.log('Error on register submit', err.error)\r\n    }\r\n\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string()\r\n      .required('Name is required.'),\r\n    username: yup.string()\r\n      .required('Username required')\r\n      .min(6, 'Minimum length is 6 characters'),\r\n    email: yup.string()\r\n      .email('Must be a valid email')\r\n      .required('Email required'),\r\n    password: yup.string()\r\n      .required('Password required')\r\n      .min(10, 'Password must be atleast 10 characters long'),\r\n    passwordagain: yup.string()\r\n      .required('Password required')\r\n      .oneOf([yup.ref('password')], 'Passwords must match'),\r\n    city: yup.string().required('Where do you live?'),\r\n  })\r\n\r\n\r\n  return (\r\n    <div className={`${wrapper} register-wrapper`} >\r\n      <h2>Register</h2>\r\n\r\n      <Formik\r\n        validateOnChange={true}\r\n        validationSchema={validationSchema}\r\n        initialValues={{ username: '', password: '', passwordagain: '', name: '', email: '', city: '', adminVerification: '' }}\r\n        onSubmit={(data, { setSubmitting, resetForm }) => {\r\n          setSubmitting(true)\r\n          handleSubmit(data)\r\n          setSubmitting(false)\r\n          history.push('/')\r\n        }}\r\n      >\r\n        {({ values, errors, isSubmitting }) => (\r\n          <Form >\r\n\r\n            { page === 0 ?\r\n              <FormPage1 errors={errors} /> :\r\n              <FormPage2 errors={errors} />\r\n            }\r\n            {\r\n              page !== 1 ?\r\n                null :\r\n                <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Register</button>\r\n\r\n            }\r\n          </Form>\r\n        )}</Formik>\r\n      {page === 0 ?\r\n        null :\r\n        <button onClick={() => setPage(page - 1)} className='submit'> Back </button>}\r\n\r\n      {page !== 0 ?\r\n        null :\r\n        <button onClick={() => setPage(page + 1)} className='submit'> Next </button>}\r\n\r\n\r\n      <p className=\"login-small\" style={{ cursor: 'pointer' }}>\r\n        <Link to={{\r\n          pathname: '/',\r\n          open: true\r\n        }}> Already have an account?</Link>\r\n      </p>\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default RegisterForm\r\n","import React from 'react'\r\nimport '../../scss/register-form.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport RegisterForm from './registerForm'\r\n\r\nconst Register = () => {\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n\r\n      <section className=\"wrapper\">\r\n        <RegisterForm />\r\n        \r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { resetPassword } from '../../services/contactServices'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\nconst ResetPasswordForm = () => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n\r\n    try {\r\n      await resetPassword(data)\r\n      dispatch(changeNotification({title:'Done', message: 'Your password has been reset.'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Oh no there was an error while reseting your password ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    newPassword: yup.string()\r\n      .required('Password required')\r\n      .min(10, 'Password must be atleast 10 characters long'),\r\n    newPasswordAgain: yup.string()\r\n      .required('Password required')\r\n      .oneOf([yup.ref('newPassword')], 'Passwords must be the same'),\r\n  })\r\n\r\n\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{ newPassword: '', newPasswordAgain: '' }}\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n        history.push('/')\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form >\r\n          <label htmlFor=\"newPassword\">New password</label><br />\r\n          <div>\r\n            <Field name='newPassword' value={values.newPassword} type='password' />\r\n          </div>\r\n          {errors.newPassword ? <div className='form-error-message'>{errors.newPassword}</div> : null}\r\n\r\n\r\n          <label htmlFor=\"newPasswordAgain\">New password again</label><br />\r\n          <div>\r\n            <Field type=\"password\" name='newPasswordAgain' value={values.newPasswordAgain} />\r\n          </div>\r\n          {errors.newPasswordAgain ? <div className='form-error-message'>{errors.newPasswordAgain}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Reset password</button>\r\n        </Form>\r\n\r\n      )}</Formik>\r\n  )\r\n}\r\n\r\nexport default ResetPasswordForm\r\n","import React from 'react'\r\nimport '../../scss/reset-password.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport ResetPasswordForm from '../ResetPasswordForm'\r\n\r\n\r\nconst ResetPassword = () => {\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n      <section className=\"wrapper\">\r\n        <div className=\"reset-wrapper\">\r\n          <h2>Reset your password</h2>\r\n          <p className=\"login-small\">\r\n            Enter your new password and press the 'reset password' button to reset your password\r\n      </p>\r\n          <ResetPasswordForm />\r\n\r\n          <div className=\"reset-footer\">\r\n\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { forgotPassword } from '../../services/contactServices'\r\nimport * as yup from 'yup'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\n/**\r\n * The form for forgot password and the validation for it.\r\n */\r\nconst ForgotPasswordForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      await forgotPassword(data)\r\n      dispatch(changeNotification({title:'Done', message: 'A reset link has been sent to your email.'}))\r\n    } catch (err) {\r\n      dispatch(changeNotification({title: 'Error', message: `Oh no something went wrong: ${err.response.data.error}`}, 'error'))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    email: yup.string().email('Must be a valid email').required('Required'),\r\n\r\n  })\r\n\r\n  return (\r\n    <Formik\r\n      validateOnChange={true}\r\n      validationSchema={validationSchema}\r\n      initialValues={{ email: '' }}\r\n      onSubmit={(data, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true)\r\n        handleSubmit(data)\r\n        setSubmitting(false)\r\n        resetForm()\r\n      }}\r\n    >\r\n      {({ values, errors, isSubmitting }) => (\r\n        <Form >\r\n          <label htmlFor=\"email\">Email</label><br />\r\n          <div>\r\n            <Field name='email' value={values.email} type='input' />\r\n          </div>\r\n          {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n\r\n          <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Send</button>\r\n        </Form>\r\n\r\n      )}</Formik>\r\n  )\r\n}\r\n\r\nexport default ForgotPasswordForm\r\n","import React from 'react'\r\nimport '../../scss/reset-password.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\nimport ForgotPasswordForm from '../ForgotPasswordForm'\r\n\r\n/**\r\n * Wrapper for the Forgot password page.\r\n */\r\nconst ForgotPassword = () => {\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n      <section className=\"wrapper\">\r\n\r\n        <div className=\"reset-wrapper\">\r\n          <h2>Forgot your password?</h2>\r\n          <p className=\"login-small\">\r\n            Enter your email address to reset your password. If you can't see the messages check your spam folder\r\n      </p>\r\n\r\n\r\n          <ForgotPasswordForm />\r\n\r\n        </div>\r\n      </section>\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword\r\n","import React from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport { updateUserInfo } from '../../reducers/userReducer'\r\nimport * as yup from 'yup'\r\n\r\nconst SettingsForm = ({ user }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (data) => {\r\n    if (user) {\r\n      dispatch(updateUserInfo(user.username, data))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string()\r\n      .required('Name is required.'),\r\n    username: yup.string()\r\n      .required('Username required')\r\n      .min(6, 'Minimum length is 6 characters'),\r\n    email: yup.string()\r\n      .email('Must be a valid email')\r\n      .required('Email required'),\r\n    city: yup.string().required('Where do you live?'),\r\n  })\r\n\r\n  return (\r\n    <div className=\"account-settings wrap \">\r\n      <div className=\"align\" >\r\n\r\n        <h2>Account</h2>\r\n        <Formik\r\n          validateOnChange={true}\r\n          validationSchema={validationSchema}\r\n          initialValues={user}\r\n          enableReinitialize\r\n          onSubmit={(data, { setSubmitting, resetForm }) => {\r\n            setSubmitting(true)\r\n            handleSubmit(data)\r\n            setSubmitting(false)\r\n            resetForm()\r\n\r\n          }}\r\n        >\r\n          {({ errors, values, isSubmitting, handleChange }) => (\r\n            <Form action=\"\" className=\"account-settings-form form\">\r\n\r\n              <label htmlFor=\"name\">Name</label><br />\r\n              <div>\r\n                <Field name='name' value={values.name} type='input' onChange={handleChange} />\r\n              </div>\r\n              {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n              {values.type === 'ThirdPartyUser' ? null : (\r\n                <div>\r\n                  <label htmlFor=\"email\">Email</label><br />\r\n                  <div>\r\n                    <Field name='email' value={values.email} type='email' onChange={handleChange} />\r\n                  </div>\r\n                  {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n                </div>\r\n              )}\r\n\r\n\r\n              <label htmlFor=\"city\">City</label><br />\r\n              <div>\r\n                <Field name='city' value={values.city} type='input' onChange={handleChange} />\r\n              </div>\r\n              {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n\r\n              {/* <div className=\"likes\">\r\n            <label htmlFor=\"likes\">Likes</label><br />\r\n            <button type=\"button\">+</button>\r\n          </div>\r\n\r\n          <FieldArray name=\"tags\">\r\n            {arrayHelpers => (\r\n              <div>\r\n                <ul className=\"like-list\">\r\n                  {values.tags.map(tag => (\r\n                    <TagItem key={tag} tag={tag} />\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </FieldArray> */}\r\n              <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Save</button>\r\n\r\n            </Form>\r\n          )}</Formik >\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SettingsForm\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { deleteUser } from '../../reducers/userReducer'\r\nimport '../../scss/deleteButton.scss'\r\n\r\nconst DeleteButton = (user) => {\r\n    const dispatch = useDispatch()\r\n\r\n    if (!user) return null\r\n    const handleDelete = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (window.confirm('Are you sure you wish to delete you\\'r account?'))\r\n            dispatch(deleteUser(user.user.username))\r\n\r\n    }   \r\n\r\n    return (\r\n        <div className='delete-button-wrapper'>\r\n            <div className=\"delete-button\" onClick={handleDelete}>\r\n                <span>Delete</span>\r\n            </div >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeleteButton\r\n","import React, { useState } from 'react'\r\nimport SettingsForm from '../SettingsForm'\r\nimport DeleteButton from '../SettingsForm/deleteButton'\r\n\r\nconst ThirdParty = ({ login }) => {\r\n    const [setting, setSetting] = useState('general')\r\n    let information\r\n\r\n    if (setting) {\r\n        switch (setting) {\r\n            case 'general':\r\n                information = <SettingsForm user={login} />\r\n                break;\r\n            case 'delete':\r\n                information = <DeleteButton user={login} />\r\n                break;\r\n            default:\r\n                information = <SettingsForm user={login} />\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"content-wrapper-settings\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"settings\">\r\n\r\n                    <div className=\"user-settings wrap\">\r\n                        <div className=\"align \" >\r\n\r\n                            <h2>User Settings</h2>\r\n                            <ul>\r\n                            <li onClick={() => setSetting('general')}>\r\n                                    General\r\n                  </li>\r\n                                <li onClick={() => setSetting('delete')}>\r\n                                    Delete account\r\n                  </li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        information\r\n                    }\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ThirdParty\r\n","import React from 'react'\r\nimport { Formik, Field, Form } from 'formik'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\n\r\nimport { changePassword } from '../../reducers/userReducer'\r\nimport { changeNotification } from '../../reducers/notificationReducer'\r\n\r\n/**\r\n * The form for password change and the validation for it.\r\n * @param {*} user user who's password is to be changed. \r\n */\r\nconst ChangePasswordForm = ({ user }) => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = (data) => {\r\n    if (user) {\r\n      dispatch(changePassword(user.username, data)).then(() => {\r\n        setTimeout(() => {\r\n        }, 5000)\r\n        history.go(0)\r\n      }\r\n      )\r\n      dispatch(changeNotification({title:'Done', message: 'You\\'r password has been changed!'}))\r\n    }\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    oldPassword: yup.string().required('Required'),\r\n    newPassword: yup.string()\r\n      .required('Password required')\r\n      .min(10, 'Password must be atleast 10 characters long'),\r\n    newPasswordAgain: yup.string()\r\n      .required('Password required')\r\n      .oneOf([yup.ref('newPassword')], 'Passwords must match'),\r\n  })\r\n\r\n  return (\r\n    <div className=\"change-password wrap\">\r\n      <div className=\"align \" >\r\n        <Formik\r\n          validateOnChange={true}\r\n          initialValues={{ oldPassword: '', newPassword: '', newPasswordAgain: '' }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={(data, { setSubmitting, resetForm }) => {\r\n            setSubmitting(true)\r\n            handleSubmit(data)\r\n            setSubmitting(false)\r\n            resetForm()\r\n\r\n          }}\r\n        >\r\n          {({ values, errors, isSubmitting }) => (\r\n            <Form className=\"form\">\r\n              <label htmlFor=\"oldPassword\">Old password</label><br />\r\n              <div>\r\n                <Field name='oldPassword' value={values.oldPassword} type='password' />\r\n              </div>\r\n              {errors.oldPassword ? <div className='form-error-message'>{errors.oldPassword}</div> : null}\r\n\r\n              <label htmlFor=\"newPassword\">New password</label><br />\r\n              <div>\r\n                <Field name='newPassword' value={values.newPassword} type='password' />\r\n              </div>\r\n              {errors.newPassword ? <div className='form-error-message'>{errors.newPassword}</div> : null}\r\n\r\n              <label htmlFor=\"newPasswordAgain\">New password again</label><br />\r\n              <div>\r\n                <Field type=\"password\" name='newPasswordAgain' value={values.newPasswordAgain} />\r\n              </div>\r\n              {errors.newPasswordAgain ? <div className='form-error-message'>{errors.newPasswordAgain}</div> : null}\r\n\r\n              <button disabled={isSubmitting} type=\"submit\" className=\"-submit\" >Change password</button>\r\n\r\n            </Form>\r\n          )}</Formik >\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChangePasswordForm\r\n","import React from 'react'\r\nimport { Formik, Field, Form, FieldArray } from 'formik'\r\nimport { useDispatch } from 'react-redux'\r\nimport * as yup from 'yup'\r\nimport '../../scss/deleteButton.scss'\r\nimport { updatePlace, deletePlace } from '../../reducers/placeReducer'\r\n\r\n/**\r\n * Form for admins to add a place.s\r\n */\r\nconst PlaceForm = ({ place }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = async (data) => {\r\n        dispatch(updatePlace(data.id, data)).then(() => {\r\n            // history.go(0)\r\n            console.log('Place update onnistu')\r\n\r\n        })\r\n\r\n    }\r\n\r\n    const handleDelete = (e) => {\r\n            e.preventDefault()\r\n    \r\n            if (window.confirm('Are you sure you wish to delete this place?'))\r\n                dispatch(deletePlace(place?.id))\r\n    \r\n    }\r\n\r\n    const lazy = yup.lazy(value => {\r\n        switch (value) {\r\n            case 'Closed':\r\n                return yup.string().required()\r\n            default:\r\n                return yup.string().matches(/\\d\\d:\\d\\d/, 'The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.')\r\n        }\r\n    })\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup.string()\r\n            .required('Name is required.'),\r\n        description: yup.string().required().min(10, 'The description should be atleast 10 characters.').max(350, 'The description should be max 350 characters.'),\r\n        openingHours: yup.object({\r\n            mon: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            tue: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            wed: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            thu: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            fri: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sat: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sun: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            })\r\n        }),\r\n        prices: yup.array().of(\r\n            yup.object().shape({\r\n                name: yup.string().min(4, 'Name must be atleast 4 chararcters.').required(),\r\n                onetime: yup.number().required().min(0),\r\n                tentime: yup.number().required().min(0),\r\n                month: yup.number().required().min(0),\r\n            })\r\n        ),\r\n        address: yup.string().min(20).required(),\r\n        city: yup.string().required(),\r\n        phone: yup.string().min(10).required(),\r\n        email: yup.string().email().required(),\r\n        url: yup.string().url().required(),\r\n        tags: yup.array().of(yup.string().min(3, 'The tag should be atleast 3 characters.'))\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div >\r\n                <div className=\"delete-button-small\" onClick={handleDelete}>\r\n                    <span>Delete</span>\r\n                </div >\r\n            </div>\r\n            <Formik\r\n                validateOnChange={true}\r\n                validationSchema={validationSchema}\r\n                initialValues={place}\r\n                enableReinitialize={true}\r\n                onSubmit={(values, { setSubmitting }) => {\r\n                    setSubmitting(true)\r\n                    handleSubmit(values)\r\n                    setSubmitting(false)\r\n                }}\r\n            >\r\n                {({ errors, values, isSubmitting, handleChange, setFieldValue }) => (\r\n\r\n                    <Form action=\"\" className=\"account-settings-form form\">\r\n\r\n                        <label htmlFor=\"Name\">Name</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='name' value={values.name} type='input' />\r\n                        </div>\r\n                        {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n                        <label htmlFor=\"description\">Description</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='description' value={values.description} component='textarea' multiline='true' rows={3} />\r\n                        </div>\r\n                        {errors.description ? <div className='form-error-message'>{errors.description}</div> : null}\r\n\r\n                        {/* <label htmlFor=\"file\">Image</label><br />\r\n                    <div>\r\n                        <input id=\"file\" name=\"file\" type=\"file\" onChange={(event) => {\r\n                            setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                        }} />\r\n                    </div> */}\r\n\r\n                        <h4>Opening hours</h4>\r\n\r\n                        <label htmlFor=\"openingHours.mon.open openingHours.mon.close\">Monday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} value={values.openingHours.mon.open} name='openingHours.mon.open' /> - <Field onChange={handleChange} name='openingHours.mon.close' value={values.openingHours.mon.close} />\r\n                            {(errors?.openingHours?.mon?.open) ? <div className='form-error-message'>{errors.openingHours.mon.open}</div> : null}\r\n                            {(errors?.openingHours?.mon?.close) ? <div className='form-error-message'>{errors.openingHours.mon.close}</div> : null}\r\n\r\n                        </div>\r\n\r\n                        <label htmlFor=\"openingHours.tue.open openingHours.tue.close\">Tuesday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='openingHours.tue.open' value={values.openingHours.tue.open} type='input' /> - <Field onChange={handleChange} name='openingHours.tue.close' value={values.openingHours.tue.close} type='input' />\r\n                            {(errors?.openingHours?.tue?.open) ? <div className='form-error-message'>{errors.openingHours.tue.open}</div> : null}\r\n                            {(errors?.openingHours?.tue?.close) ? <div className='form-error-message'>{errors.openingHours.tue.close}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"openingHours.wed.close openingHours.wed.close\">Wednesday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.open} type='input' /> - <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.close} type='input' />\r\n                            {(errors?.openingHours?.wed?.open) ? <div className='form-error-message'>{errors.openingHours.wed.open}</div> : null}\r\n                            {(errors?.openingHours?.wed?.close) ? <div className='form-error-message'>{errors.openingHours.wed.close}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"openingHours.thu.open openingHours.thu.close\">Thursday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='openingHours.thu.open' value={values.openingHours.thu.open} type='input' /> - <Field onChange={handleChange} name='openingHours.thu.close' value={values.openingHours.thu.close} type='input' />\r\n                            {(errors?.openingHours?.thu?.open) ? <div className='form-error-message'>{errors.openingHours.thu.open}</div> : null}\r\n                            {(errors?.openingHours?.thu?.close) ? <div className='form-error-message'>{errors.openingHours.thu.close}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"openingHours.fri.open openingHours.fri.close\">Friday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='openingHours.fri.open' value={values.openingHours.fri.open} type='input' /> - <Field onChange={handleChange} name='openingHours.fri.close' value={values.openingHours.fri.close} type='input' />\r\n                            {(errors?.openingHours?.fri?.open) ? <div className='form-error-message'>{errors.openingHours.fri.open}</div> : null}\r\n                            {(errors?.openingHours?.fri?.close) ? <div className='form-error-message'>{errors.openingHours.fri.close}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"openingHours.sat.open openingHours.sat.close\">Saturday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='openingHours.sat.open' value={values.openingHours.sat.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sat.close' value={values.openingHours.sat.close} type='input' />\r\n                            {(errors?.openingHours?.sat?.open) ? <div className='form-error-message'>{errors.openingHours.sat.open}</div> : null}\r\n                            {(errors?.openingHours?.sat?.close) ? <div className='form-error-message'>{errors.openingHours.sat.close}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"openingHours.sun.open openingHours.sun.close\">Sunday</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='openingHours.sun.open' value={values.openingHours.sun.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sun.close' value={values.openingHours.sun.close} type='input' />\r\n                            {(errors?.openingHours?.sun?.open) ? <div className='form-error-message'>{errors.openingHours.sun.open}</div> : null}\r\n                            {(errors?.openingHours?.sun?.close) ? <div className='form-error-message'>{errors.openingHours.sun.close}</div> : null}\r\n                        </div>\r\n\r\n                        <FieldArray name='prices'>\r\n                            {arrayHelpers => (\r\n                                <div>\r\n                                    <h4>Pricing</h4>\r\n\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"submit\"\r\n                                        onClick={() => arrayHelpers.push({ name: '', onetime: '', tentime: '', month: '' })}\r\n                                    >Add</button>\r\n                                    {values.prices.map((price, index) => {\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                <label htmlFor={`prices[${index}].name`}>Name</label><br />\r\n                                                <Field onChange={handleChange} name={`prices[${index}].name`} /><br />\r\n                                                {errors?.prices && errors?.prices[index]?.name ? <div className='form-error-message'>{errors.prices[index].name}</div> : null}\r\n\r\n                                                <label htmlFor={`prices[${index}].onetime`}>1x </label><br />\r\n                                                <Field onChange={handleChange} name={`prices[${index}].onetime`} type=\"number\" /><br />\r\n                                                {errors?.prices && errors?.prices[index]?.onetime ? <div className='form-error-message'>{errors.prices[index].onetime}</div> : null}\r\n\r\n                                                <label htmlFor={`prices[${index}].tentime`}>10x </label><br />\r\n                                                <Field onChange={handleChange} name={`prices[${index}].tentime`} type=\"number\" /><br />\r\n                                                {errors?.prices && errors?.prices[index]?.tentime ? <div className='form-error-message'>{errors.prices[index].tentime}</div> : null}\r\n\r\n                                                <label htmlFor={`prices[${index}].month`}>Month </label><br />\r\n                                                <Field onChange={handleChange} name={`prices[${index}].month`} type=\"number\" /><br />\r\n                                                {errors?.prices && errors?.prices[index]?.month ? <div className='form-error-message'>{errors.prices[index].month}</div> : null}\r\n\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    className=\"submit\"\r\n                                                    onClick={() => arrayHelpers.remove(index)}\r\n                                                >remove</button> <br />\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n                        </FieldArray>\r\n\r\n                        <h4>\r\n                            Info\r\n                    </h4>\r\n\r\n                        <label htmlFor=\"address\">Address</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='address' value={values.address} type='input' />\r\n                            {errors.address ? <div className='form-error-message'>{errors.address}</div> : null}\r\n\r\n                        </div>\r\n\r\n                        <label htmlFor=\"city\">City</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='city' value={values.city} type='input' />\r\n                            {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"phone\">Phone</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='phone' value={values.phone} type='input' />\r\n                            {errors.phone ? <div className='form-error-message'>{errors.phone}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"email\">Email</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='email' value={values.email} type='input' />\r\n                            {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n                        </div>\r\n\r\n                        <label htmlFor=\"url\">Url</label><br />\r\n                        <div>\r\n                            <Field onChange={handleChange} name='url' value={values.url} type='input' />\r\n                            {errors.url ? <div className='form-error-message'>{errors.url}</div> : null}\r\n                        </div>\r\n\r\n                        <FieldArray name='tags'>\r\n                            {arrayHelpers => (\r\n                                <div>\r\n                                    <label htmlFor=\"tags\">Tags</label>\r\n                                    <button className=\"submit\" type=\"button\" onClick={() => arrayHelpers.push('')}>\r\n                                        add\r\n                            </button> <br />\r\n                                    {values.tags.map((tag, index) => {\r\n                                        const name = `tags.${index}`\r\n                                        const tagError = `errors.tags.${name}`\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                <Field onChange={handleChange} name={name} />\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    className=\"submit\"\r\n                                                    onClick={() => arrayHelpers.remove(index)}\r\n                                                >remove</button>\r\n                                                {errors?.tags && tagError ? <div className='form-error-message'>{errors.tags[index]}</div> : null}\r\n\r\n\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n                        </FieldArray>\r\n                        <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Save</button>\r\n                    </Form>\r\n                )\r\n                }</Formik >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlaceForm\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PlaceForm from './index'\r\n\r\nconst ListItem = ({ place }) => {\r\n    const [open, setOpen] = useState(false)\r\n    const places = useSelector(state => state.places)\r\n\r\n    if (!places) return null\r\n\r\n    return (\r\n        <li>\r\n            <h2 onClick={() => setOpen(!open)}>{place.name}</h2>\r\n            {open ?\r\n                (<PlaceForm place={place} />) :\r\n                null\r\n            }\r\n\r\n        </li>\r\n\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport ListItem from './listItem'\r\n\r\nconst ListComp = ({ place }) => {\r\n\r\n    const places = useSelector(state => state.places)\r\n\r\n    if (!places) return null\r\n\r\n    const sortedPlaces = places.sort(place => place.name)\r\n\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {sortedPlaces.map(place => (\r\n                    <ListItem key={place.id} place={place} />\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListComp\r\n","import React from 'react'\r\nimport { Formik, Field, Form, FieldArray } from 'formik'\r\nimport { useDispatch} from 'react-redux'\r\nimport * as yup from 'yup'\r\nimport { addPlace } from '../../reducers/placeReducer'\r\n\r\n/**\r\n * Form for admins to add a place.s\r\n */\r\nconst PlaceAddForm = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = async (data) => {\r\n        dispatch(addPlace(data)).then(() => {\r\n            // history.go(0)\r\n            console.log('Place update onnistu')\r\n\r\n        })\r\n    }\r\n\r\n    const lazy = yup.lazy(value => {\r\n        switch (value) {\r\n            case 'Closed':\r\n                return yup.string().required()\r\n            default:\r\n                return yup.string().matches(/\\d\\d:\\d\\d/, 'The opening hour should be in the format of => ##:## or Closed (if the place is closed for the day.')\r\n        }\r\n    })\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup.string()\r\n            .required('Name is required.'),\r\n        description: yup.string().required().min(10, 'The description should be atleast 10 characters.').max(350, 'The description should be max 350 characters.'),\r\n        openingHours: yup.object({\r\n            mon: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            tue: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            wed: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            thu: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            fri: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sat: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            }),\r\n            sun: yup.object({\r\n                open: lazy,\r\n                close: lazy\r\n            })\r\n        }),\r\n        prices: yup.array().of(\r\n            yup.object().shape({\r\n                name: yup.string().min(4, 'Name must be atleast 4 chararcters.').required(),\r\n                onetime: yup.number().required().min(0),\r\n                tentime: yup.number().required().min(0),\r\n                month: yup.number().required().min(0),\r\n            })\r\n        ),\r\n        address: yup.string().min(20).required(),\r\n        city: yup.string().required(),\r\n        phone: yup.string().min(10).required(),\r\n        email: yup.string().email().required(),\r\n        url: yup.string().url().required(),\r\n        tags: yup.array().of(yup.string().min(3, 'The tag should be atleast 3 characters.'))\r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <Formik\r\n            validateOnChange={true}\r\n            validationSchema={validationSchema}\r\n            initialValues={{\r\n                name: '',\r\n                description: '',\r\n                openingHours: {\r\n                    mon: { open: '10:00', close: '18:00' },\r\n                    tue: { open: '10:00', close: '18:00' },\r\n                    wed: { open: '10:00', close: '18:00' },\r\n                    thu: { open: '10:00', close: '18:00' },\r\n                    fri: { open: '10:00', close: '18:00' },\r\n                    sat: { open: '10:00', close: '18:00' },\r\n                    sun: { open: '10:00', close: '18:00' },\r\n                },\r\n                prices: [\r\n                    {\r\n                        name: 'Alle 15v',\r\n                        onetime: 0,\r\n                        tentime: 0,\r\n                        month: 0\r\n                    }\r\n                ],\r\n                address: '',\r\n                city: '',\r\n                phone: '',\r\n                email: '',\r\n                url: '',\r\n                tags: ['']\r\n            }}\r\n            enableReinitialize={true}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n                setSubmitting(true)\r\n                handleSubmit(values)\r\n                setSubmitting(false)\r\n            }}\r\n        >\r\n            {({ errors, values, isSubmitting, handleChange, setFieldValue }) => (\r\n\r\n                <Form action=\"\" className=\"account-settings-form form\">\r\n\r\n                    <label htmlFor=\"Name\">Name</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='name' value={values.name} type='input' />\r\n                    </div>\r\n                    {errors.name ? <div className='form-error-message'>{errors.name}</div> : null}\r\n\r\n                    <label htmlFor=\"description\">Description</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='description' value={values.description} component='textarea' multiline='true' rows={3} />\r\n                    </div>\r\n                    {errors.description ? <div className='form-error-message'>{errors.description}</div> : null}\r\n\r\n                    {/* <label htmlFor=\"file\">Image</label><br />\r\n                    <div>\r\n                        <input id=\"file\" name=\"file\" type=\"file\" onChange={(event) => {\r\n                            setFieldValue(\"file\", event.currentTarget.files[0]);\r\n                        }} />\r\n                    </div> */}\r\n\r\n                    <h4>Opening hours</h4>\r\n\r\n                    <label htmlFor=\"openingHours.mon.open openingHours.mon.close\">Monday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} value={values.openingHours.mon.open} name='openingHours.mon.open' /> - <Field onChange={handleChange} name='openingHours.mon.close' value={values.openingHours.mon.close} />\r\n                        {(errors?.openingHours?.mon?.open) ? <div className='form-error-message'>{errors.openingHours.mon.open}</div> : null}\r\n                        {(errors?.openingHours?.mon?.close) ? <div className='form-error-message'>{errors.openingHours.mon.close}</div> : null}\r\n\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.tue.open openingHours.tue.close\">Tuesday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.tue.open' value={values.openingHours.tue.open} type='input' /> - <Field onChange={handleChange} name='openingHours.tue.close' value={values.openingHours.tue.close} type='input' />\r\n                        {(errors?.openingHours?.tue?.open) ? <div className='form-error-message'>{errors.openingHours.tue.open}</div> : null}\r\n                        {(errors?.openingHours?.tue?.close) ? <div className='form-error-message'>{errors.openingHours.tue.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.wed.close openingHours.wed.close\">Wednesday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.open} type='input' /> - <Field onChange={handleChange} name='openingHours.wed.close' value={values.openingHours.wed.close} type='input' />\r\n                        {(errors?.openingHours?.wed?.open) ? <div className='form-error-message'>{errors.openingHours.wed.open}</div> : null}\r\n                        {(errors?.openingHours?.wed?.close) ? <div className='form-error-message'>{errors.openingHours.wed.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.thu.open openingHours.thu.close\">Thursday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.thu.open' value={values.openingHours.thu.open} type='input' /> - <Field onChange={handleChange} name='openingHours.thu.close' value={values.openingHours.thu.close} type='input' />\r\n                        {(errors?.openingHours?.thu?.open) ? <div className='form-error-message'>{errors.openingHours.thu.open}</div> : null}\r\n                        {(errors?.openingHours?.thu?.close) ? <div className='form-error-message'>{errors.openingHours.thu.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.fri.open openingHours.fri.close\">Friday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.fri.open' value={values.openingHours.fri.open} type='input' /> - <Field onChange={handleChange} name='openingHours.fri.close' value={values.openingHours.fri.close} type='input' />\r\n                        {(errors?.openingHours?.fri?.open) ? <div className='form-error-message'>{errors.openingHours.fri.open}</div> : null}\r\n                        {(errors?.openingHours?.fri?.close) ? <div className='form-error-message'>{errors.openingHours.fri.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.sat.open openingHours.sat.close\">Saturday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.sat.open' value={values.openingHours.sat.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sat.close' value={values.openingHours.sat.close} type='input' />\r\n                        {(errors?.openingHours?.sat?.open) ? <div className='form-error-message'>{errors.openingHours.sat.open}</div> : null}\r\n                        {(errors?.openingHours?.sat?.close) ? <div className='form-error-message'>{errors.openingHours.sat.close}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"openingHours.sun.open openingHours.sun.close\">Sunday</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='openingHours.sun.open' value={values.openingHours.sun.open} type='input' /> - <Field onChange={handleChange} name='openingHours.sun.close' value={values.openingHours.sun.close} type='input' />\r\n                        {(errors?.openingHours?.sun?.open) ? <div className='form-error-message'>{errors.openingHours.sun.open}</div> : null}\r\n                        {(errors?.openingHours?.sun?.close) ? <div className='form-error-message'>{errors.openingHours.sun.close}</div> : null}\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    <FieldArray name='prices'>\r\n                        {arrayHelpers => (\r\n                            <div>\r\n                                <h4>Pricing</h4>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"submit\"\r\n                                    onClick={() => arrayHelpers.push({ name: '', onetime: '', tentime: '', month: '' })}\r\n                                >Add</button>\r\n                                {values.prices.map((price, index) => {\r\n                                    return (\r\n                                        <div key={index}>\r\n                                            <label htmlFor={`prices[${index}].name`}>Name</label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].name`} /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.name ? <div className='form-error-message'>{errors.prices[index].name}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].onetime`}>1x </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].onetime`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.onetime ? <div className='form-error-message'>{errors.prices[index].onetime}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].tentime`}>10x </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].tentime`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.tentime ? <div className='form-error-message'>{errors.prices[index].tentime}</div> : null}\r\n\r\n                                            <label htmlFor={`prices[${index}].month`}>Month </label><br />\r\n                                            <Field onChange={handleChange} name={`prices[${index}].month`} type=\"number\" /><br />\r\n                                            {errors?.prices && errors?.prices[index]?.month ? <div className='form-error-message'>{errors.prices[index].month}</div> : null}\r\n\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"submit\"\r\n                                                onClick={() => arrayHelpers.remove(index)}\r\n                                            >remove</button> <br />\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </FieldArray>\r\n\r\n                    <h4>\r\n                        Info\r\n                    </h4>\r\n\r\n                    <label htmlFor=\"address\">Address</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='address' value={values.address} type='input' />\r\n                        {errors.address ? <div className='form-error-message'>{errors.address}</div> : null}\r\n\r\n                    </div>\r\n\r\n                    <label htmlFor=\"city\">City</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='city' value={values.city} type='input' />\r\n                        {errors.city ? <div className='form-error-message'>{errors.city}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"phone\">Phone</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='phone' value={values.phone} type='input' />\r\n                        {errors.phone ? <div className='form-error-message'>{errors.phone}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"email\">Email</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='email' value={values.email} type='input' />\r\n                        {errors.email ? <div className='form-error-message'>{errors.email}</div> : null}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"url\">Url</label><br />\r\n                    <div>\r\n                        <Field onChange={handleChange} name='url' value={values.url} type='input' />\r\n                        {errors.url ? <div className='form-error-message'>{errors.url}</div> : null}\r\n                    </div>\r\n\r\n                    <FieldArray name='tags'>\r\n                        {arrayHelpers => (\r\n                            <div>\r\n                                <label htmlFor=\"tags\">Tags</label>\r\n                                <button className=\"submit\" type=\"button\" onClick={() => arrayHelpers.push('')}>\r\n                                    add\r\n                            </button> <br />\r\n\r\n                                {values.tags.map((tag, index) => {\r\n                                    const name = `tags.${index}`\r\n                                    const tagError = `errors.tags.${name}`\r\n                                    return (\r\n                                        <div key={index}>\r\n                                            <Field onChange={handleChange} name={name} />\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"submit\"\r\n                                                onClick={() => arrayHelpers.remove(index)}\r\n                                            >remove</button>\r\n                                            {errors?.tags && tagError ? <div className='form-error-message'>{errors.tags[index]}</div> : null}\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n\r\n                            </div>\r\n                        )}\r\n                    </FieldArray>\r\n\r\n                    <button disabled={isSubmitting} type=\"submit\" className=\"submit\" >Save</button>\r\n\r\n                </Form>\r\n            )\r\n            }</Formik >\r\n    )\r\n}\r\n\r\nexport default PlaceAddForm\r\n","import React, { useState } from 'react'\r\nimport SettingsForm from '../SettingsForm'\r\nimport ChangePasswordForm from '../ChangePasswordForm'\r\nimport ListComp from '../PlaceForm/listComp'\r\nimport DeleteButton from '../SettingsForm/deleteButton'\r\nimport PlaceAddForm from '../PlaceForm/placeAddForm'\r\n\r\nconst Admin = ({ login }) => {\r\n    const [setting, setSetting] = useState('general')\r\n\r\n    let information\r\n\r\n    if (setting) {\r\n        switch (setting) {\r\n            case 'general':\r\n                information = <SettingsForm user={login} />\r\n                break;\r\n            case 'changePass':\r\n                information = <ChangePasswordForm user={login} />\r\n                break;\r\n            case 'places':\r\n                information = <ListComp />\r\n                break;\r\n            case 'addPlace':\r\n                information = <PlaceAddForm />\r\n                break;\r\n            case 'delete':\r\n                information = <DeleteButton user={login} />\r\n                break;\r\n            default:\r\n                information = <SettingsForm user={login} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"content-wrapper-settings\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"settings\">\r\n\r\n                    <div className=\"user-settings wrap\">\r\n                        <div className=\"align \" >\r\n\r\n                            <h2>User Settings</h2>\r\n                            <ul>\r\n                                <li onClick={() => setSetting('general')}>\r\n                                    General\r\n                  </li>\r\n                                <li onClick={() => setSetting('changePass')}>\r\n                                    Change password\r\n                  </li>\r\n                                <li onClick={() => setSetting('places')}>\r\n                                    Place control\r\n                  </li>\r\n                                <li onClick={() => setSetting('addPlace')}>\r\n                                    Add a place\r\n                  </li>\r\n                                <li onClick={() => setSetting('delete')}>\r\n                                    Delete account\r\n                  </li>\r\n\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {information}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Admin\r\n","import React, { useState } from 'react'\r\nimport SettingsForm from '../SettingsForm'\r\nimport ChangePasswordForm from '../ChangePasswordForm'\r\nimport DeleteButton from '../SettingsForm/deleteButton'\r\n\r\nconst OnSite = ({ login }) => {\r\n    const [setting, setSetting] = useState('general')\r\n    let information\r\n\r\n    if (setting) {\r\n        switch (setting) {\r\n            case 'general':\r\n                information = <SettingsForm user={login} />\r\n                break;\r\n            case 'changePass':\r\n                information = <ChangePasswordForm user={login} />\r\n                break;\r\n            case 'delete':\r\n                information = <DeleteButton user={login} />\r\n                break;\r\n            default:\r\n                information = <SettingsForm user={login} />\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"content-wrapper-settings\">\r\n            <div className=\"wrapper\">\r\n                <div className=\"settings\">\r\n\r\n                    <div className=\"user-settings wrap\">\r\n                        <div className=\"align \" >\r\n\r\n                            <h2>User Settings</h2>\r\n                            <ul>\r\n                                <li onClick={() => setSetting('general')}>\r\n                                    General\r\n                  </li>\r\n                                <li onClick={() => setSetting('changePass')}>\r\n                                    Change password\r\n                  </li>\r\n                                <li onClick={() => setSetting('delete')}>\r\n                                    Delete account\r\n                  </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        information\r\n                    }\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default OnSite\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport '../../scss/user-settings.scss'\r\nimport NavHeader from '../NavHeader'\r\nimport Footer from '../Footer'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\n\r\nimport ThirdParty from './thirdParty'\r\nimport Admin from './admin'\r\nimport OnSite from './onSite'\r\n\r\n\r\nconst UserSettings = (params) => {\r\n  const history = useHistory()\r\n\r\n  const user = params.location.user\r\n  const login = useSelector(state => state.session)\r\n\r\n\r\n  if (!user) {\r\n    history.push('/')\r\n  }\r\n\r\n\r\n  let information\r\n  // const handleUpload = (event) => {\r\n  //   event.preventDefault()\r\n\r\n  //   if (event.target.files[0]) {\r\n  //     dispatch(uploadAvatar(event.target.files[0]))\r\n  //   }\r\n  // }\r\n  if (login) {\r\n    switch (login.type) {\r\n      case 'AdminUser':\r\n        information = <Admin login={login} />\r\n        break;\r\n      case 'ThirdPartyUser':\r\n        information = <ThirdParty login={login} />\r\n        break;\r\n      default:\r\n        information = <OnSite login={login} />\r\n    }\r\n  }\r\n\r\n  const addDefaultSrc = (e) => {\r\n    e.target.src = `${login.avatar}`\r\n  }\r\n  return (\r\n    <div>\r\n      <NavHeader />\r\n      {\r\n        !login ?\r\n          <h1 style={{ textAlign: 'center' }}>You are not logged in. You can go log in by pressing the Login button in the NavBar</h1> :\r\n          <>\r\n            <section className=\"hero-wrapper\">\r\n              <div className=\"wrapper\">\r\n                <div className=\"hero-content\">\r\n                  <img onError={addDefaultSrc} src={`../${login.avatar}`} alt=\"\" />\r\n                  {/* <input type='file' onChange={handleUpload} /> */}\r\n                  <div className=\"user-text\">\r\n                    <h2>{login.name}</h2>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n            {information}\r\n          </>\r\n\r\n      }\r\n\r\n\r\n      <Footer />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default UserSettings\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { clearNotification } from '../../reducers/notificationReducer'\r\nimport '../../scss/notification.scss'\r\n\r\nconst NotificationItem = (note) => {\r\n  const [width, setWidth] = useState(0);\r\n  const [exit, setExit] = useState(false);\r\n  const [intervalID, setIntervalID] = useState(null);\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (width === 100) {\r\n      // Close notification\r\n      handleCloseNotification()\r\n    }\r\n  }, [width])\r\n\r\n  useEffect(() => {\r\n    handleStartTimer();\r\n  }, []);\r\n\r\n  const handleStartTimer = () => {\r\n    const id = setInterval(() => {\r\n      setWidth(prev => {\r\n        if (prev < 100) {\r\n          return prev + 1.0;\r\n        }\r\n        clearInterval(id);\r\n        return prev;\r\n      });\r\n    }, 20);\r\n\r\n    setIntervalID(id);\r\n  };\r\n\r\n  const handlePauseTimer = () => {\r\n    clearInterval(intervalID);\r\n  };\r\n\r\n  const handleCloseNotification = () => {\r\n    handlePauseTimer();\r\n    setExit(true);\r\n\r\n    setTimeout(() => {\r\n      dispatch(clearNotification(note.note.id))\r\n    }, note.note.time * 1000)\r\n  };\r\n\r\n  return (\r\n    <div onMouseEnter={handlePauseTimer}\r\n      onMouseLeave={handleStartTimer}\r\n      className={`notification ${note.note.type}  ${exit ? 'exit' : ''}`} >\r\n      {note.note.title ? <h3>{note.note.title}</h3> : null}\r\n      <p> {note.note.message} </p>\r\n      <div className={\"bar\"} style={{ width: `${width}%` }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotificationItem ","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport '../../scss/notification.scss'\r\nimport NotificationItem from './notificationItem'\r\n\r\n\r\n/**\r\n * Displays a notification with styles if the message is an error it uses error styles and if it's\r\n * a notification then it uses notification styles\r\n * @param {message} message is the message that tells what has happened.\r\n */\r\nconst Notification = () => {\r\n  const notification = useSelector(state => state.notification)\r\n\r\n  return (\r\n    <div className=\"notification-wrapper\">\r\n      {\r\n        notification.map((note) => (\r\n          <NotificationItem key={note.id} note={note} />\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport {\r\n  Switch, Route\r\n} from 'react-router-dom'\r\n\r\n\r\nimport HomePage from './components/HomePage'\r\n\r\nimport ChosenPlace from './components/ChosenPlace'\r\nimport { initializePlaces } from './reducers/placeReducer'\r\n\r\nimport { auth } from './firebase'\r\n\r\nimport Register from './components/Register'\r\nimport ResetPassword from './components/ResetPassword'\r\nimport ForgotPassword from './components/ForgotPassword';\r\nimport UserSettings from './components/UserSettings';\r\n\r\nimport { googleLoginUser } from './reducers/loginReducer'\r\nimport Notification from './components/Notification'\r\nimport {changeNotification} from './reducers/notificationReducer'\r\n\r\nimport { getUser } from './reducers/loginReducer'\r\nimport Modal from './components/Modal';\r\n\r\n\r\n/**\r\n * Initializing the App => Places & Active user (Google or Onsite user)\r\n * Controller for site navigation\r\n */\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(initializePlaces())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    dispatch(getUser())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const unsubscribe = auth.onAuthStateChanged(async user => {\r\n        if (user) {\r\n          const id_token = await user.getIdToken()\r\n          if (!!id_token) {\r\n            dispatch(googleLoginUser(id_token))\r\n          }\r\n        }\r\n      })\r\n      return unsubscribe\r\n    } catch (err) {\r\n      dispatch(changeNotification({title:'Error', message: `Something went wrong when logging in: ${err.message}`}))\r\n    }\r\n  }, [dispatch])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Notification />\r\n      <Switch>\r\n        <Route exact path='/' component={HomePage} />\r\n        {/* <Route exact path='/upload' component={ImageForm} /> */}\r\n        <Route exact path='/gym/:place_name' component={ChosenPlace} />\r\n        {/* <Route path='/comments' component={CommentForm} /> */}\r\n        <Route path='/login' component={Modal} />\r\n        <Route exact path='/register' component={Register} />\r\n        <Route exact path='/reset_password' component={ResetPassword} />\r\n        <Route exact path='/forgot' component={ForgotPassword} />\r\n        <Route exact path='/:username/settings' component={UserSettings} />\r\n        {/* <Route exact path='/:username' component={UserPage} /> */}\r\n\r\n\r\n        {/* <Route path='/nav' component={NavHeader} />\r\n\r\n        <Route path='/footer' component={Footer} /> */}\r\n\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { createStore, combineReducers, applyMiddleware  } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport placeReducer from './reducers/placeReducer.js'\r\nimport commentReducer from './reducers/commentReducer.js'\r\nimport userReducer from './reducers/userReducer.js'\r\nimport loginReducer from './reducers/loginReducer.js'\r\nimport notificationReducer from './reducers/notificationReducer.js'\r\n\r\n\r\n/**\r\n * Reducer for all stores\r\n * Places holds the places in the database\r\n * Comments holds the comments of a place\r\n * Session holds the active users info\r\n * Notification holds the notifications that are active\r\n * User holds the user that is being watched\r\n */\r\nconst reducer = combineReducers({\r\n  places: placeReducer,\r\n  comments: commentReducer,\r\n  session: loginReducer,\r\n  notification: notificationReducer,\r\n  user: userReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport './index.scss';\r\nimport App from './App';\r\nimport store from './store'\r\n\r\n/**\r\n * Redux store provider for the app\r\n */\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store} >\r\n      <App />\r\n    </Provider>\r\n  </Router>\r\n  , document.getElementById('root')\r\n);"],"sourceRoot":""}